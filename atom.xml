<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>HacpğŸ¥</title>
  
  
  <link href="https://www.fomal.cc/atom.xml" rel="self"/>
  
  <link href="https://www.fomal.cc/"/>
  <updated>2024-05-10T14:19:03.000Z</updated>
  <id>https://www.fomal.cc/</id>
  
  <author>
    <name>HacpğŸ¥</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>æ’åºç®—æ³•</title>
    <link href="https://www.fomal.cc/posts/6.html"/>
    <id>https://www.fomal.cc/posts/6.html</id>
    <published>2024-05-10T14:19:03.000Z</published>
    <updated>2024-05-10T14:19:03.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="1-å†’æ³¡æ’åº">1.å†’æ³¡æ’åº</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function bubbleSort(arr) &#123;</span><br><span class="line">    let len = arr.length;</span><br><span class="line">    for (let i = 0; i &lt; len - 1; i++) &#123;</span><br><span class="line">        for (let j = 0; j &lt; len - 1 - i; j++) &#123;</span><br><span class="line">            if (arr[j] &gt; arr[j + 1]) &#123;        // ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”</span><br><span class="line">                [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-æ’å…¥æ’åº">2.æ’å…¥æ’åº</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function insertionSort(arr) &#123;</span><br><span class="line">    let len = arr.length;</span><br><span class="line">    let preIndex, current;</span><br><span class="line">    for (let i = 1; i &lt; len; i++) &#123;</span><br><span class="line">        preIndex = i - 1;</span><br><span class="line">        current = arr[i];</span><br><span class="line">        while (preIndex &gt;= 0 &amp;&amp; arr[preIndex] &gt; current) &#123;</span><br><span class="line">            arr[preIndex + 1] = arr[preIndex];</span><br><span class="line">            preIndex--;</span><br><span class="line">        &#125;</span><br><span class="line">        arr[preIndex + 1] = current;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-é€‰æ‹©æ’åº">3.é€‰æ‹©æ’åº</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function selectionSort(arr) &#123;</span><br><span class="line">    let len = arr.length;</span><br><span class="line">    let minIndex, temp;</span><br><span class="line">    for (let i = 0; i &lt; len - 1; i++) &#123;</span><br><span class="line">        minIndex = i;</span><br><span class="line">        for (let j = i + 1; j &lt; len; j++) &#123;</span><br><span class="line">            if (arr[j] &lt; arr[minIndex]) &#123;</span><br><span class="line">                minIndex = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        temp = arr[i];</span><br><span class="line">        arr[i] = arr[minIndex];</span><br><span class="line">        arr[minIndex] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-å¿«é€Ÿæ’åº">4.å¿«é€Ÿæ’åº</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">function quickSort(arr, left, right) &#123;</span><br><span class="line">    let len = arr.length,</span><br><span class="line">        partitionIndex,</span><br><span class="line">        left = typeof left != &#x27;undefined&#x27; ? left : 0,</span><br><span class="line">        right = typeof right != &#x27;undefined&#x27; ? right : len - 1;</span><br><span class="line"> </span><br><span class="line">    if (left &lt; right) &#123;</span><br><span class="line">        partitionIndex = partition(arr, left, right);</span><br><span class="line"> </span><br><span class="line">        quickSort(arr, left, partitionIndex - 1);</span><br><span class="line">        quickSort(arr, partitionIndex + 1, right);</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">function partition(arr, left, right) &#123;</span><br><span class="line">    let pivot = arr[right],</span><br><span class="line">        partitionIndex = left;</span><br><span class="line"> </span><br><span class="line">    for (let i = left; i &lt; right; i++) &#123;</span><br><span class="line">        if (arr[i] &lt; pivot) &#123;</span><br><span class="line">            swap(arr, i, partitionIndex);</span><br><span class="line">            partitionIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    swap(arr, right, partitionIndex);</span><br><span class="line">    return partitionIndex;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">function swap(arr, i, j) &#123;</span><br><span class="line">    let temp = arr[i];</span><br><span class="line">    arr[i] = arr[j];</span><br><span class="line">    arr[j] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-å½’å¹¶æ’åº">5.å½’å¹¶æ’åº</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">function mergeSort(arr) &#123;</span><br><span class="line">    let len = arr.length;</span><br><span class="line">    if (len &lt; 2) &#123;</span><br><span class="line">        return arr;</span><br><span class="line">    &#125;</span><br><span class="line">    let middle = Math.floor(len / 2),</span><br><span class="line">        left = arr.slice(0, middle),</span><br><span class="line">        right = arr.slice(middle);</span><br><span class="line">    return merge(mergeSort(left), mergeSort(right));</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">function merge(left, right) &#123;</span><br><span class="line">    let result = [];</span><br><span class="line">    while (left.length &amp;&amp; right.length) &#123;</span><br><span class="line">        if (left[0] &lt;= right[0]) &#123;</span><br><span class="line">            result.push(left.shift());</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            result.push(right.shift());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    while (left.length)</span><br><span class="line">        result.push(left.shift());</span><br><span class="line">    while (right.length)</span><br><span class="line">        result.push(right.shift());</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-å †æ’åº">6.å †æ’åº</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">function heapSort(arr) &#123;</span><br><span class="line">    // å»ºå †</span><br><span class="line">    buildHeap(arr);</span><br><span class="line"></span><br><span class="line">    let len = arr.length;</span><br><span class="line">    let temp;</span><br><span class="line"></span><br><span class="line">    // å †è°ƒæ•´æ’åº</span><br><span class="line">    for (let i = len - 1; i &gt; 0; i--) &#123;</span><br><span class="line">        // å°†å½“å‰æœªæ’åºåºåˆ—ä¸­æœ€å¤§ï¼ˆæˆ–æœ€å°ï¼‰å…ƒç´ æ”¾åˆ°åºåˆ—çš„èµ·å§‹ä½ç½®</span><br><span class="line">        temp = arr[0];</span><br><span class="line">        arr[0] = arr[i];</span><br><span class="line">        arr[i] = temp;</span><br><span class="line"></span><br><span class="line">        // é‡æ–°å¯¹å‰©ä½™æœªæ’åºå…ƒç´ è¿›è¡Œæœ€å¤§å †è°ƒæ•´</span><br><span class="line">        heapify(arr, 0, i);</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å»ºå †</span><br><span class="line">function buildHeap(arr) &#123;</span><br><span class="line">    let len = arr.length;</span><br><span class="line">    // ä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹è°ƒæ•´</span><br><span class="line">    for (let i = Math.floor(len / 2) - 1; i &gt;= 0; i--) &#123;</span><br><span class="line">        heapify(arr, i, len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// å †è°ƒæ•´</span><br><span class="line">function heapify(arr, i, len) &#123;</span><br><span class="line">    let largest = i;</span><br><span class="line">    let left = 2 * i + 1;</span><br><span class="line">    let right = 2 * i + 2;</span><br><span class="line"></span><br><span class="line">    if (left &lt; len &amp;&amp; arr[left] &gt; arr[largest]) &#123;</span><br><span class="line">        largest = left;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (right &lt; len &amp;&amp; arr[right] &gt; arr[largest]) &#123;</span><br><span class="line">        largest = right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (largest != i) &#123;</span><br><span class="line">        let swap = arr[i];</span><br><span class="line">        arr[i] = arr[largest];</span><br><span class="line">        arr[largest] = swap;</span><br><span class="line"></span><br><span class="line">        // é€’å½’è°ƒæ•´å­æ ‘</span><br><span class="line">        heapify(arr, largest, len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">ğŸ¥§æ’åºç®—æ³•ä¸“é¢˜</summary>
    
    
    
    <category term="ä»£ç " scheme="https://www.fomal.cc/categories/%E4%BB%A3%E7%A0%81/"/>
    
    
    <category term="ä»£ç " scheme="https://www.fomal.cc/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>çˆ±å¿ƒ</title>
    <link href="https://www.fomal.cc/posts/5.html"/>
    <id>https://www.fomal.cc/posts/5.html</id>
    <published>2024-01-03T10:19:03.000Z</published>
    <updated>2024-01-03T10:19:03.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-å®ç°æ„æ€">1.å®ç°æ„æ€</h2><p>æœ€å¼€å§‹æƒ³ç”¨ç¼©å°å›¾ç‰‡ç„¶åä½¿ç”¨æ›²çº¿çš„æ–¹å¼éå†å¾ªç¯å½¢æˆçˆ±å¿ƒï¼Œå®é™…æµ‹è¯•ä¸‹æ¥ï¼Œæ€§èƒ½è€—æŸå¤ªå¤§ï¼Œä»¥è‡³äºå®ç°éš¾åº¦æ›´é«˜ï¼Œä½ç½®å’Œé€Ÿåº¦ä¸å¯æ§</p><p>æ€ç´¢è‰¯ä¹…åï¼Œè¿˜æ˜¯å†³å®šç”¨ç”»å¸ƒ</p><p>Particle å’Œ ParticlePool ç±»å®šä¹‰äº†ç²’å­å’Œç²’å­æ± ï¼Œç”¨äºç»˜åˆ¶å’Œç®¡ç†ç²’å­ã€‚</p><p>pointOnHeart å‡½æ•°è¿”å›ä¸€ä¸ªä½äºæ¡ƒå¿ƒæ›²çº¿ä¸Šçš„ç‚¹ï¼Œç”¨æ¥åˆå§‹åŒ–ç²’å­çš„ä½ç½®ã€‚</p><p>ç„¶åä½¿ç”¨ canvas ç»˜åˆ¶å°ç²’å­åˆ›é€ ä¸€ä¸ªå½¢çŠ¶ä¸ºæ¡ƒå¿ƒçš„åŠ¨æ€æ•ˆæœã€‚</p><p>ä»£ç ä¸­ render å‡½æ•°æ˜¯ä¸»è¦çš„æ¸²æŸ“å‡½æ•°ï¼Œç”¨äºæ›´æ–°ç²’å­çŠ¶æ€ã€ç»˜åˆ¶ç²’å­ä»¥åŠåˆ›å»ºæ–°çš„ç²’å­ã€‚</p><p>æœ€åé€šè¿‡å»¶è¿Ÿä¸€æ®µæ—¶é—´è°ƒç”¨ onResize å‡½æ•°ï¼Œè®¾ç½®ç”»å¸ƒå¤§å°å¹¶å¼€å§‹æ¸²æŸ“ã€‚</p><h2 id="2-å…ˆç¡®å®šé¡µé¢çš„å¸ƒå±€ï¼Œåˆ†ä¸ºå·¦å³å¸ƒå±€">2.å…ˆç¡®å®šé¡µé¢çš„å¸ƒå±€ï¼Œåˆ†ä¸ºå·¦å³å¸ƒå±€</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;mainDiv&quot;&gt;</span><br><span class="line">&lt;div id=&quot;content&quot;&gt;</span><br><span class="line">&lt;div id=&quot;code&quot;&gt;</span><br><span class="line">&lt;span class=&quot;comments&quot;&gt;äººç”Ÿè‡³å°‘è¯¥æœ‰ä¸€æ¬¡&lt;/span&gt;&lt;br /&gt;</span><br><span class="line">&lt;span class=&quot;comments&quot;&gt;ä¸ºäº†æŸä¸€ä¸ªäººè€Œå¿˜äº†è‡ªå·±&lt;/span&gt;&lt;br /&gt;</span><br><span class="line">&lt;span class=&quot;keyword&quot;&gt;ä¸æ±‚ç»“æœï¼Œä¸æ±‚åŒè¡Œï¼Œ&lt;/span&gt;&lt;br /&gt;</span><br><span class="line">&lt;span class=&quot;keyword&quot;&gt;ä¸æ±‚æ›¾ç»æ‹¥æœ‰ï¼Œç”šè‡³ä¸æ±‚ä½ çˆ±æˆ‘ï¼Œ&lt;/span&gt;&lt;br /&gt;</span><br><span class="line">&lt;span class=&quot;keyword&quot;/&gt;åªæ±‚åœ¨æˆ‘æœ€ç¾çš„å¹´åé‡Œ&lt;/span&gt;&lt;br /&gt;</span><br><span class="line">&lt;span class=&quot;keyword&quot;/&gt;é‡åˆ°ä½ &lt;/span&gt;&lt;br /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;loveHeart&quot;&gt;</span><br><span class="line">&lt;canvas id=&quot;garden&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;div id=&quot;words&quot;&gt;</span><br><span class="line">&lt;div id=&quot;messages&quot;&gt;</span><br><span class="line">äº²çˆ±çš„ï¼Œè¿™æ˜¯æˆ‘ä»¬ç›¸è¯†çš„æ—¶å…‰ã€‚</span><br><span class="line">&lt;div id=&quot;elapseClock&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;loveu&quot;&gt;</span><br><span class="line">çˆ±ä½ çš„ã€‚&lt;br/&gt;</span><br><span class="line">&lt;div class=&quot;signature&quot;&gt;- ä¾¯å…ˆç”Ÿ&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h2 id="3-ç¡®å®šæ¿å—æ ·å¼">3.ç¡®å®šæ¿å—æ ·å¼</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line">@font-face &#123;</span><br><span class="line">    font-family: digit;</span><br><span class="line">    src: url(&#x27;digital-7_mono.ttf&#x27;) format(&quot;truetype&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">body &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">    padding: 0;</span><br><span class="line">    background: #ffe;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">    overflow: auto</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">mainDiv &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">loveHeart &#123;</span></span><br><span class="line">    float: left;</span><br><span class="line">    width: 670px;</span><br><span class="line">    height: 625px</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">garden &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">elapseClock &#123;</span></span><br><span class="line">    text-align: right;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    margin-top: 10px;</span><br><span class="line">    margin-bottom: 10px</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">words &#123;</span></span><br><span class="line">    font-family: &quot;sans-serif&quot;;</span><br><span class="line">    width: 500px;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">    color: #666</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">messages &#123;</span></span><br><span class="line">    display: none</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">elapseClock .digit &#123;</span></span><br><span class="line">    font-family: &quot;digit&quot;;</span><br><span class="line">    font-size: 36px</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">loveu &#123;</span></span><br><span class="line">    padding: 5px;</span><br><span class="line">    font-size: 22px;</span><br><span class="line">    margin-top: 80px;</span><br><span class="line">    margin-right: 120px;</span><br><span class="line">    text-align: right;</span><br><span class="line">    display: none</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">loveu .signature &#123;</span></span><br><span class="line">    margin-top: 10px;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    font-style: italic</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">clickSound &#123;</span></span><br><span class="line">    display: none</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">code &#123;</span></span><br><span class="line">    float: left;</span><br><span class="line">    width: 440px;</span><br><span class="line">    height: 400px;</span><br><span class="line">    color: #333;</span><br><span class="line">    font-family: &quot;Consolas&quot;, &quot;Monaco&quot;, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, &quot;sans-serif&quot;;</span><br><span class="line">    font-size: 16px;</span><br><span class="line">    line-height: 35px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">code .string &#123;</span></span><br><span class="line">    color: #2a36ff</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">code .keyword &#123;</span></span><br><span class="line">    color: #7f0055;</span><br><span class="line">    font-weight: bold</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">code .placeholder &#123;</span></span><br><span class="line">    margin-left: 15px</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">code .space &#123;</span></span><br><span class="line">    margin-left: 7px</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">code .comments &#123;</span></span><br><span class="line">    color: #3f7f5f</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">copyright &#123;</span></span><br><span class="line">    margin-top: 10px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    width: 100%;</span><br><span class="line">    color: #666</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">errorMsg &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-size: 24px;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 100px;</span><br><span class="line">    left: 0</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">copyright a &#123;</span></span><br><span class="line">    color: #666</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-å®ç°çˆ±å¿ƒç²’å­é€»è¾‘">4.å®ç°çˆ±å¿ƒç²’å­é€»è¾‘</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function Vector(x, y) &#123;</span><br><span class="line">    this.x = x;</span><br><span class="line">    this.y = y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Vector.prototype = &#123;</span><br><span class="line">rotate: function (theta) &#123;</span><br><span class="line">    var x = this.x;</span><br><span class="line">    var y = this.y;</span><br><span class="line">    this.x = Math.cos(theta) * x - Math.sin(theta) * y;</span><br><span class="line">    this.y = Math.sin(theta) * x + Math.cos(theta) * y;</span><br><span class="line">    return this;</span><br><span class="line">&#125;,</span><br><span class="line">mult: function (f) &#123;</span><br><span class="line">    this.x *= f;</span><br><span class="line">    this.y *= f;</span><br><span class="line">    return this;</span><br><span class="line">&#125;,</span><br><span class="line">clone: function () &#123;</span><br><span class="line">    return new Vector(this.x, this.y);</span><br><span class="line">&#125;,</span><br><span class="line">length: function () &#123;</span><br><span class="line">    return Math.sqrt(this.x * this.x + this.y * this.y);</span><br><span class="line">&#125;,</span><br><span class="line">subtract: function (v) &#123;</span><br><span class="line">    this.x -= v.x;</span><br><span class="line">    this.y -= v.y;</span><br><span class="line">    return this;</span><br><span class="line">&#125;,</span><br><span class="line">set: function (x, y) &#123;</span><br><span class="line">    this.x = x;</span><br><span class="line">    this.y = y;</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function Petal(stretchA, stretchB, startAngle, angle, growFactor, bloom) &#123;</span><br><span class="line">    this.stretchA = stretchA;</span><br><span class="line">    this.stretchB = stretchB;</span><br><span class="line">    this.startAngle = startAngle;</span><br><span class="line">    this.angle = angle;</span><br><span class="line">    this.bloom = bloom;</span><br><span class="line">    this.growFactor = growFactor;</span><br><span class="line">    this.r = 1;</span><br><span class="line">    this.isfinished = false;</span><br><span class="line">    //this.tanAngleA = Garden.random(-Garden.degrad(Garden.options.tanAngle), Garden.degrad(Garden.options.tanAngle));</span><br><span class="line">    //this.tanAngleB = Garden.random(-Garden.degrad(Garden.options.tanAngle), Garden.degrad(Garden.options.tanAngle));</span><br><span class="line">&#125;</span><br><span class="line">Petal.prototype = &#123;</span><br><span class="line">draw: function () &#123;</span><br><span class="line">    var ctx = this.bloom.garden.ctx;</span><br><span class="line">    var v1, v2, v3, v4;</span><br><span class="line">    v1 = new Vector(0, this.r).rotate(Garden.degrad(this.startAngle));</span><br><span class="line">    v2 = v1.clone().rotate(Garden.degrad(this.angle));</span><br><span class="line">    v3 = v1.clone().mult(this.stretchA); //.rotate(this.tanAngleA);</span><br><span class="line">    v4 = v2.clone().mult(this.stretchB); //.rotate(this.tanAngleB);</span><br><span class="line">    ctx.strokeStyle = this.bloom.c;</span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.moveTo(v1.x, v1.y);</span><br><span class="line">    ctx.bezierCurveTo(v3.x, v3.y, v4.x, v4.y, v2.x, v2.y);</span><br><span class="line">    ctx.stroke();</span><br><span class="line">&#125;,</span><br><span class="line">render: function () &#123;</span><br><span class="line">    if (this.r &lt;= this.bloom.r) &#123;</span><br><span class="line">        this.r += this.growFactor; // / 10;</span><br><span class="line">        this.draw();</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        this.isfinished = true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Bloom(p, r, c, pc, garden) &#123;</span><br><span class="line">    this.p = p;</span><br><span class="line">    this.r = r;</span><br><span class="line">    this.c = c;</span><br><span class="line">    this.pc = pc;</span><br><span class="line">    this.petals = [];</span><br><span class="line">    this.garden = garden;</span><br><span class="line">    this.init();</span><br><span class="line">    this.garden.addBloom(this);</span><br><span class="line">&#125;</span><br><span class="line">Bloom.prototype = &#123;</span><br><span class="line">draw: function () &#123;</span><br><span class="line">    var p, isfinished = true;</span><br><span class="line">    this.garden.ctx.save();</span><br><span class="line">    this.garden.ctx.translate(this.p.x, this.p.y);</span><br><span class="line">    for (var i = 0; i &lt; this.petals.length; i++) &#123;</span><br><span class="line">        p = this.petals[i];</span><br><span class="line">        p.render();</span><br><span class="line">        isfinished *= p.isfinished;</span><br><span class="line">    &#125;</span><br><span class="line">    this.garden.ctx.restore();</span><br><span class="line">    if (isfinished == true) &#123;</span><br><span class="line">        this.garden.removeBloom(this);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">init: function () &#123;</span><br><span class="line">    var angle = 360 / this.pc;</span><br><span class="line">    var startAngle = Garden.randomInt(0, 90);</span><br><span class="line">    for (var i = 0; i &lt; this.pc; i++) &#123;</span><br><span class="line">        this.petals.push(new Petal(Garden.random(Garden.options.petalStretch.min, Garden.options.petalStretch.max), Garden.random(Garden.options.petalStretch.min, Garden.options.petalStretch.max), startAngle + i * angle, angle, Garden.random(Garden.options.growFactor.min, Garden.options.growFactor.max), this));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Garden(ctx, element) &#123;</span><br><span class="line">    this.blooms = [];</span><br><span class="line">    this.element = element;</span><br><span class="line">    this.ctx = ctx;</span><br><span class="line">&#125;</span><br><span class="line">Garden.prototype = &#123;</span><br><span class="line">render: function () &#123;</span><br><span class="line">    for (var i = 0; i &lt; this.blooms.length; i++) &#123;</span><br><span class="line">        this.blooms[i].draw();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">addBloom: function (b) &#123;</span><br><span class="line">    this.blooms.push(b);</span><br><span class="line">&#125;,</span><br><span class="line">removeBloom: function (b) &#123;</span><br><span class="line">    var bloom;</span><br><span class="line">    for (var i = 0; i &lt; this.blooms.length; i++) &#123;</span><br><span class="line">        bloom = this.blooms[i];</span><br><span class="line">        if (bloom === b) &#123;</span><br><span class="line">            this.blooms.splice(i, 1);</span><br><span class="line">            return this;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">createRandomBloom: function (x, y) &#123;</span><br><span class="line">    this.createBloom(x, y, Garden.randomInt(Garden.options.bloomRadius.min, Garden.options.bloomRadius.max), Garden.randomrgba(Garden.options.color.rmin, Garden.options.color.rmax, Garden.options.color.gmin, Garden.options.color.gmax, Garden.options.color.bmin, Garden.options.color.bmax, Garden.options.color.opacity), Garden.randomInt(Garden.options.petalCount.min, Garden.options.petalCount.max));</span><br><span class="line">&#125;,</span><br><span class="line">createBloom: function (x, y, r, c, pc) &#123;</span><br><span class="line">    new Bloom(new Vector(x, y), r, c, pc, this);</span><br><span class="line">&#125;,</span><br><span class="line">clear: function () &#123;</span><br><span class="line">    this.blooms = [];</span><br><span class="line">    this.ctx.clearRect(0, 0, this.element.width, this.element.height);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Garden.options = &#123;</span><br><span class="line">petalCount: &#123;</span><br><span class="line">    min: 8,</span><br><span class="line">    max: 15</span><br><span class="line">&#125;,</span><br><span class="line">petalStretch: &#123;</span><br><span class="line">    min: 0.1,</span><br><span class="line">    max: 3</span><br><span class="line">&#125;,</span><br><span class="line">growFactor: &#123;</span><br><span class="line">    min: 0.1,</span><br><span class="line">    max: 1</span><br><span class="line">&#125;,</span><br><span class="line">bloomRadius: &#123;</span><br><span class="line">    min: 8,</span><br><span class="line">    max: 10</span><br><span class="line">&#125;,</span><br><span class="line">density: 10,</span><br><span class="line">growSpeed: 1000 / 60,</span><br><span class="line">color: &#123;</span><br><span class="line">    rmin: 128,</span><br><span class="line">    rmax: 255,</span><br><span class="line">    gmin: 0,</span><br><span class="line">    gmax: 128,</span><br><span class="line">    bmin: 0,</span><br><span class="line">    bmax: 128,</span><br><span class="line">    opacity: 0.1</span><br><span class="line">&#125;,</span><br><span class="line">tanAngle: 60</span><br><span class="line">&#125;;</span><br><span class="line">Garden.random = function (min, max) &#123;</span><br><span class="line">return Math.random() * (max - min) + min;</span><br><span class="line">&#125;;</span><br><span class="line">Garden.randomInt = function (min, max) &#123;</span><br><span class="line">return Math.floor(Math.random() * (max - min + 1)) + min;</span><br><span class="line">&#125;;</span><br><span class="line">Garden.circle = 2 * Math.PI;</span><br><span class="line">Garden.degrad = function (angle) &#123;</span><br><span class="line">return Garden.circle / 360 * angle;</span><br><span class="line">&#125;;</span><br><span class="line">Garden.raddeg = function (angle) &#123;</span><br><span class="line">return angle / Garden.circle * 360;</span><br><span class="line">&#125;;</span><br><span class="line">Garden.rgba = function (r, g, b, a) &#123;</span><br><span class="line">return &#x27;rgba(&#x27; + r + &#x27;,&#x27; + g + &#x27;,&#x27; + b + &#x27;,&#x27; + a + &#x27;)&#x27;;</span><br><span class="line">&#125;;</span><br><span class="line">Garden.randomrgba = function (rmin, rmax, gmin, gmax, bmin, bmax, a) &#123;</span><br><span class="line">var r = Math.round(Garden.random(rmin, rmax));</span><br><span class="line">var g = Math.round(Garden.random(gmin, gmax));</span><br><span class="line">var b = Math.round(Garden.random(bmin, bmax));</span><br><span class="line">var limit = 5;</span><br><span class="line">if (Math.abs(r - g) &lt;= limit &amp;&amp; Math.abs(g - b) &lt;= limit &amp;&amp; Math.abs(b - r) &lt;= limit) &#123;</span><br><span class="line">    return Garden.rgba(rmin, rmax, gmin, gmax, bmin, bmax, a);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">    return Garden.rgba(r, g, b, a);</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="5-æ„é€ ç”»å¸ƒå¤§å°å’Œè¿åŠ¨è½¨è¿¹">5.æ„é€ ç”»å¸ƒå¤§å°å’Œè¿åŠ¨è½¨è¿¹</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">var $window = $(window), gardenCtx, gardenCanvas, $garden, garden;</span><br><span class="line">var clientWidth = $(window).width();</span><br><span class="line">var clientHeight = $(window).height();</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="function"><span class="title">function</span></span> () &#123;</span></span><br><span class="line">    // setup garden</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">loveHeart = $(<span class="string">&quot;#loveHeart&quot;</span>);</span></span><br><span class="line">var offsetX = $loveHeart.width() / 2;</span><br><span class="line">var offsetY = $loveHeart.height() / 2 - 55;</span><br><span class="line">    $garden = $(&quot;#garden&quot;);</span><br><span class="line">    gardenCanvas = $garden[0];</span><br><span class="line">gardenCanvas.width = $(&quot;#loveHeart&quot;).width();</span><br><span class="line">    gardenCanvas.height = $(&quot;#loveHeart&quot;).height()</span><br><span class="line">    gardenCtx = gardenCanvas.getContext(&quot;2d&quot;);</span><br><span class="line">    gardenCtx.globalCompositeOperation = &quot;lighter&quot;;</span><br><span class="line">    garden = new Garden(gardenCtx, gardenCanvas);</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&quot;#content&quot;</span>).css(<span class="string">&quot;width&quot;</span>, <span class="variable">$loveHeart</span>.width() + $(<span class="string">&quot;#code&quot;</span>).width());</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&quot;#content&quot;</span>).css(<span class="string">&quot;height&quot;</span>, Math.max(<span class="variable">$loveHeart</span>.height(), $(<span class="string">&quot;#code&quot;</span>).height()));</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&quot;#content&quot;</span>).css(<span class="string">&quot;margin-top&quot;</span>, Math.max((<span class="variable">$window</span>.height() - $(&quot;#content&quot;).height()) / 2, 10));</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&quot;#content&quot;</span>).css(<span class="string">&quot;margin-left&quot;</span>, Math.max((<span class="variable">$window</span>.width() - $(&quot;#content&quot;).width()) / 2, 10));</span></span><br><span class="line"></span><br><span class="line">    // renderLoop</span><br><span class="line">    setInterval(function () &#123;</span><br><span class="line">        garden.render();</span><br><span class="line">    &#125;, Garden.options.growSpeed);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(window).resize(<span class="function"><span class="title">function</span></span>() &#123;</span></span><br><span class="line">    var newWidth = $(window).width();</span><br><span class="line">    var newHeight = $(window).height();</span><br><span class="line">    if (newWidth != clientWidth &amp;&amp; newHeight != clientHeight) &#123;</span><br><span class="line">        location.replace(location);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">function getHeartPoint(angle) &#123;</span><br><span class="line">var t = angle / Math.PI;</span><br><span class="line">var x = 19.5 * (16 * Math.pow(Math.sin(t), 3));</span><br><span class="line">var y = - 20 * (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));</span><br><span class="line">return new Array(offsetX + x, offsetY + y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function startHeartAnimation() &#123;</span><br><span class="line">var interval = 50;</span><br><span class="line">var angle = 10;</span><br><span class="line">var heart = new Array();</span><br><span class="line">var animationTimer = setInterval(function () &#123;</span><br><span class="line">var bloom = getHeartPoint(angle);</span><br><span class="line">var draw = true;</span><br><span class="line">for (var i = 0; i &lt; heart.length; i++) &#123;</span><br><span class="line">var p = heart[i];</span><br><span class="line">var distance = Math.sqrt(Math.pow(p[0] - bloom[0], 2) + Math.pow(p[1] - bloom[1], 2));</span><br><span class="line">if (distance &lt; Garden.options.bloomRadius.max * 1.3) &#123;</span><br><span class="line">draw = false;</span><br><span class="line">break;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">if (draw) &#123;</span><br><span class="line">heart.push(bloom);</span><br><span class="line">garden.createRandomBloom(bloom[0], bloom[1]);</span><br><span class="line">&#125;</span><br><span class="line">if (angle &gt;= 30) &#123;</span><br><span class="line">clearInterval(animationTimer);</span><br><span class="line">showMessages();</span><br><span class="line">&#125; else &#123;</span><br><span class="line">angle += 0.2;</span><br><span class="line">&#125;</span><br><span class="line">&#125;, interval);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">(function($</span><span class="language-bash">) &#123;</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">.fn.typewriter = <span class="function"><span class="title">function</span></span>() &#123;</span></span><br><span class="line">this.each(function() &#123;</span><br><span class="line">var $ele = $(this), str = $ele.html(), progress = 0;</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">ele.html(<span class="string">&#x27;&#x27;</span>);</span></span><br><span class="line">var timer = setInterval(function() &#123;</span><br><span class="line">var current = str.substr(progress, 1);</span><br><span class="line">if (current == &#x27;&lt;&#x27;) &#123;</span><br><span class="line">progress = str.indexOf(&#x27;&gt;&#x27;, progress) + 1;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">progress++;</span><br><span class="line">&#125;</span><br><span class="line">$ele.html(str.substring(0, progress) + (progress &amp; 1 ? &#x27;_&#x27; : &#x27;&#x27;));</span><br><span class="line">if (progress &gt;= str.length) &#123;</span><br><span class="line">clearInterval(timer);</span><br><span class="line">&#125;</span><br><span class="line">&#125;, 75);</span><br><span class="line">&#125;);</span><br><span class="line">return this;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;)(jQuery);</span><br><span class="line"></span><br><span class="line">function timeElapse(date)&#123;</span><br><span class="line">var current = Date();</span><br><span class="line">var seconds = (Date.parse(current) - Date.parse(date)) / 1000;</span><br><span class="line">var days = Math.floor(seconds / (3600 * 24));</span><br><span class="line">seconds = seconds % (3600 * 24);</span><br><span class="line">var hours = Math.floor(seconds / 3600);</span><br><span class="line">if (hours &lt; 10) &#123;</span><br><span class="line">hours = &quot;0&quot; + hours;</span><br><span class="line">&#125;</span><br><span class="line">seconds = seconds % 3600;</span><br><span class="line">var minutes = Math.floor(seconds / 60);</span><br><span class="line">if (minutes &lt; 10) &#123;</span><br><span class="line">minutes = &quot;0&quot; + minutes;</span><br><span class="line">&#125;</span><br><span class="line">seconds = seconds % 60;</span><br><span class="line">if (seconds &lt; 10) &#123;</span><br><span class="line">seconds = &quot;0&quot; + seconds;</span><br><span class="line">&#125;</span><br><span class="line">var result = &quot;&lt;span class=\&quot;digit\&quot;&gt;&quot; + days + &quot;&lt;/span&gt; days &lt;span class=\&quot;digit\&quot;&gt;&quot; + hours + &quot;&lt;/span&gt; hours &lt;span class=\&quot;digit\&quot;&gt;&quot; + minutes + &quot;&lt;/span&gt; minutes &lt;span class=\&quot;digit\&quot;&gt;&quot; + seconds + &quot;&lt;/span&gt; seconds&quot;; </span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&quot;#elapseClock&quot;</span>).html(result);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function showMessages() &#123;</span><br><span class="line">adjustWordsPosition();</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&#x27;#messages&#x27;</span>).fadeIn(5000, <span class="function"><span class="title">function</span></span>() &#123;</span></span><br><span class="line">showLoveU();</span><br><span class="line">&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function adjustWordsPosition() &#123;</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&#x27;#words&#x27;</span>).css(<span class="string">&quot;position&quot;</span>, <span class="string">&quot;absolute&quot;</span>);</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&#x27;#words&#x27;</span>).css(<span class="string">&quot;top&quot;</span>, $(<span class="string">&quot;#garden&quot;</span>).position().top + 195);</span></span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&#x27;#words&#x27;</span>).css(<span class="string">&quot;left&quot;</span>, $(<span class="string">&quot;#garden&quot;</span>).position().left + 70);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function adjustCodePosition() &#123;</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&#x27;#code&#x27;</span>).css(<span class="string">&quot;margin-top&quot;</span>, ($(<span class="string">&quot;#garden&quot;</span>).height() - $(<span class="string">&quot;#code&quot;</span>).height()) / 2);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function showLoveU() &#123;</span><br><span class="line"><span class="meta prompt_">$</span><span class="language-bash">(<span class="string">&#x27;#loveu&#x27;</span>).fadeIn(3000);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-æ•ˆæœå±•ç¤º">6.æ•ˆæœå±•ç¤º</h2><ul><li><p class='p blue'>è¯·ä½¿ç”¨ç”µè„‘ç«¯æŸ¥çœ‹æ•ˆæœ</p></li></ul><div class="tag link"><a class="link-card" title="çˆ±å¿ƒæ•ˆæœæ¼”ç¤º" href="/assets/heart.html"><div class="left"><img src="https://tuchuang.voooe.cn/images/2024/05/10/1715347320685.png"/></div><div class="right"><p class="text">çˆ±å¿ƒæ•ˆæœæ¼”ç¤º</p><p class="url">/assets/heart.html</p></div></a></div>]]></content>
    
    
    <summary type="html">ğŸ¥§ç”µå­ç‰ˆçˆ±å¿ƒä»£ç </summary>
    
    
    
    <category term="ä»£ç " scheme="https://www.fomal.cc/categories/%E4%BB%A3%E7%A0%81/"/>
    
    
    <category term="ä»£ç " scheme="https://www.fomal.cc/tags/%E4%BB%A3%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šä¸”å¬é£åŸã€‹</title>
    <link href="https://www.fomal.cc/posts/3.html"/>
    <id>https://www.fomal.cc/posts/3.html</id>
    <published>2023-09-15T10:50:00.000Z</published>
    <updated>2023-09-15T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size="4px"><b>å¯¼è¯» ??</b></font></p><p>ã€Šä¸”å¬é£åŸã€‹æ˜¯æ‘ä¸Šæ˜¥æ ‘çš„ä»£è¡¨ä½œï¼Œä¹Ÿæ˜¯æ— æ•°äººçš„é’æ˜¥å›å¿†ï¼Œæ¯ä¸ªäººçš„é’æ˜¥é‡Œéƒ½æœ‰ä¸€ä¸ªæµªæ¼«é‚‚é€…å´æ— æ³•ç›¸å®ˆçš„äººï¼Œè¿™ä¸ªäººï¼Œæˆ–è®¸æ˜¯é—æ†¾ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¾å¥½ï¼ŒæŠ˜å°„ç€æ„Ÿæƒ…é‡Œæœ€æ¸©æƒ…çš„ä¸€é¢ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/imageaa531157e524a4d6.png" alt="" /></p><p>æ‘ä¸Šæ˜¥æ ‘ä½œä¸ºçŸ¥åä½œå®¶ï¼Œç”¨ä¸€æ”¯ç¬”å†™å°½äº†äººé—´çš„æ‚²æ¬¢ç¦»åˆï¼Œä»–å°†é’æ˜¥çš„è‰²å½©ã€çˆ±æƒ…çš„æ‚²å–œã€äººæ€§çš„ä¸åŒéƒ½åˆ»ç”»çš„æ·±å…¥äººå¿ƒã€‚</p><p>ä¹Ÿå› æ­¤ï¼Œæ¯æ¬¡è¯»ä»–çš„æ–‡å­—ï¼Œéƒ½ç»™äººä¸€ç§æ²äººå¿ƒè„¾çš„æ„Ÿè§‰ï¼Œè€Œä»–é¦–æ¬¡æç¬”å°±å¾—å¥–çš„ä»£è¡¨ä½œã€Šä¸”å¬é£åŸã€‹ï¼Œä»¥ä¸€åœºå›å¿†ä¸ºå¼€å§‹çš„æ•…äº‹ï¼Œåœ¨é‚‚é€…ä¸€ä¸ªå°å¥³å­©ä¹‹åï¼Œè‹¥éšè‹¥ç°çš„çˆ±æƒ…å’Œæ— ç–¾è€Œç»ˆçš„ç»“æœï¼Œè®²é€äº†é’æ˜¥æ—¶ä»£é‡Œçš„æ— å¥ˆä¸è¿·èŒ«ï¼Œä¹Ÿä½“ç°äº†äººæ€§å¯¹æ„Ÿæƒ…æœ€åˆå–„è‰¯çš„ä¸€é¢ã€‚</p><p>ä¹Ÿè®¸ï¼Œé’æ˜¥æ—¶ä»£çš„çˆ±æƒ…æ˜¯æœ€çº¯ç²¹çš„ï¼Œä¹Ÿæ˜¯æœ€æµªæ¼«å’Œä¸æºæ‚ä»»ä½•æ‚å¿µçš„ï¼Œä¸€ä¸ªç”·å­©çœŸæ­£åŠ¨äº†å¿ƒä¹‹åï¼Œæ˜¯ä¸ä¼šä»¥ä»»ä½•æ–¹å¼ä¼¤å®³å¥³å­©çš„ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/imageafd7f6c59f1e9898.png" alt="" /></p></div><h2 id="1ã€ä¸ä¼šè¶æœºå æœ‰ã€‚">1ã€ä¸ä¼šè¶æœºå æœ‰ã€‚</h2><p>ã€Šä¸”å¬é£åŸã€‹é‡Œï¼Œç”·ä¸»åœ¨é…’å§é‡Œé‚‚é€…äº†å–å¾—çƒ‚é†‰å¦‚æ³¥çš„å¥³ä¸»ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªå·¦æ‰‹æ²¡æœ‰å°æŒ‡çš„å°‘å¥³ï¼Œé‚£æ™šï¼Œå¥¹çš„å¿ƒæƒ…å·®åˆ°äº†æç‚¹ï¼Œè¯•å›¾ç”¨é…’ç²¾éº»ç—¹è‡ªå·±ï¼Œæ°å·§é‡åˆ°äº†æ­£ä¹‰çš„ç”·ä¸»ã€‚</p><p>å‡ºäºæ€œçˆ±ä¹‹å¿ƒï¼Œç”·ä¸»å¤§è´¹å‘¨ç« åœ°å°†å¥³ä¸»é€å›äº†å®¶ã€‚</p><p>å¥½äººåšåˆ°åº•çš„ç”·ä¸»ï¼Œè®©å¥³ä¸»å®‰å…¨ç€åºŠåæ²¡æœ‰é©¬ä¸Šç¦»å»ï¼Œè€Œæ˜¯å¼€å§‹äº†æ— è¨€çš„å®ˆæŠ¤ã€‚</p><p>å¥³ä¸»ä¸çœäººäº‹åœ°åœ¨é…£ç¡ï¼Œä¸è‡ªè§‰ä¸­è„±æ‰äº†è‡ªå·±çš„è¡£æœï¼Œè€Œç”·ä¸»ï¼Œè‡ªå§‹è‡³ç»ˆå®ˆæŠ¤åœ¨èº«è¾¹ï¼Œæ²¡æœ‰ä»»ä½•éåˆ†ä¹‹æƒ³ï¼Œä¹Ÿæ²¡æœ‰åšä»€ä¹ˆå‡ºæ ¼çš„äº‹ã€‚</p><p>ç­‰åˆ°ç¬¬äºŒå¤©é†’æ¥ï¼Œå¥³ä¸»çœ‹ç€èµ¤è£¸çš„è‡ªå·±ï¼Œä»¥ä¸ºè¢«ç”·ä¸»å äº†ä¾¿å®œï¼Œéª‚äº†ç”·ä¸»ã€‚</p><p>ä½†ç”·ä¸»è§£é‡Šäº†ä¸€ç•ªåï¼Œä¾¿ä¸å†ç†ä¼šäº†ï¼Œä»–çŸ¥é“ï¼Œæ¸…è€…è‡ªæ¸…ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/15/image.png" alt="" /></p><p>å¯¹äºå¥³ä¸»ï¼Œç”·ä¸»æ˜¯æœ‰å¥½æ„Ÿçš„ï¼Œä½†ä»–æ²¡æœ‰é€‰æ‹©è¶æœºå æœ‰ï¼Œè¿™æ ·çš„è¡Œä¸ºï¼Œæ‰æ˜¯å›å­ä½œé£ã€‚</p><p>æ¯ä¸ªäººéƒ½ä¼šæœ‰æƒ…ç»ªä½è½çš„æ—¶åˆ»ï¼Œè€Œå»é…’å§æ”¾æ¾ä¹Ÿæ˜¯è§£å‹çš„ä¸€ç§æ–¹å¼ï¼Œå¯åœ¨ç”Ÿæ´»ä¸­ï¼Œå¤§éƒ¨åˆ†å¥³å­©å­æ ¹æœ¬ä¸æ•¢è¿™ä¹ˆåšï¼Œå› ä¸ºä¸€æ—¦è¢«é…’ç²¾å¼„è¿·ç³Šäº†ï¼Œå°±æœ‰å¯èƒ½è¢«åç”·å­©å äº†ä¾¿å®œã€‚</p><p>è€Œä¹¦ä¸­çš„ç”·ä¸»ï¼Œçºµç„¶å¯¹å¥³å­©æœ‰å¥½æ„Ÿï¼Œä¹Ÿæ²¡æœ‰ä¼ºæœºè€ŒåŠ¨ï¼Œè¿™æ ·çš„è¡Œä¸ºï¼Œä¸å…è®©ä»–çš„å–œæ¬¢ä¸Šå‡äº†ä¸€ä¸ªæ¡£æ¬¡ã€‚</p><p><b>å–œæ¬¢æ˜¯å æœ‰ï¼Œçˆ±æ˜¯ä¿æŠ¤ã€‚</b></p><p><b>ä¸€ä¸ªæ·±çˆ±ä½ çš„ç”·äººï¼Œæ‡‚å¾—ä¿æŠ¤è„†å¼±çš„ä½ ï¼Œæ‡‚å¾—åœ¨ä½ éœ€è¦çš„æ—¶å€™ï¼Œç»™äºˆå®ˆæŠ¤å’Œé™ªä¼´ï¼Œè¿™æ ·çš„ç”·äººï¼Œæ‰æ˜¯å€¼å¾—æ‰˜ä»˜ç»ˆèº«çš„ã€‚</b></p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image9d205a4f5df770ba.png" alt="" /></p><h2 id="2ã€æ„¿æ„æŠŠé€‰æ‹©æƒäº¤ç»™ä½ ã€‚">2ã€æ„¿æ„æŠŠé€‰æ‹©æƒäº¤ç»™ä½ ã€‚</h2><p>ã€Šä¸”å¬é£åŸã€‹é‡Œï¼Œåœ¨å’Œå¥³ä¸»åˆ†åˆ«åï¼Œç”·ä¸»å¼€å¯äº†ç–¯ç‹‚çš„æƒ³å¿µæ¨¡å¼ã€‚</p><p>é‚£ä¸€å¤œçš„é‚‚é€…ï¼Œåœ¨ä»–å¿ƒé‡ŒåŸ‹ä¸‹äº†çˆ±æƒ…çš„ç§å­ï¼Œå´æ²¡æœ‰æœºä¼šè®©å®ƒç”Ÿæ ¹å‘èŠ½ï¼Œå› ä¸ºä»–è¿å¥³å­©å«ä»€ä¹ˆéƒ½ä¸çŸ¥é“ã€‚</p><p>ç™¾æ— èŠèµ–ä¹‹é™…ï¼Œç”·å­©å»ä¸€å®¶å”±ç‰‡åº—æŒ‘é€‰æ­Œæ›²ï¼Œä»¤äººæ„å¤–çš„æ˜¯ï¼Œå¥³ä¸»å°±æ˜¯å”±ç‰‡åº—çš„å”®å–å‘˜ã€‚</p><p>ç”·ä¸»å–œå‡ºæœ›å¤–ï¼Œé‚€çº¦å¥³ä¸»ä¸€èµ·åƒé¥­ã€‚</p><p>ä½†å› ä¸ºä¹‹å‰çš„è¯¯ä¼šï¼Œå¥³ä¸»æœ‰ç‚¹ä¸æƒ…æ„¿ï¼Œè€Œç”·ä¸»åœ¨çœ‹å‡ºäº†å¥³ä¸»çš„ä¸ºéš¾ä¹‹åï¼Œå¹¶æ²¡æœ‰å¼ºè¿«ï¼Œä»–æŠŠåƒé¥­çš„é€‰æ‹©æƒäº¤ç»™äº†å¥³ä¸»ã€‚</p><p>è¿™ä¸€ä¸¾åŠ¨å¾ˆæ˜¯æš–å¿ƒã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/imaged56e59c7d3babf99.png" alt="" /></p><p>ç°å®ä¸­ï¼Œå¾ˆå°‘æœ‰ç”·å­©å­æ‡‚å¾—ç…§é¡¾å–œæ¬¢çš„äººçš„æ„æ„¿ï¼Œåªä¹ æƒ¯æŠŠè‡ªå·±çš„æƒ³æ³•å¼ºåŠ åœ¨çˆ±äººèº«ä¸Šã€‚</p><p>è€Œç”·ä¸»ï¼Œå´æŠŠé€‰æ‹©æƒäº¤ç»™äº†å¥³ä¸»ï¼Œä»å†…å¿ƒæ·±å¤„å°Šé‡å¥³ä¸»çš„æ„æ„¿ã€‚</p><p>ä¹Ÿæ˜¯ä»–çš„å°Šé‡ï¼Œèµ¢å¾—äº†å¥³ä¸»çš„å¥½æ„Ÿï¼Œæœ€ç»ˆï¼Œå¥³ä¸»ä¸»åŠ¨é‚€è¯·ä»–ï¼Œå’Œä»–å…±è¿›æ™šé¤ï¼Œä¸¤äººçš„æ„Ÿæƒ…æ›´è¿‘äº†ä¸€æ­¥ã€‚</p><p>å°Šé‡ä¸€ä¸ªäººçš„æ„æ„¿ï¼Œæ˜¯çˆ±æƒ…é‡Œæœ€åŸºæœ¬çš„å¸¸è¯†ï¼Œå´ä¹Ÿæ˜¯æœ€éš¾åšåˆ°çš„ä¸€ç‚¹ã€‚</p><p><b>å¤§éƒ¨åˆ†çš„ç”·å­©ï¼Œéƒ½å–œæ¬¢ç”¨è‡ªå·±çš„è§‚å¿µå®šä¹‰ä¸¤ä¸ªäººç›¸å¤„æ–¹å¼ï¼Œä¸æ³¨é‡å¯¹æ–¹æ„æ„¿ï¼Œä¸åœ¨ä¹å¯¹æ–¹æ„Ÿå—ï¼›æ®Šä¸çŸ¥ï¼Œç»†èŠ‚æˆå°±çˆ±æƒ…ï¼Œæ„Ÿæƒ…ä¹Ÿè´¥ç»™ç»†èŠ‚ã€‚</b></p><p>æ¯ä¸ªå¥³å­©éƒ½å¸Œæœ›åœ¨çˆ±æƒ…é‡Œæœ‰ä¸€ç‚¹é€‰æ‹©çš„ç‹¬ç«‹ç©ºé—´ï¼Œå¯å¤§å¤šæ•°çš„å¥³å­©éƒ½å¤±æœ›äº†ã€‚</p><p>æ‰€ä»¥åœ¨æ„Ÿæƒ…é‡Œï¼Œé‡åˆ°ä¸€ä¸ªä¼šæŠŠé€‰æ‹©æƒäº¤ç»™ä½ çš„ç”·å­©ï¼Œä¸€å®šè¦æ‡‚å¾—çæƒœï¼Œå› ä¸ºé‚£ä¸ªäººï¼Œæ‰æ˜¯ç”¨å¿ƒçˆ±ä½ çš„äººã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image6cadacf86215f7e1.png" alt="" /></p><h2 id="3ã€å°Šé‡å½¼æ­¤çš„é€‰æ‹©ã€‚">3ã€å°Šé‡å½¼æ­¤çš„é€‰æ‹©ã€‚</h2><p>æ‘ä¸Šæ˜¥æ ‘å¹¶æ²¡æœ‰åœ¨ã€Šä¸”å¬é£åŸã€‹é‡Œç•™ä¸‹æœ‰æƒ…äººç»ˆæˆçœ·å±çš„å®Œç¾ç»“å±€ã€‚</p><p>è¿™æ®µçœŸæŒšè€Œç¾å¥½çš„æ„Ÿæƒ…åªå­˜åœ¨äº†18å¤©ï¼Œ18å¤©åï¼Œå¥³ä¸»ç¦»å¼€äº†ç”·ä¸»çš„ç”Ÿæ´»ï¼Œä»æ­¤ï¼Œç”·ä¸»å†ä¹Ÿæ²¡æœ‰è§è¿‡å¥³å­©ã€‚</p><p>ä»–ç­‰å¾…è¿‡å¥³å­©ï¼Œä¹ŸæœŸå¾…è¿‡ä¸¤äººçš„é‡é€¢ï¼Œå¯å§‹ç»ˆéƒ½æ²¡æœ‰ç­‰åˆ°ã€‚æœ€åï¼Œç”·ä¸»å°†è¿™ä»½çˆ±ï¼ŒåŸ‹è—äºå¿ƒä¸­ï¼Œå°˜å°äºè®°å¿†ï¼Œå¸¦ç€ç¾å¥½çš„å›å¿†ï¼Œèµ°å‘äº†ä½™ç”Ÿã€‚</p><p>ä¸æ˜¯æ‰€æœ‰çš„çˆ±æƒ…ï¼Œéƒ½ä¸€å®šè¦å ä¸ºå·±æœ‰ï¼›é©»è¶³äºå›å¿†çš„æ„Ÿæƒ…ï¼Œæ›´åŠ å¼¥è¶³çè´µã€‚</p><p>åŸæ¥ï¼Œåœ¨æ„Ÿæƒ…é‡Œï¼Œç›¸çˆ±ä¸ä¸€å®šèƒ½ç›¸å®ˆï¼Œç›¸å®ˆä¸ä¸€å®šèƒ½ç›¸ä¼´ä¸€è¾ˆå­ã€‚æ­£å¦‚ä½œå®¶å‘¨å›½å¹³æ›¾è¯´ï¼šâ€œçˆ±çš„ä»·å€¼åœ¨äºå®ƒè‡ªèº«ï¼Œè€Œä¸åœ¨äºå®ƒçš„ç»“æœã€‚â€<p><p>ç”Ÿæ´»æœ‰å¤ªå¤šä¸ç¡®å®šæ€§ï¼Œæœ‰äº›äººï¼Œæ³¨å®šåªæ˜¯å½¼æ­¤ç”Ÿå‘½ä¸­çš„è¿‡å®¢ã€‚</p><p>æ—¢ç„¶æ²¡æœ‰èƒ½åŠ›å†³å®šä¸¤ä¸ªäººçš„å¹¸ç¦ï¼Œä¸å¦‚å°Šé‡å½¼æ­¤çš„é€‰æ‹©ï¼Œç»™å¯¹æ–¹ç•™ä¸‹ä¸€å¥ç¾å¥½çš„ç¥ç¦ï¼Œç»™è‡ªå·±ä¸€ä¸ªé‡æ–°å¼€å§‹çš„å¯èƒ½ã€‚</p><p>çˆ±æƒ…ï¼Œä¸ä¸€å®šè¦ç›¸å®ˆæ‰ç¾å¥½ï¼›ç•™åœ¨å›å¿†é‡Œçš„çˆ±äººï¼Œä¹Ÿå€¼å¾—ç¼…æ€€ä¸€ç”Ÿã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/imageff5767fd16acdd2c.png" alt="" /></p>]]></content>
    
    
    <summary type="html">??ä½ ä¼šæ‡‚ä¸€ä¸ªç”·äººæœ€é«˜çº§çš„çˆ±</summary>
    
    
    
    <category term="é˜…è¯»" scheme="https://www.fomal.cc/categories/%E9%98%85%E8%AF%BB/"/>
    
    
    <category term="ä¹¦ç±" scheme="https://www.fomal.cc/tags/%E4%B9%A6%E7%B1%8D/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šæ´»ç€ã€‹</title>
    <link href="https://www.fomal.cc/posts/4.html"/>
    <id>https://www.fomal.cc/posts/4.html</id>
    <published>2023-09-09T10:19:03.000Z</published>
    <updated>2023-09-09T10:19:03.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size="4px"><b>å¯¼è¯» ğŸ“</b></font></p><p>èº«å¤„è’è¯çš„ä¸–ç•Œï¼Œæ¯ä¸ªäººéƒ½è¯¥è¯»è¯»ä½™åã€‚</p><p>ä½™åçš„ä»£è¡¨ä½œã€Šæ´»ç€ã€‹é£é¡å…¨çƒï¼Œæ‰“åŠ¨ä¸€ä»£åˆä¸€ä»£è¯»è€…ã€‚</p><p>ç”Ÿå‘½ä¸èƒ½æ‰¿å—ä¹‹è½»ï¼Œèƒ½æ¥å—ä¹‹ç—›ï¼Œæ„¿æˆ‘ä»¬éƒ½èƒ½ä»ä¸­æ‰¾åˆ°åŠ›é‡ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/10/image5613326d3feb6eb4.png" alt="" /></p><p>ä½œå®¶ä½™åè¯´ï¼š</p><p>â€œäººæ˜¯ä¸ºæ´»ç€æœ¬èº«è€Œæ´»ç€çš„ï¼Œè€Œä¸æ˜¯ä¸ºäº†æ´»ç€ä¹‹å¤–çš„ä»»ä½•äº‹ç‰©æ‰€æ´»ç€ã€‚â€</p><p>ã€Šæ´»ç€ã€‹çš„ä¸»äººå…¬å¾ç¦è´µï¼Œå°‘å¹´æ—¶èµŒå…‰å®¶äº§ï¼Œæ°”æ­»çˆ¶äº²ï¼›ä¸­å¹´ä¸§å­åˆä¸§å¦»ï¼Œè€å¹´æ—¶åˆå¤±å»äº†å”¯ä¸€çš„å¤–å­™ã€‚</p><p>ç„¶è€Œè¿™ä¸€åˆ‡ä¸å¹¸ï¼Œå¹¶æ²¡æœ‰è®©ä»–å€’ä¸‹ã€‚</p><p>ä»–åœ¨æ‰¿å—äº†å·¨å¤§çš„ç—›è‹¦ä¹‹åï¼Œå­¦ä¼šäº†åšå¼ºé¢å¯¹ä¸€åˆ‡ï¼Œæ´»å‡ºäº†ç”Ÿå‘½åº”æœ‰çš„æ·±åº¦å’Œåšåº¦ã€‚</p><p>è¯»å®Œã€Šæ´»ç€ã€‹ï¼Œä½ ä¼šå‘ç°éŸ§æ€§æ˜¯å¾ç¦è´µçš„äººç”Ÿåº•è‰²ã€‚</p><p>æ­£æ˜¯è¿™ä»½éŸ§æ€§æ‰¿è½½ç€ä»–çš„ä½¿å‘½ï¼Œå†³å®šäº†ä»–èƒ½èµ°å¤šè¿œã€‚</p></div><h2 id="1-éŸ§æ€§ï¼Œæ˜¯è®¤æ¸…ç°å®åçš„å¤åŸåŠ›">1.éŸ§æ€§ï¼Œæ˜¯è®¤æ¸…ç°å®åçš„å¤åŸåŠ›</h2><p>å¾è€çˆ·æœ‰ä¸€ç™¾å¤šäº©ç”°åœ°ï¼Œæ˜¯æ–¹åœ†å‡ åé‡Œçš„å¤§æˆ·ã€‚</p><p>ç¦è´µæ˜¯ä»–å”¯ä¸€çš„ç‹¬è‹—ï¼Œçˆ·ä¿©å„¿æ˜¯è¿œè¿‘é—»åçš„é˜”è€çˆ·å’Œé˜”å°‘çˆ·ã€‚</p><p>å¾è€çˆ·ä¸ºäº†è®©ç¦è´µå¥½å¥½è¯»ä¹¦ï¼Œè¿˜ä¸“é—¨ç»™ä»–è¯·äº†ç§å¡¾å…ˆç”Ÿã€‚</p><p>å¯ä»–å¤©ç”Ÿä¸æ˜¯è¯»ä¹¦çš„é‚£å—æ–™ï¼Œå…ˆç”Ÿè®©ä»–å¿µä¹¦æ—¶ï¼Œä»–å±…ç„¶ç‹‚å¦„åœ°å¯¹å…ˆç”Ÿè¯´ï¼šâ€œå¥½å¥½å¬ç€ï¼Œçˆ¹ç»™ä½ å¿µä¸€æ®µã€‚â€</p><p>ç§å¡¾å…ˆç”Ÿè¢«ä»–æ°”å¾—åŠæ­»ï¼Œå¿ä¸ä½åœ¨å¾è€çˆ·é¢å‰å‘ŠçŠ¶ï¼šâ€œä½ å®¶å°‘çˆ·é•¿å¤§äº†å‡†èƒ½å½“ä¸ªäºŒæµå­ã€‚â€</p><p>æ²¡æƒ³åˆ°ï¼Œè€å…ˆç”Ÿä¸€è¯­æˆé½‘ã€‚</p><p>é•¿å¤§åçš„ç¦è´µï¼Œåƒå–å«–æ ·æ ·ä¿±å…¨ï¼Œåæ¥ä»–è¿˜è¿·ä¸Šäº†èµŒåšã€‚</p><p>ä¸€å¼€å§‹èµŒè¾“äº†ï¼Œä»–å°±ä¼šå·æ¯äº²ã€è€å©†çš„é¦–é¥°å»è¿˜å€ºã€‚åæ¥ä»–å«Œéº»çƒ¦ï¼Œå¹²è„†å¼€å§‹èµŠè´¦ã€‚</p><p>è¿™ä¸€èµŠè´¦ï¼Œä»–å°±ä¸æ¸…æ¥šè‡ªå·±ç©¶ç«Ÿè¾“äº†å¤šå°‘ã€‚è€Œä¸”ä»–è¿˜å¤©çœŸåœ°è®¤ä¸ºï¼Œèƒ½ä»èµŒåœºèµ¢å›å¾è€çˆ·å¹´è½»æ—¶è¾“æ‰çš„å®¶äº§ã€‚</p><p>ç›´åˆ°æœ‰ä¸€å¤©ï¼Œå¼€èµŒå±€çš„é¾™äºŒä¸å†è®©ä»–èµŠè´¦ã€‚ä»–æ‰çŸ¥é“è‡ªå·±ä¸ä»…è¾“å…‰äº†å®¶é‡Œçš„ä¸€ç™¾å¤šäº©ç”°åœ°ï¼Œè¿˜æœ‰å®¶äº§ã€‚</p><p>ç¦è´µåƒç”Ÿäº†ä¸€åœºå¤§ç—…ï¼Œä»–è„¸è‰²è‹ç™½ï¼Œè·Œè·Œæ’æ’åœ°å›åˆ°å®¶é‡Œã€‚</p><p>å¾è€çˆ·å¾—çŸ¥è¿™ä¸ªæ¶ˆæ¯ï¼Œæ²¡è¿‡å¤šä¹…å°±è¢«æ°”æ­»äº†ã€‚æ€€ç€èº«å­•çš„å®¶çï¼Œä¹Ÿè¢«ä»–çš„è€ä¸ˆäººæ¥å›åŸé‡Œå»ã€‚</p><p>åŸæœ¬å¹¸ç¦çš„ä¸€å®¶äººè¢«å¼„å¾—ä¸ƒé›¶å…«æ•£ï¼Œè€Œé€ æˆè¿™ä¸€æ‚²å‰§çš„æ ¹æºå°±æ˜¯ç¦è´µçš„èµŒåšã€‚</p><p>ç¦è´µä¸€å®¶äººæ¬åˆ°èŒ…è‰å±‹å»å±…ä½ï¼Œå¹´è¿ˆçš„æ¯äº²ä¸ºäº†ç”Ÿè®¡æŒç€ç¯®å­ã€æ‰­ç€å°è„šå»ç”°é‡ŒåŠ³ä½œï¼Œè¿˜æœ‰å¹´å¹¼çš„å¥³å„¿å‡¤éœè·Ÿç€ä»–æŒ¨é¥¿å—è‹¦ã€‚</p><p>ä¸€å‘åœ¨æµ‘æµ‘å™©å™©ä¸­åº¦æ—¥çš„ç¦è´µï¼Œä»–çš„å¿ƒçªç„¶è¢«ä»€ä¹ˆä¸œè¥¿åˆºäº†ä¸€ä¸‹ï¼Œå¾ˆç–¼å¾ˆç–¼ã€‚</p><p>ç¦è´µå¯¹è‡ªå·±è¯´ï¼šâ€œæˆ‘æƒ³æƒ³å†ä¸èƒ½åƒä»å‰é‚£æ ·è¿‡æ—¥å­ï¼Œæˆ‘å¾—å…»æ´»æˆ‘å¨˜å’Œå‡¤éœã€‚â€</p><p>ä»–çš„è§‰é†’å°±åœ¨ä¸€ç¬é—´ï¼Œå”¤é†’ä»–çš„æ˜¯æ·±æ¤äºå†…å¿ƒæ·±å¤„çš„éŸ§æ€§ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯ä»–ä¸ç”Ÿä¿±æ¥çš„å¤åŸåŠ›ã€‚</p><p>æ˜¯çš„ï¼Œäººç”Ÿçš„é“è·¯ä¸ä¼šä¸€å¸†é£é¡ºï¼Œå¿…ç„¶ä¼šä¼´éšç€æŒ«æŠ˜ã€ç£¨éš¾ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/10/image5b1c7894dfc53ac6.png" alt="" /></p><p>å¦‚æœæˆ‘ä»¬èƒ½åœ¨è€ƒéªŒä¸­æ¸…é†’æ‰¾åˆ°è‡ªå·±çš„å®šä½ï¼Œé‡æ–°å¼€å§‹ï¼Œæ‰ä¼šç«‹äºä¸è´¥ä¹‹åœ°ã€‚</p><p>æœ‰å¥è¯è¯´å¾—å¥½ï¼š</p><p>â€œå…·æœ‰å¤åŸåŠ›çš„äººï¼Œèƒ½å¤Ÿåœ¨é¢ä¸´å›°å¢ƒæ—¶ä¸æŠ±æ€¨ï¼Œå¹¶ä¸”è¿…é€Ÿå¹³å¤å†…å¿ƒçš„ç„¦èºä¸å®‰ï¼Œä»å®¹åœ°é¢å¯¹ç°å®ï¼Œçµæ´»åº”å¯¹ã€‚â€</p><p>ç”±æ­¤å¯è§ï¼Œå¤åŸåŠ›æ˜¯ä¸€ä¸ªäººè¿…é€Ÿèµ°å‘æˆç†Ÿï¼Œæ‰¿æ‹…è´£ä»»çš„ä¸€ç§ä½“ç°ã€‚</p><p>éŸ§æ€§ï¼Œæ˜¯é¢å¯¹å›°å¢ƒçš„åšå¿ä¸æ‹”</p><h2 id="2-å¿ƒä¹‹æ‰€å‘ï¼Œç´ å±¥ä»¥å¾€ã€‚">2.å¿ƒä¹‹æ‰€å‘ï¼Œç´ å±¥ä»¥å¾€ã€‚</h2><p>ç¦è´µå‹‡æ•¢åœ°è¿ˆå‡ºäº†è¡ŒåŠ¨çš„ç¬¬ä¸€æ­¥ï¼Œä»–æƒ³å‡­å€Ÿè‡ªå·±çš„åŒæ‰‹å…»æ´»æ¯äº²å’Œå¥³å„¿ã€‚</p><p>å¾ˆå¿«ï¼Œä»–ä»é¾™äºŒæ‰‹é‡Œç§Ÿæ¥äº†äº”äº©åœ°ã€‚</p><p>å¯¹äºä»å°å¨‡ç”Ÿæƒ¯å…»ï¼Œæ²¡æœ‰å¹²è¿‡å†œæ´»çš„ä»–æ¥è¯´ï¼Œè¿™é¡¹å·¥ä½œéš¾åº¦å¯ä¸å°ã€‚</p><p>ä¸ºäº†è®©åº„ç¨¼èµ¶ä¸Šæ’­ç§å­£èŠ‚ï¼Œæœ‰ä¸ªå¥½æ”¶æˆã€‚</p><p>ä»–å¸¸å¸¸èµ·æ—©è´ªé»‘ï¼Œæœ‰æ—¶æ‰‹è„šæ“¦ç ´çš®æµè¡€äº†ï¼Œä»–å°±æŠŠæ³¥å·´ç³Šåˆ°ä¼¤å£å¤„åŠ é€Ÿæ„ˆåˆã€‚</p><p>è¿™æ ·çš„æ—¥å­å¾ˆè‹¦å¾ˆç´¯ï¼Œç¦è´µå´ç¡å¾—éå¸¸è¸å®ã€‚ä»–ç”šè‡³å¹»æƒ³ç€ï¼Œè€å¾å®¶è¿˜ä¼šæ…¢æ…¢å‘è¾¾èµ·æ¥ã€‚</p><p>ç©ºé—²æ—¶ï¼Œå¾ç¦è´µä¼šæƒ¦è®°å®¶çå’Œå¥¹è‚šå­é‡Œçš„å­©å­ã€‚åœ¨å¿å¿‘ä¸å®‰çš„ç­‰å¾…ä¸­ï¼Œå®¶çå¸¦ç€å„¿å­æœ‰åº†å›æ¥äº†ã€‚</p><p>ç¦è´µçœ‹åˆ°å®¶çå›æ¥ï¼Œéå¸¸å¼€å¿ƒã€‚è¿™å›ï¼Œä»–çŸ¥é“å¿ƒç–¼å®¶çäº†ï¼Œè„æ´»ã€ç´¯æ´»ä»–éƒ½æŠ¢ç€å¹²ï¼Œè¿™ä¸ªå®¶æ­£åœ¨æœç€å¥½çš„æ–¹å‘å»å‘å±•ã€‚<p>ç„¶è€Œå‘½è¿çš„èµ°å‘ï¼Œä»æ¥éƒ½æ˜¯ä¸ä»¥äººçš„æ„å¿—ä¸ºè½¬ç§»ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/10/image1821714d105e4f05.png" alt="" /></p><p>å¨˜ç—…äº†ï¼Œç¦è´µå»åŸé‡Œè¯·éƒä¸­ã€‚é˜´å·®é˜³é”™ï¼Œå´è¢«å›½å†›æŠ“äº†å£®ä¸ã€‚</p><p>å½“å£®ä¸çš„æ—¥å­é‡Œï¼Œä»–å‡ æ¬¡ä¸æ­»ç¥æ“¦è‚©è€Œè¿‡ã€‚é‚£æ—¶æ”¯æ’‘ç€ä»–æ´»ä¸‹å»çš„å”¯ä¸€ä¿¡å¿µå°±æ˜¯å›å®¶ã€‚</p><p>ä¸¤å¹´åï¼Œç¦è´µå›åˆ°å®¶é‡Œæ—¶ï¼Œå¨˜å·²ç¦»ä¸–ï¼Œå‡¤éœä¹Ÿåœ¨ä¸€æ¬¡é‡ç—…ä¸­å˜æˆäº†è‹å“‘å¥³å­©ã€‚</p><p>é¢å¯¹è¿™ä¸€åˆ‡å˜æ•…ï¼Œç¦è´µæ²¡æœ‰ä»»ä½•æ€¨è¨€ï¼Œè€Œæ˜¯å¦ç„¶æ¥å—ã€‚</p><p>å› ä¸ºç¦è´µç»å†æˆ˜äº‰çš„è€ƒéªŒï¼Œæ¿€å‘äº†ä»–ä¸ç”Ÿä¿±æ¥çš„éŸ§æ€§ï¼Œè¿˜æœ‰ä»–å¯¹ç”Ÿæ´»åšå¿ä¸æ‹”çš„æ¯…åŠ›ã€‚ä»–ç›¸ä¿¡ä¸€åˆ‡éƒ½ä¼šå¥½èµ·æ¥ã€‚</p><p>å½“ç¦è´µçœ‹åˆ°è´ªå©ªçš„é¾™äºŒè¢«æªæ¯™åï¼Œä»–æ›´æ˜¯å¯¹æœªæ¥å……æ»¡äº†ä¿¡å¿ƒã€‚ä»–å¯¹è‡ªå·±è¯´ï¼Œè¿™ä¸‹å¯è¦å¥½å¥½æ´»äº†ã€‚</p><p> â€œå‘ç€é•¿æœŸçš„ç›®æ ‡ï¼ŒåšæŒè‡ªå·±çš„æ¿€æƒ…ï¼Œå³ä¾¿ç»å†å¤±è´¥ï¼Œä¾ç„¶èƒ½å¤ŸåšæŒä¸æ‡ˆåœ°åŠªåŠ›ä¸‹å»ï¼Œè¿™ç§å“è´¨å°±å«åšåšæ¯…ã€‚â€</p><p>ç¦è´µæ­£æ˜¯å‡­å€Ÿç€è¿™ä»½åšæŒå’Œæ¯…åŠ›ï¼Œæ‰¿å—äº†å¸¸äººæ‰€ä¸èƒ½æ‰¿å—çš„è‹¦éš¾ï¼Œèµ°å‡ºäº†å±äºè‡ªå·±çš„é‚£ä»½å¤©åœ°ã€‚</p><p>å› ä¸ºä»–åšä¿¡åªæœ‰å¥½å¥½æ´»ç€ï¼Œæ‰æ˜¯äººç”Ÿæœ€å¤§çš„èµ¢å®¶ã€‚</p><h2 id="3-éŸ§æ€§ï¼Œæ˜¯å†ç»ç£¨éš¾çš„äº‘æ·¡é£è½»">3.éŸ§æ€§ï¼Œæ˜¯å†ç»ç£¨éš¾çš„äº‘æ·¡é£è½»</h2><p>æ¸…è´«çš„æ—¥å­é‡Œï¼Œç¦è´µä¸€å®¶äººå…¶ä¹èèã€‚<p>è½¬çœ¼é—´ï¼Œå‡¤éœå·²æ˜¯å¤§å§‘å¨˜ï¼Œå‡ºè½å¾—äº­äº­ç‰ç«‹ï¼Œæœ‰åº†ä¹Ÿåˆ°äº†è¯»ä¹¦çš„å¹´é¾„ã€‚</p><p>æœ‰åº†æ˜¯ä¸ªæ‡‚äº‹çš„å­©å­ï¼Œä»–ä¸ä»…å¸®è¡¬ç€ç¦è´µå¹²å®¶åŠ¡æ´»å„¿ï¼Œä»–è¿˜å› ä¸ºé•¿è·‘æˆç»©ä¼˜ç§€ï¼Œç»™å®¶é‡ŒæŒ£æ¥äº†è£èª‰ã€‚</p><p>çœ‹ä¼¼å¹³é™çš„ç”Ÿæ´»ï¼Œå®é™…ä¸Šæ˜¯æš—æµæ±¹æ¶Œã€‚</p><p>å¿é•¿çš„å¥³äººç”Ÿå­©å­å¤§å‡ºè¡€ï¼Œå­¦æ ¡ç»„ç»‡å­©å­ä»¬å»çŒ®è¡€ã€‚æœ‰åº†çš„è¡€å‹æœ€åŒ¹é…ï¼Œè°çŸ¥ä¸‹æ‰‹ä¸çŸ¥è½»é‡çš„åŒ»ç”Ÿï¼ŒæŠ½å¹²äº†æœ‰åº†çš„è¡€ã€‚</p><p>ç¦è´µæƒ³ä¸æ˜ç™½ï¼Œæ—©ä¸Šè¿˜æ˜¯æ´»è¹¦ä¹±è·³çš„å„¿å­ï¼Œåˆ°äº†æ™šä¸Šå°±å˜æˆä¸€å…·æ²¡æœ‰æ¸©åº¦çš„èº¯ä½“ã€‚</p><p>ç¦è´µçš„å¿ƒåœ¨æ»´è¡€ï¼Œæ·±å…¥éª¨é«“çš„ç—›æ’•æ‰¯ç€ä»–ï¼Œè¿å¸¦ç€èº«ä¸Šçš„æ¯å¯¸è‚Œè‚¤ã€‚</p><p>æœ‰åº†èµ°äº†ï¼Œç¦è´µè®¤ä¸ºå¾—äº†è½¯éª¨ç—…çš„å®¶çè‚¯å®šç»å—ä¸ä½æ‰“å‡»ï¼Œä¹Ÿä¼šç¦»ä»–è€Œå»ã€‚</p><p>å°±åœ¨æ‰€æœ‰äººå¯¹å®¶ççš„ç—…ä¸æŠ±ä»»ä½•å¸Œæœ›æ—¶ï¼Œå®¶çå±…ç„¶å¥‡è¿¹èˆ¬çš„æŒºäº†è¿‡æ¥ã€‚</p><p>å‡¤éœä¹Ÿå«ç»™äº†åŸé‡Œçš„æ¬è¿å·¥äºŒå–œã€‚äºŒå–œé•¿å¾—å¾ˆä¸€èˆ¬ï¼Œå¯¹å‡¤éœå´æ˜¯å®æ‰“å®åœ°å¥½ã€‚</p><p>æ²¡è¿‡å¤šä¹…ï¼Œå‡¤éœæ€€å­•çš„å¥½æ¶ˆæ¯ç»™è¿™ä¸ªå¤šç¾å¤šéš¾çš„å®¶åº­å¸¦æ¥äº†ä¸€ä¸ä¸å–œæ‚¦ã€‚</p><p>â€œåæœˆæ€€èƒï¼Œä¸€æœåˆ†å¨©ã€‚â€åœ¨ä¸€ä¸ªé›ªä¸‹å¾—å¾ˆå¤§çš„æ—¥å­é‡Œï¼Œå‡¤éœç”Ÿä¸‹äº†å„¿å­ã€‚</p><p>è°çŸ¥ç¦è´µå‰è„šåˆšèµ°ï¼Œå‡¤éœå°±å¤§å‡ºè¡€ï¼Œä¸åˆ°å¤©é»‘å°±æ–­äº†æ°”ã€‚</p><p>å®¶çç»™å‡¤éœçš„å„¿å­å–åâ€”â€”è‹¦æ ¹ã€‚å‡¤éœèµ°åä¸åˆ°ä¸‰ä¸ªæœˆï¼Œå®¶çä¹Ÿèµ°äº†ã€‚</p><p>ç¦è´µåªæœ‰äºŒå–œå’Œè‹¦æ ¹ä¸¤ä¸ªäº²äººäº†ã€‚äºŒå–œæ—¢å½“çˆ¹åˆå½“å¦ˆï¼Œç…§çœ‹è‹¦æ ¹å¾ˆè¾›è‹¦ã€‚</p><p>åœ¨è‹¦æ ¹å››å²é‚£å¹´ï¼ŒäºŒå–œè¢«ä¸¤æ’æ°´æ³¥æ¿å¤¹æ­»äº†ã€‚</p><p>ç¦è´µå·²ç»æ²¡æœ‰çœ¼æ³ªäº†ï¼Œä»–å·²ç»è¢«ç”Ÿæ´»ç£¨å¹³äº†æ£±è§’ã€‚</p><p>é¢å¯¹äº²äººä¸€ä¸ªä¸ªçš„ç¦»å»ï¼Œä»–å·²ç»ä¹ æƒ¯äº†é¢å¯¹ã€‚</p><p>ä»–å¯¹è‡ªå·±è¯´ï¼Œåªè¦æœ‰è‹¦æ ¹åœ¨æ¯”ä»€ä¹ˆéƒ½å¼ºï¼Œé¦™ç«è¿˜ä¼šå¾€ä¸‹ä¼ ï¼Œè¿™æ—¥å­è¿˜å¾—å¥½å¥½è¿‡ä¸‹å»ã€‚</p><p>è‹¦æ ¹æ˜¯ä»–çš„å‘½æ ¹å­ï¼Œæ›´æ˜¯ä»–å¸Œæœ›çš„æ‹æ–ã€‚ç¦è´µè™½ç„¶å¾ˆç´¯ï¼Œå¯æ˜¯å¿ƒé‡Œå¾ˆé«˜å…´ã€‚æœ‰äº†è‹¦æ ¹ï¼Œä»–æ´»ç€å°±æœ‰äº†å¥”å¤´ã€‚</p><p>çœ‹ç€è‹¦æ ¹ä¸€å¤©æ¯”ä¸€å¤©æ‡‚äº‹ï¼Œç¦è´µç¡è§‰éƒ½èƒ½å’§ç€å˜´ç¬‘é†’ã€‚</p><p>å°±åœ¨ç¦è´µå¯¹æœªæ¥å……æ»¡å¸Œæœ›æ—¶ï¼Œè‹¦æ ¹å´å› åƒç‚’è±†å­æ’‘æ­»äº†ã€‚è¿™æ—¶çš„ç¦è´µï¼Œå·²ç»ä¸ä¼šå“­äº†ã€‚</p><p>ä»–çš„çœ¼æ³ªæµåœ¨äº†å¿ƒåº•ï¼ŒåŒ–ä¸ºåº”å¯¹ç”Ÿæ´»çš„å‹‡æ°”ã€‚</p><p> å°¼é‡‡è¯´ï¼š</p><p>â€œå‡¡æ€ä¸æ­»æˆ‘çš„ï¼Œå¿…å°†è®©æˆ‘æ›´å¼ºå¤§ã€‚â€</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/10/image42d3586c40a57402.png" alt="" /></p><p>ç¦è´µç—›å®šæ€ç—›ï¼Œä»–æ·±çŸ¥è¦æƒ³æ´»ä¸‹å»ï¼Œå°±å¿…é¡»æ‰¿å—è¿™ä¸€åˆ‡ã€‚</p><p>åœ¨è‹¦æ ¹æ­»åçš„ç¬¬äºŒå¹´ï¼Œç¦è´µä¹°äº†ä¸€å¤´å’Œä»–ä¸€æ ·è€çš„ç‰›ã€‚</p><p>ä»–ç»™è€ç‰›å–åå«ç¦è´µã€‚ä»–æ¯å¤©éƒ½ä¼šå’Œè€ç‰›åƒçŸ¥å¿ƒæœ‹å‹ä¸€æ ·ï¼Œè¯´è¯´è¯ï¼Œå” å” å®¶å¸¸ã€‚</p><p>æœ‰æ—¶ï¼Œä»–å’Œåˆ«äººè°ˆèµ·ä»–æ‰€ç»å†çš„è¿‡å¾€ï¼Œä¹Ÿæ˜¯ä¸æ‚²ä¸å–œï¼Œæ·¡å®šä»å®¹ã€‚</p><p>ä½œå®¶ç™½è½æ¢…è¯´ï¼Œèµ°è¿‡å¹³æ¹–çƒŸé›¨ï¼Œå²æœˆå±±æ²³ï¼Œé‚£äº›å†å°½åŠ«æ•°ï¼Œå°éç™¾å‘³çš„äººï¼Œä¼šæ›´åŠ ç”ŸåŠ¨è€Œå¹²å‡€ã€‚</p><p>ç¦è´µå°±æ˜¯è¿™æ ·çš„äººï¼Œè‹¦éš¾è®©ä»–å­¦ä¼šé¢å¯¹ï¼Œè®©ä»–æ·¡å®šä»å®¹ã€‚</p><p>ä»–çš„ç”Ÿå‘½æœ‰äº†éŸ§æ€§ï¼Œä»–çš„äººç”Ÿæ›´åŠ åšé‡ã€‚</p>]]></content>
    
    
    <summary type="html">ğŸ¥§å¿ƒç†éŸ§æ€§ï¼Œå†³å®šäº†ä¸€ä¸ªäººèƒ½èµ°å¤šè¿œ</summary>
    
    
    
    <category term="é˜…è¯»" scheme="https://www.fomal.cc/categories/%E9%98%85%E8%AF%BB/"/>
    
    
    <category term="ä¹¦ç±" scheme="https://www.fomal.cc/tags/%E4%B9%A6%E7%B1%8D/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šå¤©é»‘ä»¥åã€‹</title>
    <link href="https://www.fomal.cc/posts/2.html"/>
    <id>https://www.fomal.cc/posts/2.html</id>
    <published>2023-08-15T10:40:03.000Z</published>
    <updated>2023-08-15T10:40:03.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size="4px"><b>å¯¼è¯» ğŸ“</b></font></p><p>ã€Šå¤©é»‘ä»¥åã€‹è®²è¿°äº†å…¥å¤œåçš„ç”Ÿæ´»ï¼Œç”¨çœŸå®åˆæ— å¥ˆçš„å¿ƒè·¯å†ç¨‹ï¼Œè§£å¼€äº†çƒ¦æ¼çš„æ ¹æºï¼Œè®©äººæ˜ç™½ï¼Œè‹¥æƒ³ä»å¿ƒçµçš„ä¼¤å®³ä¸­è§£è„±ï¼Œå”¯æœ‰å…ˆé¢å¯¹è‡ªå·±çš„ç—›è‹¦ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/imagee81cf66452274d68.png" alt="" /></p><p>çƒ¦æ¼ï¼Œæ˜¯æ¯ä¸ªäººæœ‰çš„ï¼Œå®ƒåƒå½±å­ä¸€æ ·ï¼Œå¦‚å½±éšå½¢ã€‚</p><p>ä»¥å‰çš„æ—¶ä»£ï¼Œç”µå­è®¾å¤‡è¿˜æ²¡æœ‰æ™®åŠçš„æ—¶å€™ï¼Œäº²æœ‹å¥½å‹èšåœ¨ä¸€èµ·èŠèŠå¤©ï¼Œçƒ¦æ¼å¥½åƒå°±èƒ½å¾—åˆ°é‡Šæ”¾ï¼›å¯å¦‚ä»Šï¼Œè¶Šæ¥è¶Šå¤šçš„é«˜ç§‘æŠ€æ–¹ä¾¿äº†ç”Ÿæ´»ï¼Œå´ä¹Ÿé˜»ç¢äº†äººä»¬çš„æ²Ÿé€šã€‚</p><p>äºæ˜¯ä¹ï¼Œå¤§éƒ¨åˆ†çš„äººåœ¨ç™½å¤©é‡Œå…‰é²œäº®ä¸½ï¼Œåœ¨å¤œæ™šé—´é»¯ç„¶ç¥ä¼¤ï¼Œåˆ°å¤„å¯»æ‰¾é¸¡æ±¤è¯•å›¾å®‰æ…°è‡ªå·±å—ä¼¤çš„å¿ƒçµï¼Œå´ä¹ŸæŠ‘éƒçš„æƒ…ç»ªè´¯ç©¿å§‹ç»ˆã€‚</p><p>å…¶å®ï¼Œè¯´åˆ°åº•ï¼Œæ˜¯æ²¡æœ‰å­¦ä¼šä¸è‡ªå·±å’Œè§£ã€‚è€Œã€Šå¤©é»‘ä»¥åã€‹è¿™æœ¬ä¹¦ï¼Œç²¾å‡†åœ°è¡¨è¾¾äº†äººä»¬çš„å›°æƒ‘ï¼Œè®©è¯»è€…äº†è§£åˆ°ï¼šåŸæ¥åšä¸ªå¼€å¿ƒçš„äººï¼Œä¹Ÿæ²¡é‚£ä¹ˆéš¾ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/imageef274f2aa9608d63.png" alt="" /></p></div><h2 id="1ã€äººäººéƒ½æœ‰ä¸åŒçš„æˆ˜åœºã€‚">1ã€äººäººéƒ½æœ‰ä¸åŒçš„æˆ˜åœºã€‚</h2><p>ã€Šå¤©é»‘ä»¥åã€‹æ˜¯æ—¥æœ¬ä½œå®¶æ‘ä¸Šæ˜¥æ ‘è¿ˆå‘æ–°å°è¯´çš„æ ‡å¿—æ€§æ°ä½œï¼Œè®²è¿°äº†å†¬æ—¥ï¼Œä¸œäº¬ï¼Œæ·±å¤œ11ç‚¹åˆ°æ¸…æ™¨6ç‚¹çš„æ•…äº‹ã€‚</p><p>19å²çš„ç›ä¸½ï¼Œæ˜¯å¤–è¯­å¤§å­¦é‡Œå­¦ä¸­æ–‡çš„å­¦ç”Ÿï¼Œå¥¹æœ‰ç€ä¸ä¼—ä¸åŒä¹‹å¤„ï¼Œé‚£å°±æ˜¯â€œèº«ä¸ºæ—¥æœ¬äººï¼Œè®²ä¸­å›½è¯çš„æ¬¡æ•°å¤šäºè®²æ—¥æœ¬è¯ã€‚â€</p><p>åŒæ—¶ï¼Œå¥¹ä¹Ÿæ˜¯ä¸ªåŒé¢äººç‰©ï¼Œå¤–è¡¨é«˜å‚²ï¼Œå†…å¿ƒè‡ªå‘ï¼Œæœ‰ç€ä¸ä¸ºäººçŸ¥çš„çƒ¦æ¼ï¼Œå¯¹ç”Ÿæ´»å’Œå‘¨å›´çš„äº‹ç‰©æ¨¡æ£±ä¸¤å¯ã€‚</p><p>å¥¹ä¸åŒåœ¨å±‹æªä¸‹çš„å§å§çˆ±ä¸½ä»æ¥æ²¡æœ‰è¿‡æ¨è‡³å¿ƒè…¹åœ°è°ˆå¿ƒäº¤æ„ï¼Œä¹Ÿä»æ¥æ²¡æœ‰è¿‡ä¸€æ¬¡äº‰åµä¸çŸ›ç›¾ï¼Œå„è¿‡å„çš„çš„ç”Ÿæ´»ï¼Œå„è‡ªæ€æƒ³ã€‚</p><p>ä¹¦ä¸­æœ‰è¿™ä¹ˆä¸€å¥è¯ï¼š</p><blockquote><p>â€œäººäººéƒ½æœ‰ä¸åŒçš„æˆ˜åœºã€‚â€</p></blockquote><p>æˆ‘æƒ³ç›ä¸½å’Œçˆ±ä¸½å§å¦¹ä¿©äººä¾¿æ˜¯å¦‚æ­¤å„è‡ªé¢å¯¹ç€æˆ˜åœºç¡çƒŸã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image073c6c44e175599d.png" alt="" /></p><p>å§å§çˆ±ä¸½é•¿å¾—ç¾ä¸½åŠ¨äººï¼Œåˆä¸­ä¸Šç”µè§†èŠ‚ç›®ï¼Œå¤§å­¦è¯»è´µæ—å¤§å­¦ï¼Œåœ¨ä»–äººçœ¼é‡Œè¿™ä¾¿æ˜¯æ‰€è¯´çš„â€œåˆ«äººå®¶çš„å­©å­â€çš„æ ‡å‡†ã€‚</p><p>å¯æ˜¯åœ¨è¿™å…‰é²œäº®ä¸½çš„å¤–è¡¨ä¹‹ä¸‹ï¼Œå´æœ‰éš¾ä»¥è¨€è¯´çš„è‹¦æ¥šï¼šè¿‡æ•ç—‡ï¼Œè¯ç‰©ä¾èµ–ç—‡ï¼Œä»¥åŠä¸€äº›ä¸ä¾¿å¯¹äººæåŠçš„ä¸ªäººé—®é¢˜ã€‚</p><p>å„è‡ªçš„å†…å¿ƒæˆ˜äº‰ä¾¿æ˜¯å¦‚æ­¤ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„é»‘å¤œï¼Œè€Œåˆ«äººå´æ€»æ˜¯åªçœ‹è§å¥¹çš„å…‰èŠ’å››å°„çš„æ™´å¤©ã€‚è¯´ä¸å‡ºå£çš„ç§˜å¯†ï¼Œæ˜¯ä¸€åœºå‘é…µçš„æƒ…ç»ªï¼Œéšæ—¶ä¼šåœ¨é»‘å¤œé‡Œå´©æºƒç“¦è§£ã€‚</p><p>æ‰€ä»¥ï¼Œä¸äººæ´½è°ˆå’Œæ²Ÿé€šï¼Œæ¨å¿ƒç½®è…¹åœ°äº¤æµï¼Œæ‰æœ‰å¯èƒ½è·å¾—å†…å¿ƒçš„å®é™ã€‚</p><p>å¯å¤§å¤šæ•°çš„äººï¼ŒåŒ…æ‹¬ç›ä¸½å’Œçˆ±ä¸½ï¼Œéƒ½è‹¥æ— å…¶äº‹åœ°å°†å¿ƒäº‹æ©åŸ‹åœ¨å¿ƒåº•ï¼Œä»»ç”±æƒ…ç»ªæ³›æ»¥ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image6da25e190b0a7b6d.png" alt="" /></p><p>æœ€åï¼Œå§å§çˆ±ä¸½åœ¨è¿™åœºé»‘æš—ä¸­ï¼Œè¿›å…¥äº†é•¿è¾¾ä¸¤ä¸ªæœˆçš„æ— ä¼‘æ— æ­¢ã€æ— ç¼˜æ— æ•…åœ°â€œé•¿çœ â€ï¼Œå¥¹ç”¨é•¿çœ æ¥å¯¹æŠ—å¥¹çš„çƒ¦æ¼å¯¹æŠ—é‚£æ— å°½é»‘æš—ã€‚</p><p>é¢å¯¹å§å§æ— ä¼‘æ— æ­¢åœ°æ˜ç¡ï¼Œæ— æ³•å¿å—çš„ç›ä¸½ç¦»å¼€äº†å®¶ï¼Œå»é¤é¥®é¦†çœ‹ä¹¦æŠ½çƒŸï¼Œæ‰“å‘æ—¶é—´ï¼Œå¥¹ç”¨å½»å¤œä¸çœ æ¥æ’é£çƒ¦æ¼ï¼Œè¯•å›¾åœ¨è¿™ä¸€å¤œä¹‹æ—…ä¸­å¯»æ‰¾å¿ƒçµçš„å®‰æ…°ã€‚</p><p>ç›ä¸½åœ¨å’Œä¸ç†ã€èŸ‹èŸ€ç­‰äººä¸€èµ·æ•‘åŠ©ä¸­å›½å¥³å­©çš„è¿‡ç¨‹ä¸­ï¼Œæ¸æ¸åœ°å‘ä»–ä»¬è¯´å‡ºè‡ªå·±çš„å¿ƒäº‹ï¼Œæœ€ç»ˆè§£å¼€å¿ƒç»“ã€‚</p><p>åŸæ¥â€œæ¶â€åªæ˜¯å›°å¢ƒçš„ä¸€ç§å‡ºå£ï¼Œä»–ä»¬å¿ƒåº•å–„è‰¯å¹¶æ²¡æœ‰â€œæ¶â€ï¼Œåªæ˜¯å›°å¢ƒè®©â€œæ¶â€ç»™é€ƒå‡ºç‰¢ç¬¼è‚†è™é‚£äº›å¿ƒä¸­ç¡çƒŸæˆ˜åœºçš„äººä»¬ç½¢äº†ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image2a794954b44642fc.png" alt="" /></p><h2 id="2ã€æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å¼±ç‚¹">2ã€æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å¼±ç‚¹</h2><p>ç”Ÿæ´»ä¸­ï¼Œæœ‰å¤ªå¤šçš„äººï¼Œæˆ´ç€è™šä¼ªçš„é¢å…·ç”Ÿæ´»ï¼Œç”¨å¦å®šçš„è¯­æ°”æ‹’ç»ç€è‡ªå·±çš„æ‡¦å¼±ï¼Œä¼ªè£…è‡ªå·±å¿«ä¹å¹¸ç¦ï¼Œå´æŠŠæ‰€æœ‰çš„ç‹¼ç‹ˆéƒ½å‹æŠ‘åœ¨å¿ƒåº•ã€‚</p><p>è¿™ä¹ˆåšçš„ç»“æœï¼Œå¹¶ä¸èƒ½å¾—åˆ°æ•‘èµï¼Œåè€Œä¼šéƒéƒå¯¡æ¬¢ï¼Œæ›´æœ‰ç”šè€…ï¼Œè¿˜ä¼šæ‚£ä¸ŠæŠ‘éƒç—‡ã€‚</p><p>ç”Ÿæ´»å³ä½¿å†ä¸å®¹æ˜“ï¼Œä¹Ÿè¦åŸå¸‚çš„é¢å¯¹è‡ªå·±çš„å¿ƒï¼Œé¢å¯¹è‡ªå·±å†…å¿ƒé‚£ä»½å’†å“®æ€’å¼çš„å¦ä¸€é¢ï¼Œç„¶åæ‰¾åˆ°è§£å†³çš„åŠæ³•ã€‚</p><p>å”¯æœ‰å¦‚æ­¤ï¼Œæ‰èƒ½åœ¨é»‘å¤œé‡Œå¥‹åŠ›å‰è¡Œã€‚</p><p>åœ¨ä¹¦ä¸­ï¼Œä¸æ­¢çˆ±ä¸½ä¸ç›ä¸½å§å¦¹ä¿©ï¼Œç™¾å·è¡¨é¢ä¸Šè¿‡ç€æ³¢æ¾œä¸æƒŠçš„è§„å¾‹ç”Ÿæ´»ï¼Œå…¶å®ä»–åŠªåŠ›å‹æŠ‘è‡ªå·±çš„éœ€æ±‚ã€æ¬²æœ›ã€æƒ…ç»ªã€‚</p><p>åœ¨ä»–æŠŠé‚£ä¸ªå¥³å­©æ‰“å¾—éä½“é³ä¼¤å¹¶æ‹¿èµ°å¥¹çš„è¡£ç‰©æ—¶ï¼Œè¿™ä¸€é˜´æš—ä¸”ç–¯ç‹‚çš„è‡ªå·±è¿ä»–éƒ½ä¸è®¤è¯†äº†ï¼ŒåŸæ¥â€œé»‘æš—â€åˆ°æ¥ä¹‹æ—¶æ‰çœŸæ­£åœ°æ˜ç™½è‡ªå·±å†…å¿ƒçš„æ³¢æ¶›æ±¹æ¶Œã€‚</p><p>é‚£äº›ç§äººçš„æƒ…ç»ªæˆ–ç§˜å¯†å°±åƒæµ“éƒçš„é»‘å¤œï¼Œé€ä¸è¿›æ—¥å…‰ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image6968224526161673.png" alt="" /></p><p>æ˜¯å•Šï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„çƒ¦æ¼ï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å¼±ç‚¹ã€‚</p><p>ä½†ç»†ç»†æ€æ¥ï¼Œæˆ‘ä»¬éƒ½åº”è¯¥è¦æ­£ç¡®åœ°è®¤è¯†è‡ªå·±ï¼Œå¹¶ä¸åªæ˜¯å…‰æ˜çš„é‚£ä¸ªè‡ªå·±ï¼Œä¹Ÿåº”è¯¥æœ‰é»‘æš—ä¸‹çš„é‚£ä¸ªè‡ªå·±ã€‚</p><p>å½“æˆ‘ä»¬é¡¿æ‚Ÿäº†ä¸è‡ªå·±è¿ç”¨éæš´åŠ›æ²Ÿé€šäº¤æµå†…å¿ƒæ·±å¤„æ—¶ï¼Œæˆ‘ä»¬å°±ä¸ä¼šå®³æ€•é»‘æš—çš„åˆ°æ¥ï¼Œä»è€Œå…·æœ‰è‡ªæˆ‘ç–—ä¼¤ï¼Œè‡ªæˆ‘è®¤çŸ¥çš„æ„å‘³ã€‚</p><p>è‹¥å› ä¸ºé€ƒé¿é»‘æš—ï¼Œè€Œä¸æ–­åœ°å˜æ¢è‡ªå·±çš„å·¥ä½œç”Ÿæ´»ç¯å¢ƒï¼Œå†…å¿ƒçš„ä¸å®‰ä¸å®³æ€•åœ¨é»‘å¤œæ¥ä¸´æ—¶å¼€å§‹å‘é…µï¼Œå¹³é™ä¹Ÿå°±æ¸è¡Œæ¸è¿œã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image280c55b663f4e829.png" alt="" /></p><h2 id="3ã€è¦å­¦ä¼šä¸è‡ªå·±å’Œè§£">3ã€è¦å­¦ä¼šä¸è‡ªå·±å’Œè§£</h2><p>åˆ˜è‹¥è‹±æ›¾è¯´è¿‡ï¼šâ€œäººè¿™ä¸€ç”Ÿç»ˆç©¶è¦å­¦ä¼šä¸è‡ªå·±å’Œè§£ã€‚â€</p><p>æˆ‘ä»¬èµ¢è¿‡äº†æ¼‚æ³Šï¼Œè·‘èµ¢çš„æ—¶é—´ï¼Œåˆ†è¾¨äº†é»‘ç™½ï¼Œä¹Ÿè¦å­¦ä¼šæ¥å—è¿™ä¸ªé»‘å¤œï¼Œè™½è¯´ç™½å¤©ä¹‹å…‰å²‚è¯´é»‘å¤œä¹‹æ·±ï¼Œä½†å½“å¤ªé˜³ç…§è€€æ—¶æ‰å«å…‰èŠ’ä¸‡ä¸ˆã€‚</p><p>æ¯ä¸ªäººï¼Œéƒ½ç‹¬è‡ªæ€€æœ‰å„ç§å„æ ·çš„çƒ¦æ¼ï¼Œæ— è¨€å‘»åŸï¼Œæ— æ³•é¡ºåˆ©å‰è¡Œéœ€è¦å¸®åŠ©ï¼Œéœ€è¦åƒç™½å¤©é‚£æ ·å…‰æ˜çš„ç…§è€€ã€‚</p><p>æ¯ä¸ªäººéƒ½å¹¶éæ— ç—…å‘»åŸï¼Œæ‘ä¸Šæ˜¥æ ‘çš„ç¬”æ³•æ¸…æ·¡è€Œåˆæµ“éƒï¼Œåœ¨ä»–çš„ç¬”ä¸‹ï¼Œæ¯ä¸€ä¸ªäººéƒ½ç”¨è‡ªå·±çš„ä¸€è¨€ä¸€è¡Œçš„çƒ¦æ¼ã€‚</p><p>æˆ–è®¸äººä¸äººä¹‹é—´çš„äº¤æµï¼Œå’Œè‡ªå·±ä¸å†…å¿ƒçš„äº¤æµï¼Œæ‰èƒ½ä»è¿™æ— å°½é»‘æš—ä¸­æ‰¾åˆ°ç¯ç«ï¼Œä¼šå‘ç°çˆ±ä¸æ¶å¹¶éå¯¹ç«‹ï¼›åªæ˜¯é»‘æš—è®©æ¶æœ‰äº†å‡ºå£ï¼Œä½†å¹¶ä¸å¦¨ç¢çˆ±çš„å­˜åœ¨ï¼Œäºæ˜¯è¡¨è¾¾æˆä¸ºäº†æ¸¡è¿‡é»‘æš—çš„èˆŸï¼Œå’Œè§£æˆä¸ºäº†æ¡¨ã€‚<p><p>åœ¨ä¹¦é‡Œï¼Œæ‘ä¸Šæ˜¥æ ‘ç«™åœ¨é«˜æ¡¥çš„è§’åº¦è¯´ï¼š</p><blockquote><p>â€œä¸€ä¸ªäººä¸€ç”Ÿä¸­åªè¦åšè¿‡ä¸€æ¬¡å­¤å„¿ï¼Œé‚£ä»–åˆ°æ­»éƒ½æ˜¯å­¤å„¿ã€‚â€</p></blockquote><p>äººç”Ÿå°±æ˜¯ä»ä»Šå¤©èµ°å‘æ˜å¤©ï¼Œæˆ‘ä»¬åªéœ€å¹³æ·¡åœ°æ´»ä¸‹å»ï¼Œæˆ‘ä»¬æ…¢æ…¢èµ°è·¯ï¼Œå¤šå¤šå–æ°´ã€‚</p><p>ä¹¦ä¸­çš„çˆ±ä¸½æœ€ç»ˆè¿˜æ˜¯æƒ³æ˜ç™½äº†ï¼Œå¥¹æŠ±ä½äº†èººåœ¨åºŠä¸Šé•¿çœ çš„å§å§ï¼Œå¥¹ä»¬ç›¸äº’ä¼ é€’èº«ä½“çš„æš–æ„ï¼Œå¥¹ä¹Ÿæ»¡æ€€ä¿¡å¿ƒåœ°ç­‰ç€å§å§çš„è‹é†’ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image55a75f07137432c3.png" alt="" /></p><p>åœ¨ä¹¦é‡Œï¼Œæœ‰è¿™ä¹ˆä¸€å¥è¯ï¼š</p><blockquote><p>â€œæ–°çš„ä¸€å¤©å·²ç»è¿«åœ¨çœ‰ç«ï¼Œè€Œæ—§çš„ä¸€å¤©å´æ‹–æ‹½ç€æ²‰é‡çš„è¡£è£¾æœ‰æœªç¦»å¼€ã€‚â€</p></blockquote><p>è¿™å¯¹åº”äº†ç°ä»£äººæ¯åˆ°æ™šä¸Šå°±æŠ‘éƒéš¾è¿‡çš„å¿ƒæ€ï¼Œæ˜¯å› ä¸ºæ—§çš„åŒ…è¢±é‡Œæƒ…ç»ªåœ¨æ³›æ»¥ï¼Œè¿‡å»çš„ä¼¤å®³å¦‚å½±éšå½¢ï¼Œåªèƒ½ä¼ªè£…åšå¼ºï¼Œç”¨åŠ›æŒ¤å‡ºç¬‘å®¹ï¼Œå…¶å®æ’•å¼€ä¼ªè£…ï¼Œè°éƒ½è¿‡å¾—ä¸å¿«ä¹ã€‚</p><p>æˆ–è®¸æ¯ä¸ªäººé‡åˆ°çš„çƒ¦æ¼å¹¶ä¸ä¸€æ ·ï¼Œä½†æˆ‘ä»¬éœ€è¦çš„æ˜¯ç›¸äº’å€¾è¿°ã€ç›¸äº’ç†è§£ã€ç›¸äº’å¸®åŠ©ï¼Œæ–°çš„ä¸€å¤©å°±è¦åˆ°æ¥ï¼Œæ— è®ºè¿‡å»çš„é»‘æš—å¤šä¹ˆä¸å ªï¼Œæˆ‘ä»¬ç»ˆå°†å†²ç ´é»‘æš—è¿æ¥å…‰æ˜ã€‚</p><p>äººç±»çš„åŒæ‰‹ä¸ºä½•ä¸ºåŒï¼Œå› ä¸ºä¸€åªæ‰‹æ¡ç°åœ¨å¦ä¸€åªæ‰‹æ¡æœªæ¥ï¼Œä»–ä»¬ç»ˆåœ¨é»æ˜åˆ°æ¥çš„é‚£ä¸€åˆ»å°†æ¸…æ™¨å´­æ–°çš„å…‰èŠ’ä»å®¹åœ°è†¨èƒ€å¼€ã€‚</p><p>æˆ‘ä»¬è‹¥è¿æ¥äº†é»‘æš—ï¼Œé‚£ä¾¿æ˜¯å…‰æ˜åˆ°æ¥å‰çš„é¢„å…†ã€‚</p>]]></content>
    
    
    <summary type="html">ğŸ¥§è§£å†³æˆé•¿çš„çƒ¦æ¼ï¼Œåªéœ€è¦åšå¯¹ä¸€ä»¶äº‹</summary>
    
    
    
    <category term="é˜…è¯»" scheme="https://www.fomal.cc/categories/%E9%98%85%E8%AF%BB/"/>
    
    
    <category term="ä¹¦ç±" scheme="https://www.fomal.cc/tags/%E4%B9%A6%E7%B1%8D/"/>
    
  </entry>
  
  <entry>
    <title>ã€Šäº‘è¾¹æœ‰ä¸ªå°å–éƒ¨ã€‹</title>
    <link href="https://www.fomal.cc/posts/1.html"/>
    <id>https://www.fomal.cc/posts/1.html</id>
    <published>2023-08-09T10:19:03.000Z</published>
    <updated>2023-08-09T10:19:03.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note info no-icon flat"><p><font size="4px"><b>å¯¼è¯» ğŸ“</b></font></p><p>å¼ å˜‰ä½³ä½œå“ã€Šäº‘è¾¹æœ‰ä¸ªå°å–éƒ¨ã€‹ã€‚äº‘è¾¹é•‡çš„åˆ˜åä¸‰ï¼Œä»å°ä¸å¼€å°å–éƒ¨çš„å¤–å©†ç‹èºèºç›¸ä¾ä¸ºå‘½ã€‚åˆ˜åä¸‰ï¼Œå„æ–¹é¢éƒ½å¾ˆå¹³å‡¡ï¼Œå¹¸è¿çš„æ˜¯ï¼Œåœ¨ä»–å¤±æ„çš„æ—¶å€™ï¼Œæ€»æœ‰åœ¨æ„ä»–çš„äººé™ªä¼´åœ¨èº«è¾¹ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image.png" alt="" /></p><p>æ€»æœ‰é‚£ä¹ˆä¸€äº›æ—¶åˆ»ï¼Œæˆ‘ä»¬çˆ±çš„äººä¼šä¸æˆ‘ä»¬ä¸è¾è€Œåˆ«ï¼Œçˆ±æˆ‘ä»¬çš„äººä¼šç¦»æˆ‘ä»¬è€Œå»ï¼Œäº’ç›¸é™ªä¼´çš„äººä¼šçªç„¶å¤±æ•£ã€‚</p><p>å†ç»ä¸–äº‹æ²§æ¡‘ï¼Œæ›¾ç»æ— æ•°æ¬¡æƒ³é€ƒç¦»çš„æ•…ä¹¡ï¼Œä¸ç®¡æœ€ç»ˆæ˜¯å¦é‡æ–°å›å»ï¼Œéƒ½ä¼šåœ¨äººç”Ÿä¸­ç•™ä¸‹ä¸å¯ç£¨ç­çš„å°è®°ã€‚</p><p>ã€Šäº‘è¾¹æœ‰ä¸ªå°å–éƒ¨ã€‹ï¼Œäº‘è¾¹é•‡çš„åˆ˜åä¸‰ï¼Œå„æ–¹é¢éƒ½å¾ˆå¹³å‡¡ï¼Œå¹¸è¿çš„æ˜¯ï¼Œåœ¨ä»–å¤±æ„çš„æ—¶å€™ï¼Œæ€»æœ‰åœ¨æ„ä»–çš„äººé™ªä¼´åœ¨èº«è¾¹ã€‚</p><p>åœ¨è¿™ä¸ªä¸–ç•Œä¸Šï¼Œæ´»å¾—è½°è½°çƒˆçƒˆçš„äººç»ˆå½’æ˜¯æå°‘æ•°ï¼Œå¤§å¤šæ•°çš„äººï¼Œå¹³å‡¡å¦‚ä½ æˆ‘ï¼Œç®€ç®€å•å•çš„ç”Ÿæ´»ï¼Œä»å¹´å°‘æ—¶çš„å¥½å¥½å­¦ä¹ ï¼Œåˆ°åæ¥åŸ‹å¤´è‹¦è¯»è¿æˆ˜é«˜è€ƒï¼Œå†åˆ°åæ¥å‰Šå°–è„‘è¢‹èˆ¬åœ°æ‰¾å·¥ä½œï¼Œä¹‹ååˆå…¢å…¢ä¸šä¸šçš„æœä¹æ™šäº”ç”šè‡³å¼€å¯996çš„å·¥ä½œæ¨¡å¼ã€‚ä»æ ¡å›­æ—¶ä»£é‡åˆ°æ€¦ç„¶å¿ƒåŠ¨çš„äººï¼Œåˆ°åæ¥åœ¨æŒ£æ‰ã€çœ¼æ³ªå’Œç—›è‹¦ä¸­åˆ†å¼€ï¼Œæœ€åé‡åˆ°æºæ‰‹æ­¥å…¥å©šå§»çš„äººã€‚</p><p><b>æˆ‘ä»¬éƒ½å¾ˆå¹³å‡¡ï¼Œä½†å¹³å‡¡çš„ä½ æˆ‘ï¼Œèº«è¾¹ä¹Ÿä¼šæœ‰è¿™æ ·ä¸€ä¸ªäººï¼ŒTAä¹Ÿå¹³å‡¡ï¼Œä½†TAçŠ¹å¦‚æ˜äº®çš„å…‰ï¼Œæ¸©æš–ç€æˆ‘ä»¬å­¤ç‹¬çš„å¿ƒï¼Œä¹Ÿç…§äº®ç€æˆ‘ä»¬çš„äººç”Ÿã€‚å¹³å‡¡å¦‚ä½ æˆ‘ï¼Œä¹Ÿä¼šä¸ç»æ„é—´æˆä¸ºä¸€æŸå…‰ï¼Œæ¸©æš–ç€åˆ«äººï¼Œç…§äº®ç€åˆ«äººã€‚</b></p><p>çŠ¹å¦‚åˆ˜åä¸‰çš„å¤–å©†ç‹èºèºï¼ŒçŠ¹å¦‚åˆ˜åä¸‰ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image54f8458af0bb9e0a.png" alt="" /></p></div><h2 id="1ã€ç¬”è®°æœ¬çŸ¥é“ä¸€åˆ‡å¿ƒäº‹ã€‚">1ã€ç¬”è®°æœ¬çŸ¥é“ä¸€åˆ‡å¿ƒäº‹ã€‚</h2><p>åˆ˜åä¸‰ï¼Œåƒè®¸è®¸å¤šå¤šçš„å°é•‡é’å¹´ä¸€æ ·ï¼Œè®¡åˆ’å¥½å¥½å­¦ä¹ ï¼Œæ¸´æœ›ä¸Šæ¸…ååŒ—å¤§ï¼Œè¿œç¦»æ•…ä¹¡ï¼Œçœ‹çœ‹å¤§åŸå¸‚æ˜¯å¦çœŸçš„æ¯”é™¢å­é‡Œçš„æ¡ƒæ ‘è¿˜ç¾ï¼Œæƒ³å»å¤§åŸå¸‚å·¥ä½œç”Ÿæ´»ã€‚</p><p>å½“åŒé¾„äººéƒ½åœ¨å¨±ä¹ç©è€æ—¶ï¼Œåˆ˜åä¸‰è‡ªå¾‹åœ°æ²‰è¿·äºçŸ¥è¯†çš„ç‹å›½ã€‚</p><p>åˆ˜åä¸‰æœ‰ä¸ªç¬”è®°æœ¬ï¼Œè®°ä¸‹çš„éƒ½æ˜¯è‡ªå·±çš„è®¡åˆ’ã€‚</p><p>åˆ˜åä¸‰é¢„ä¹ å¤ä¹ è¡¥ä¹ ï¼ŒåŠªåŠ›å­¦ä¹ ï¼Œé«˜è€ƒåˆ†æ•°å¹¶æ²¡æœ‰å¦‚æ„¿ï¼Œåˆ˜åä¸‰æ˜ç™½äº†ï¼šå¾ˆå¤šäº‹æƒ…ï¼Œä¸æ˜¯ä»…é è®¡åˆ’ã€æ¯…åŠ›å°±èƒ½åšåˆ°ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image3034204124edaada.png" alt="" /></p><p>å¹´å°‘æ—¶ï¼Œæ¯ä¸ªäººéƒ½æœ‰ä¸€ä¸ªç¬”è®°æœ¬ï¼Œæˆ–æœ‰å½¢æˆ–æ— å½¢ï¼Œé‡Œé¢æ”¶è—ç€æ‰€æœ‰çš„å¿ƒäº‹ã€‚</p><p>èµ·åˆæ˜¯ä¸€é¡¹åˆä¸€é¡¹å¿…é¡»å®Œæˆçš„ä»»åŠ¡ï¼Œéšç€å®šä¸‹çš„ä»»åŠ¡è¶Šæ¥è¶Šéš¾ä»¥å®Œæˆï¼Œå°±å˜æˆäº†è‡ªå·±ä¸€ä¸ªåˆä¸€ä¸ªçš„æ„¿æœ›ï¼Œä¸æ˜¯æ‰€æœ‰çš„æ„¿æœ›éƒ½èƒ½å®ç°ï¼Œæˆ‘ä»¬æ¸æ¸æ¥å—äº†ç°å®ã€‚</p><p>æˆ‘ä»¥å‰ä¹Ÿè®¤ä¸ºï¼Œå†™ä¸‹çš„æ¯ä¸€é¡¹ç›®æ ‡éƒ½åº”è¯¥å®Œæˆï¼Œä¸è¾¾æ ‡çš„æ—¶å€™æ€»ä¼šæ²®ä¸§ã€è‡ªæˆ‘æ€€ç–‘ï¼Œåæ¥æ‰æ˜ç™½ï¼Œä¸èƒ½æ€»æ˜¯æ‰§ç€äºâ€œæ²¡æœ‰æ‰“é’©â€çš„äº‹é¡¹ï¼Œé‚£äº›â€œè¢«æ‰“é’©â€çš„äº‹é¡¹ï¼Œæ˜¯è‡ªå·±è¸è¸å®å®ä»˜å‡ºã€æ²¡æœ‰è™šåº¦æ—¶å…‰çš„è¯æ˜ï¼Œè½ç¬”å†™ä¸‹æ¯ä¸€ä¸ªç›®æ ‡çš„ç¬é—´éƒ½æ˜¯æå…¶éƒ‘é‡è®¤çœŸçš„ã€‚</p><p>ç¿»çœ‹ä¸€è·¯èµ°æ¥çš„è¯æ®ï¼Œé‚£äº›éƒ½æ˜¯è‡ªå·±ä¸€ä¸ªäººé»˜é»˜å¿å—çš„æ•‘èµã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image2ea225aeb42c7999.png" alt="" /></p><h2 id="2ã€æ²¡æœ‰æ”¾ä¸ä¸‹çš„äººã€‚">2ã€æ²¡æœ‰æ”¾ä¸ä¸‹çš„äººã€‚</h2><p>åˆ˜åä¸‰å¤§å­¦æ—¶å–œæ¬¢çš„å¥³ç”Ÿæ˜¯ç‰¡ä¸¹ã€‚åˆ˜åä¸‰æ˜ç™½çˆ±æƒ…å¿…é¡»ç»™äºˆï¼Œå¯ä»–èƒ½æ‹¿å¾—å‡ºæ‰‹çš„ï¼Œåªæœ‰å°šæœªåˆ°æ¥çš„æœªæ¥ã€‚</p><p>åˆ˜åä¸‰ä¸€ç›´è¢«è’™åœ¨é¼“é‡Œï¼Œå½“äº†ç‰¡ä¸¹ä¸¤å¹´æœ‰åæ— å®çš„ç”·æœ‹å‹ï¼Œç‰¡ä¸¹çœŸæ­£çš„ç”·å‹å¦æœ‰ä»–äººã€‚</p><p>å¤±å»çˆ±æƒ…ï¼Œåˆ˜åä¸‰å¶å°”è¿˜æ˜¯ä¼šæƒ³èµ·ç‰¡ä¸¹ã€‚åˆ˜åä¸‰æ˜ç™½çš„ï¼Œç‰¡ä¸¹ä¸çˆ±åˆ˜åä¸‰ã€‚</p><p>åˆ†å¼€åï¼Œåˆ˜åä¸‰å¾ˆå¤šæ¬¡æƒ³ç»™ç‰¡ä¸¹æ‰“ç”µè¯ï¼Œä½†éƒ½å¿ä½äº†ï¼Œæœ€åç»ˆäºæ‹¨é€šæ—¶æ‰çŸ¥æ˜¯ç©ºå·ã€‚</p><p>åˆ˜åä¸‰ææƒšæ—¶æƒ³ï¼Œä»–æ‹¼å°½å…¨åŠ›ï¼Œä¸è¿‡æ˜¯åœ¨é‡å¤ç­‰å¾…ï¼Œä»–æœ¬å¯ä»¥å‘ç°å¥¹å¹¶ä¸çˆ±ä»–çš„äº‹å®ï¼Œç­‰å¾…ä¸èƒ½ç§°ä½œåŠªåŠ›ã€‚</p><p>åˆ˜åä¸‰ç”±å§‹è‡³ç»ˆæ²¡æœ‰åŸ‹æ€¨è¿‡ç‰¡ä¸¹ã€‚æœ‰ä¸€å¤©ï¼Œåˆ˜åä¸‰çªç„¶å‘ç°ï¼Œè‡ªå·±å·²ç»ä¸çŸ¥ä¸Šæ¬¡æƒ³å¿µç‰¡ä¸¹æ˜¯ä»€ä¹ˆæ—¶å€™äº†ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image9930ee262d7aefc0.png" alt="" /></p><p>â€œæ‰¾ä¸€ä¸ªçˆ±ä½ çš„äººç»“å©šï¼Œå¹¸ç¦ç”Ÿæ´»â€æ˜¯å¤šå°‘äººçš„æ†§æ†¬ã€‚åœ¨ä¸€æ— æ‰€æœ‰çš„å¹´çºªï¼Œé‡ä¸Šäº†ä»¥ä¸ºå¯ä»¥æºæ‰‹ä¸€ç”Ÿçš„äººï¼Œè€Œé‚£ä¸ªä½ æ„¿æ„ä¸ºå…¶å€¾å°½å…¨åŠ›ã€ä»˜å‡ºæ‰€æœ‰çš„äººï¼Œæœ€ç»ˆè¿˜æ˜¯ä¸ä½ åˆ†å¼€äº†ã€‚</p><p>è¿‡æ¥äººä¼šå‘Šè¯‰ä½ ï¼šçˆ±æƒ…ç»ˆç©¶æ•Œä¸è¿‡ç°å®ã€‚å¯æˆ‘æ€»è®¤ä¸ºï¼Œ<b>åƒä¸‡ä¸ªåˆ†å¼€çš„ç†ç”±ï¼Œå½’æ ¹åˆ°åº•éƒ½æ˜¯å› ä¸ºä¸å¤Ÿçˆ±ï¼Œâ€œç°å®â€ä¸è¿‡æ˜¯â€œä¸å¤Ÿçˆ±â€çš„ä¸€ä¸ªè¡¨é¢ã€‚</b></p><p>ä½ è¯´ä½ è¦å»è¿½æ±‚æ¢¦æƒ³äº†ï¼Œæˆ–è®¸çŒ´å¹´é©¬æœˆéƒ½ä¸å¯èƒ½åŠŸæˆåå°±ï¼Œä½ è®©å¯¹æ–¹ä¸è¦ç­‰äº†ï¼Œä½ æ€•è€½è¯¯å¯¹æ–¹çš„å¤§å¥½å‰ç¨‹ï¼Œå¯æ˜¯ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œå¯¹æ–¹çš„æ¢¦æƒ³é‡Œé¢ï¼Œæ°æ°å°±åŒ…å«äº†ä½ ã€‚</p><p>ä½ è¯´ä½ ä¸å¤Ÿä¼˜ç§€ï¼Œç»™ä¸äº†å¯¹æ–¹æƒ³è¦çš„ç”Ÿæ´»ï¼Œå¯¹æ–¹å¦‚ä½ æ‰€æ„¿å’Œä½ åˆ†æ‰‹äº†ï¼Œä½ æƒ³æœç„¶åˆæ˜¯ä¸€ä¸ªç°å®çš„äººï¼Œå¯æ˜¯ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œå¯¹æ–¹æ—©å°±å‡†å¤‡å¥½å¹¶è‚©ä½œæˆ˜ï¼Œæ˜¯ä½ è‡ªæˆ‘æ”¾å¼ƒçš„æ€åº¦ï¼Œä»¤å¯¹æ–¹ä¸€æ¬¡åˆä¸€æ¬¡æ„Ÿåˆ°å¤±æœ›ã€‚</p><p>ä½ è¯´ä½ è¦æ±‚ä¸å¤šï¼Œç„¶è€Œä½ æ€»æ˜¯ä¸ºå¯¹æ–¹å¶å°”çš„å¿½ç•¥æ„Ÿåˆ°ä¸æ»¡æ„ï¼Œå¯æ˜¯ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œå¯¹æ–¹å·²ç»åœ¨è‡ªå·±çš„èƒ½åŠ›èŒƒå›´å†…ï¼Œå°½åŠ›åšåˆ°æœ€å¥½äº†ã€‚</p><p><b>å¹¸å¥½ï¼Œåˆ†æ‰‹æ—¶çš„ç—›å½»å¿ƒæ‰‰ï¼Œæœ€ç»ˆä¼šè¢«æ—¶é—´æ…¢æ…¢æ²»æ„ˆï¼Œæ²¡æœ‰æ”¾ä¸ä¸‹çš„äººã€‚ç¼“ç¼“è·³åŠ¨çš„å¿ƒï¼Œæ²¡æœ‰æ­»ï¼Œå´ä¸å†è½»æ˜“å¿ƒåŠ¨äº†ï¼Œä¸æ˜¯å› ä¸ºä¸å†ç›¸ä¿¡çˆ±æƒ…ï¼Œè€Œæ˜¯æ›´åŠ æ¸…æ¥šè‡ªå·±æƒ³è¦çš„æ˜¯ä»€ä¹ˆæ ·çš„çˆ±æƒ…ã€‚</b></p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image391c255f1a6d2e61.png" alt="" /></p><h2 id="3ã€ä½ å†æ™®é€šï¼Œä¹Ÿæœ‰äººçˆ±ä½ ã€‚">3ã€ä½ å†æ™®é€šï¼Œä¹Ÿæœ‰äººçˆ±ä½ ã€‚</h2><blockquote><p>èˆå‹æ™ºå“¥å¯¹åˆ˜åä¸‰çš„å°è±¡ï¼šâ€œæ™ºå“¥è§‰å¾—æ­¤äººè™½ç„¶æ— èŠï¼Œä½†è„¾æ°”ç”šå¥½ã€‚åé¢ä¸€é¡¹ä¼˜ç‚¹éšç€ç†Ÿæ‚‰å˜æˆäº†ç¼ºç‚¹ï¼Œç°åœ¨æƒ³æ¥ï¼Œå¦‚æœæƒ³è¦è¿™æ ·çš„æœ‹å‹ï¼Œåªè¦åˆ°å¤©æ¡¥å¾€ä¸‹æœ›ï¼Œè¡Œèµ°çš„å…¨æ˜¯åˆ˜åä¸‰ã€‚â€</p></blockquote><p>åˆ˜åä¸‰å¤§å­¦è¡¥è€ƒã€é‡ä¿®éƒ½å¤±è´¥ï¼Œå¯¼å¸ˆå¸®ä»–äº‰å–å­¦ä½è¯ï¼Œåƒè¾›ä¸‡è‹¦æ€»ç®—æ¯•ä¸šäº†ã€‚</p><p>åˆ˜åä¸‰æ‰¾åˆ°äº†ä¸€ä»½å–ä¿é™©çš„å·¥ä½œï¼Œè¯•ç”¨æœŸä¸€äº‹æ— æˆï¼Œä¸šç»©å•ç»å¸¸å€’æ•°ç¬¬ä¸€ã€‚</p><p>åˆ˜åä¸‰ä¸æƒ³è®©å•ä½é¢†å¯¼å’ŒåŒäº‹å†·å˜²çƒ­è®½ï¼Œä¿¡èª“æ—¦æ—¦ç«‹ä¸‹äº†å–å‡ºä¸€åƒé›¶ä¸€å¼ ä¿å•çš„ç›®æ ‡ã€‚</p><p>ç¨‹éœœï¼Œå°å­¦å››å¹´çº§æ—¶åœ¨äº‘è¾¹é•‡ç¬¬ä¸€æ¬¡å’Œåˆ˜åä¸‰ç›¸é‡ï¼Œä¸€ä¸ªå¾—ç—…éšæ—¶ä¼šæ­»å»çš„å¥³å­©ã€‚</p><p>åœ¨åˆ˜åä¸‰å¤±æ‹æ—¶é‡é€¢ï¼Œé¼“åŠ±åˆ˜åä¸‰ï¼Œä¸åˆ˜åä¸‰ç»“ä¼´æ‰“è½¦ä¸€ç™¾å…­åå…¬é‡Œå»æ‰¾ç‰¡ä¸¹ï¼›å¬åˆ°åˆ˜åä¸‰çš„ä¿å•ç›®æ ‡ï¼Œç¨‹éœœæ²¡æœ‰æ‰“å‡»ä»–è¿™æ˜¯ä¸€ä¸ªéš¾äºç™»å¤©çš„ä»»åŠ¡ï¼Œè€Œæ˜¯å‡ºè°‹åˆ’ç­–ã€æ”¶é›†èµ„æ–™ã€æ•´ç†æƒ…æŠ¥ï¼Œå¸®åŠ©åˆ˜åä¸‰ä¸€æ­¥æ­¥å‘ä¸€åƒé›¶ä¸€å¼ ä¿å•é è¿‘<p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image968ef14f591da3d8.png" alt="" /></p><p>åœ¨ç¨‹éœœå¿ƒä¸­ï¼Œäº‘è¾¹é•‡æœ€å¥½çš„æ˜¯åˆ˜åä¸‰ï¼Œç«¥å¹´æ—¶ï¼Œæ€»æ˜¯ç»™â€œæ‰“åŠ«â€çš„å°ç¨‹éœœå¸¦ä¸œè¥¿ã€‚</p><p>å“ªæ€•åˆ˜åä¸‰â€œåˆæ‡’ï¼Œåˆå‚»ï¼Œè„¾æ°”æ€ªï¼Œè¯´è¯éš¾å¬ï¼Œå¿ƒè‚ è½¯ï¼Œè…¿çŸ­ï¼Œæ²¡é­„åŠ›ï¼Œä¹Ÿå°±ä½œæ–‡å†™å¾—å¥½ç‚¹ï¼ŒåœŸäº†å·´å½â€ï¼Œå¯â€œè¿™ä¹ˆå·®åŠ²ï¼Œä¸€æ— æ˜¯å¤„â€çš„åˆ˜åä¸‰ï¼Œç¨‹éœœå°±æ˜¯å–œæ¬¢ã€‚</p><blockquote><p>ç¨‹éœœæœ€åç•™ç»™åˆ˜åä¸‰å‡ è¡Œå­—ï¼šâ€œç”Ÿå‘½æ˜¯æœ‰å…‰çš„ã€‚åœ¨æˆ‘ç†„ç­ä»¥å‰ï¼Œèƒ½å¤Ÿç…§äº®ä½ ä¸€ç‚¹ï¼Œå°±æ˜¯æˆ‘æ‰€æœ‰èƒ½åšçš„äº†ã€‚æˆ‘çˆ±ä½ ï¼Œä½ è¦è®°å¾—æˆ‘ã€‚â€</p></blockquote><p>å¤©èµ‹å¼‚ç¦€çš„å¹»æƒ³ï¼Œæ¯ä¸ªäººéƒ½æœ‰è¿‡ï¼›ä¸€é¸£æƒŠäººã€ç¾¡ç…æ—äººçš„ç¾æ¢¦ï¼Œæ¯ä¸ªäººéƒ½æœ‰è¿‡ã€‚å¤§å®¶éƒ½æƒ³æˆä¸ºå¤©æ‰ï¼Œæˆä¸ºä¸¾ä¸–æ— åŒçš„å­˜åœ¨ã€‚</p><p>äº‹å®æ˜¯ï¼ŒåŸ‹è—åœ¨å¿ƒé‡Œçš„è‡ªå‘ï¼Œæ—¶ä¸æ—¶å°±ä¼šå‡ºç°ï¼šè¿™ä¹ˆæ™®é€šçš„æˆ‘ï¼ŒçœŸçš„æœ‰äººä¼šå‘è‡ªå†…å¿ƒçˆ±æˆ‘å—ï¼Ÿ</p><p>ä¸»è§’æ°¸è¿œåªæœ‰ä¸€ä¸ªï¼Œä½†ä»æ¥æ²¡æœ‰ä¸€ä¸ªå‰§æœ¬ï¼Œèƒ½å°‘å¾—äº†é…è§’ã€‚ä½ å†æ™®é€šï¼Œä¹Ÿæœ‰äººçˆ±ä½ ã€‚ä½ å†æ™®é€šï¼Œä¹Ÿå€¼å¾—è¢«çˆ±ã€‚å¦‚æœä½ æ„Ÿå—ä¸åˆ°è¢«çˆ±ï¼Œå¯èƒ½åªæ˜¯å› ä¸ºä½ æœªæ›¾å¯Ÿè§‰ï¼Œé‚£äº›éšè—çš„çˆ±ã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/imagee4003ca21dcffc5c.png" alt="" /></p><h2 id="4ã€æ°¸è¿œçš„å±±ï¼Œæ°¸è¿œçš„æµ·ã€‚">4ã€æ°¸è¿œçš„å±±ï¼Œæ°¸è¿œçš„æµ·ã€‚</h2><p>åˆ˜åä¸‰åŸæœ¬å¸Œæœ›å¤§å­¦æ¯•ä¸šåï¼Œè¯´æœå¤–å©†ç‹èºèºç›˜æ‰é“ºå­ï¼Œä»–åˆ°å¤§åŸå¸‚ä»˜ä¸ªé¦–ä»˜ï¼Œæ¯å¤©å¸¦ç‹èºèºåƒé¸¡è›‹çŒé¥¼ï¼Œè®©ç‹èºèºä½¿ç”¨ç”µåŠ¨éº»å°†æ¡Œã€‚</p><p>å¾—çŸ¥åˆ˜åä¸‰å¤±æ‹å¤±ä¸šæ‚²ä¼¤è‡³æï¼Œä¸ƒåå²çš„ç‹èºèºï¼Œè·‘åˆ°åˆ˜åä¸‰çš„åŸå¸‚ï¼ŒçŒé†‰åˆ˜åä¸‰ï¼Œä¸€æ¥ä¸€å»ä¸¤ç™¾å…¬é‡Œï¼Œå¼€ç€æ‹–æ‹‰æœºï¼Œå°†ä¸ƒå…«åæ–¤çš„è¡Œæå’Œä¸€ç™¾ä¸‰çš„åˆ˜åä¸‰ï¼Œæ‹–å›äº†äº‘è¾¹é•‡ã€‚</p><p>é¢ ç°¸ä¸€è·¯ï¼Œå–é†‰çš„åˆ˜åä¸‰ä¸€ç›´åï¼Œç‹èºèºæ—¶ä¸æ—¶ä¸‹è½¦æ›¿ä»–æ“¦ã€‚â€œè‰°éš¾ï¼Œè¾›è‹¦ã€‚â€ç‹èºèºçš„è‡ªæˆ‘æ„Ÿæ…¨ï¼Œä¸è¿‡æ˜¯å¿ƒç–¼è‡ªå·±çš„å¤–å­™ã€‚</p><p><img src="https://tuchuang.voooe.cn/image/z8eKehttps://tuchuang.voooe.cn/image/z8vag" alt="" /></p><p>é¢å¯¹é•‡é‡Œä¸‰å§‘å…­å©†çš„ç›˜é—®ï¼Œç‹èºèºçœ‰é£è‰²èˆï¼ŒæŠŠåˆ˜åä¸‰å¡‘é€ æˆå¤§åŸå¸‚ç²¾è‹±çš„å½¢è±¡ã€‚</p><p>åˆ˜åä¸‰æ‰§æ„è¦é‡å›åŸå¸‚ï¼Œç‹èºèºè¯´å‡ºäº†å¿ƒé‡Œè¯ï¼šâ€œä»å°åˆ°å¤§ï¼Œä½ éƒ½è¦å»åŸé‡Œï¼Œæˆ‘ä¹Ÿæ²¡æ‹¦ç€ï¼Œä½†ä½ æ€»å¾—è®©æˆ‘æ”¾å¿ƒå•Šâ€¦â€¦â€</p><p>ç‹èºèºå¨è‰ºäº†å¾—ï¼Œç»å¸¸åšè®¸å¤šå¥½åƒçš„ï¼šè±‡è±†ç‚’è‚‰ä¸ã€æœˆé¥¼ã€çº¢çƒ§é²«é±¼ã€è¹„é«ˆçƒ§é¢ç­‹ã€ä¸Šæ±¤è‹‹èœã€å®«ä¿è™¾çƒã€è‘±æ²¹è›å­ã€å†¬ç“œæ’éª¨æ±¤â€¦â€¦åˆ˜åä¸‰ä»¥å‰ä¸Šå­¦æ—¶ï¼Œåƒæ³¡é¢çš„æ—¶å€™ï¼Œå°±ä¼šæ”¾ä¸€ä¸ªç‹èºèºå‡†å¤‡çš„è›‹é¥ºã€‚</p><blockquote><p>åˆ˜åä¸‰è®¤ä¸ºè‡ªå·±æ´»å¾—å¾ˆæ²¡æ„ä¹‰ï¼Œæƒ³åˆ°çš„éƒ½å¾—ä¸åˆ°ï¼Œç‹èºèºä¹‰æ­£è¾ä¸¥ï¼šâ€œä½ æ€ä¹ˆèƒ½ä¹±æƒ³ï¼å››è‚¢å¥å…¨ï¼Œå—è¿‡æ•™è‚²ï¼Œæˆ‘ä»¬å®¶åˆä¸æ˜¯ç©·åˆ°åƒä¸ä¸Šé¥­ï¼Œæ€ä¹ˆèƒ½è¯´æ­»å­—ï¼Ÿå¹´è½»çš„æ—¶å€™å°±è¦èµ°å¾—è¿œè¿œçš„ï¼Œåƒå¥½å¤šè‹¦ï¼Œä½ æ€•ä»€ä¹ˆï¼å®¶é‡Œæœ‰äººï¼Œæˆ‘è€å¤ªå©†åœ¨ï¼Œä½ å°±æœ‰å®¶çš„ï¼Œé—¯å¾—å‡ºå»ï¼Œå›å¾—äº†å®¶ï¼Œæ‰æ˜¯ç¡¬é‚¦é‚¦çš„æ´»æ³•ï¼â€</p></blockquote><p>ç”Ÿè€ç—…æ­»ï¼Œå¤–å©†è¿˜æ˜¯ç¦»åˆ˜åä¸‰è€Œå»äº†ï¼Œæœ€åå¯¹åˆ˜åä¸‰è¯´çš„è¯éƒ½ç•™åœ¨å½•éŸ³ç¬”é‡Œã€‚</p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image75a480e8b61cfdac.png" alt="" /></p><p>åˆ˜åä¸‰çš„æˆé•¿ç¦»ä¸å¼€å¤–å©†çš„å…³æ€€ä¸ç–¼çˆ±ï¼Œå°½ç®¡åˆ˜åä¸‰è¿˜æ¥ä¸åŠç»™å¤–å©†å°½å­å¿ƒï¼Œå¤–å©†å°±å·²ç¦»å»ï¼Œå¯åˆ˜åä¸‰ä¹Ÿä¸€ç›´æ˜¯å¤–å©†æ´»ç€çš„å¸Œæœ›å•Šã€‚</p><p>å¦‚æœè¯´å¤–å©†æ˜¯åˆ˜åä¸‰æ°¸è¿œçš„é å±±ï¼Œé‚£ä¹ˆåˆ˜åä¸‰å°±æ˜¯å¤–å©†å¿ƒé‡Œæ°¸è¿œç‰µæŒ‚çš„æµ·ã€‚</p><p>åˆ˜åä¸‰å’Œå¤–å©†ï¼Œå½¼æ­¤éƒ½æ˜¯å½¼æ­¤çš„æ›™å…‰ã€‚</p><p><b>æˆé•¿å°±æ˜¯ä¸€ä¸ªé€æ¸å¤±å»ã€é€æ¸å‘Šåˆ«çš„è¿‡ç¨‹ï¼Œé‚£äº›æ›¾ç»ä»¥ä¸ºè¿‡ä¸å»çš„åå„¿ï¼Œæ—¥åé‡æ–°è¯´èµ·ï¼Œä¸è¿‡æ˜¯è½»ææ·¡å†™çš„ä¸¤ä¸‰å¥ã€‚</b></p><p><b>å¹³å‡¡å¦‚ä½ æˆ‘ï¼Œåœ¨ä¸çŸ¥ä¸è§‰çš„æŸä¸ªæ—¶åˆ»ï¼Œæˆ‘ä»¬çš„å­˜åœ¨ï¼Œçªç„¶å°±ç…§äº®äº†å¦ä¸€ä¸ªäººçš„ç”Ÿæ´»ï¼Œå› ä¸ºæ‚²ä¼¤ä¸èƒ½åŸ‹æ²¡å¸Œæœ›ã€‚</b></p><p><img src="https://tuchuang.voooe.cn/images/2024/05/08/image54ab2177a076ac4f.png" alt="" /></p>]]></content>
    
    
    <summary type="html">ğŸ¥§å¹³å‡¡å¦‚ä½ æˆ‘ï¼Œä¹Ÿç»ˆä¼šç…§äº®åˆ«äººçš„äººç”Ÿ</summary>
    
    
    
    <category term="é˜…è¯»" scheme="https://www.fomal.cc/categories/%E9%98%85%E8%AF%BB/"/>
    
    
    <category term="ä¹¦ç±" scheme="https://www.fomal.cc/tags/%E4%B9%A6%E7%B1%8D/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript tsc å‘½ä»¤è¡Œç¼–è¯‘å™¨</title>
    <link href="https://www.fomal.cc/posts/32.html"/>
    <id>https://www.fomal.cc/posts/32.html</id>
    <published>2023-06-26T10:50:00.000Z</published>
    <updated>2023-06-26T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>tsc å‘½ä»¤è¡Œç¼–è¯‘å™¨</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><h2 id="ç®€ä»‹">ç®€ä»‹ <a href="about:blank#%E7%AE%80%E4%BB%8B">#</a></h2><p>tsc æ˜¯ TypeScript å®˜æ–¹çš„å‘½ä»¤è¡Œç¼–è¯‘å™¨ï¼Œç”¨æ¥æ£€æŸ¥ä»£ç ï¼Œå¹¶å°†å…¶ç¼–è¯‘æˆ JavaScript ä»£ç ã€‚</p><p>tsc é»˜è®¤ä½¿ç”¨å½“å‰ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶<code>tsconfig.json</code>ï¼Œä½†ä¹Ÿå¯ä»¥æ¥å—ç‹¬ç«‹çš„å‘½ä»¤è¡Œå‚æ•°ã€‚å‘½ä»¤è¡Œå‚æ•°ä¼šè¦†ç›–<code>tsconfig.json</code>ï¼Œæ¯”å¦‚å‘½ä»¤è¡ŒæŒ‡å®šäº†æ‰€è¦ç¼–è¯‘çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆ tsc å°±ä¼šå¿½ç•¥<code>tsconfig.json</code>çš„<code>files</code>å±æ€§ã€‚</p><p>tsc çš„åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ã€‚</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ tsconfig.json çš„é…ç½®</span></span><br><span class="line"><span class="variable">$ </span>tsc</span><br><span class="line"></span><br><span class="line"><span class="comment"># åªç¼–è¯‘ index.ts</span></span><br><span class="line"><span class="variable">$ </span>tsc index.ts</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¯‘ src ç›®å½•çš„æ‰€æœ‰ .ts æ–‡ä»¶</span></span><br><span class="line"><span class="variable">$ </span>tsc src/*.ts</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç¼–è¯‘é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="variable">$ </span>tsc --project tsconfig.production.json</span><br><span class="line"></span><br><span class="line"><span class="comment"># åªç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶ï¼Œä¸ç¼–è¯‘å‡º JS æ–‡ä»¶</span></span><br><span class="line"><span class="variable">$ </span>tsc index.js --declaration --emitDeclarationOnly</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤šä¸ª TS æ–‡ä»¶ç¼–è¯‘æˆå•ä¸ª JS æ–‡ä»¶</span></span><br><span class="line"><span class="variable">$ </span>tsc app.ts util.ts --target esnext --outfile index.js</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å‘½ä»¤è¡Œå‚æ•°">å‘½ä»¤è¡Œå‚æ•° <a href="about:blank#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0">#</a></h2><p>tsc çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œå¤§éƒ¨åˆ†ä¸ tsconfig.json çš„å±æ€§ä¸€ä¸€å¯¹åº”ã€‚</p><p>ä¸‹é¢åªæ˜¯æŒ‰ç…§é¦–å­—æ¯æ’åºï¼Œç®€å•ç½—åˆ—å‡ºä¸»è¦çš„ä¸€äº›å‚æ•°ï¼Œè¯¦ç»†è§£é‡Šå¯ä»¥å‚è€ƒã€Štsconfig.json é…ç½®æ–‡ä»¶ã€‹ä¸€ç« ã€‚</p><p><code>--all</code>ï¼šè¾“å‡ºæ‰€æœ‰å¯ç”¨çš„å‚æ•°ã€‚</p><p><code>--allowJs</code>ï¼šå…è®¸ TS è„šæœ¬åŠ è½½ JS æ¨¡å—ï¼Œç¼–è¯‘æ—¶å°† JS ä¸€èµ·æ‹·è´åˆ°è¾“å‡ºç›®å½•ã€‚</p><p><code>--allowUnreachableCode</code>ï¼šå¦‚æœ TS è„šæœ¬æœ‰ä¸å¯èƒ½è¿è¡Œåˆ°çš„ä»£ç ï¼Œä¸æŠ¥é”™ã€‚</p><p><code>--allowUnusedLabels</code>ï¼šå¦‚æœ TS è„šæœ¬æœ‰æ²¡æœ‰ç”¨åˆ°çš„æ ‡ç­¾ï¼Œä¸æŠ¥é”™ã€‚</p><p><code>--alwaysStrict</code>ï¼šæ€»æ˜¯åœ¨ç¼–è¯‘äº§ç‰©çš„å¤´éƒ¨æ·»åŠ <code>use strict</code>ã€‚</p><p><code>--baseUrl</code>ï¼šæŒ‡å®šéç›¸å¯¹ä½ç½®çš„æ¨¡å—å®šä½çš„åŸºå‡† URLã€‚</p><p><code>--build</code>ï¼šå¯ç”¨å¢é‡ç¼–è¯‘ã€‚</p><p><code>--checkJs</code>ï¼šå¯¹ JS è„šæœ¬è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</p><p><code>--declaration</code>ï¼šä¸º TS è„šæœ¬ç”Ÿæˆä¸€ä¸ªç±»å‹ç”Ÿæˆæ–‡ä»¶ã€‚</p><p><code>--declarationDir</code>ï¼šæŒ‡å®šç”Ÿæˆçš„ç±»å‹å£°æ˜æ–‡ä»¶çš„æ‰€åœ¨ç›®å½•ã€‚</p><p><code>--declarationMap</code>ï¼šä¸º<code>.d.ts</code>æ–‡ä»¶ç”Ÿæˆ SourceMap æ–‡ä»¶ã€‚</p><p><code>--diagnostics</code>ï¼šæ„å»ºåè¾“å‡ºç¼–è¯‘æ€§èƒ½ä¿¡æ¯ã€‚</p><p><code>--emitBOM</code>ï¼šåœ¨ç¼–è¯‘è¾“å‡ºçš„ UTF-8 æ–‡ä»¶å¤´éƒ¨åŠ ä¸Š BOM æ ‡å¿—ã€‚</p><p><code>--emitDeclarationOnly</code>ï¼šåªç¼–è¯‘è¾“å‡ºç±»å‹å£°æ˜æ–‡ä»¶ï¼Œä¸è¾“å‡º JS æ–‡ä»¶ã€‚</p><p><code>--esModuleInterop</code>ï¼šæ›´å®¹æ˜“ä½¿ç”¨ import å‘½ä»¤åŠ è½½ CommonJS æ¨¡å—ã€‚</p><p><code>--exactOptionalPropertyTypes</code>ï¼šä¸å…è®¸å°†å¯é€‰å±æ€§è®¾ç½®ä¸º<code>undefined</code>ã€‚</p><p><code>--experimentalDecorators</code>ï¼šæ”¯æŒæ—©æœŸçš„è£…é¥°å™¨è¯­æ³•ã€‚</p><p><code>--explainFiles</code>ï¼šè¾“å‡ºè¿›è¡Œç¼–è¯‘çš„æ–‡ä»¶ä¿¡æ¯ã€‚</p><p><code>--forceConsistentCasingInFileNames</code>ï¼šæ–‡ä»¶åå¤§å°å†™æ•æ„Ÿï¼Œé»˜è®¤æ‰“å¼€ã€‚</p><p><code>--help</code>ï¼šè¾“å‡ºå¸®åŠ©ä¿¡æ¯ã€‚</p><p><code>--importHelpers</code>ï¼šä»å¤–éƒ¨åº“ï¼ˆæ¯”å¦‚ tslibï¼‰è¾“å…¥è¾…åŠ©å‡½æ•°ã€‚</p><p><code>--incremental</code>ï¼šå¯ç”¨å¢é‡æ„å»ºã€‚</p><p><code>--init</code>ï¼šåœ¨å½“å‰ç›®å½•åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„<code>tsconfig.json</code>æ–‡ä»¶ï¼Œé‡Œé¢æ˜¯é¢„è®¾çš„è®¾ç½®ã€‚</p><p><code>--inlineSourceMap</code>ï¼šSourceMap ä¿¡æ¯åµŒå…¥ JS æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç”Ÿæˆç‹¬ç«‹çš„<code>.js.map</code>æ–‡ä»¶ã€‚</p><p><code>--inlineSources</code>ï¼šå°† TypeScript æºç ä½œä¸º SourceMap åµŒå…¥ç¼–è¯‘å‡ºæ¥çš„ JS æ–‡ä»¶ã€‚</p><p><code>--isolatedModules</code>ï¼šç¡®ä¿æ¯ä¸ªæ¨¡å—èƒ½å¤Ÿç‹¬ç«‹ç¼–è¯‘ï¼Œä¸ä¾èµ–å…¶ä»–è¾“å…¥çš„æ¨¡å—ã€‚</p><p><code>--jsx</code>ï¼šè®¾ç½®å¦‚ä½•å¤„ç† JSX æ–‡ä»¶ã€‚</p><p><code>--lib</code>ï¼šè®¾ç½®ç›®æ ‡ç¯å¢ƒéœ€è¦å“ªäº›å†…ç½®åº“çš„ç±»å‹æè¿°ã€‚</p><p><code>--listEmittedFiles</code>ï¼šç¼–è¯‘åè¾“å‡ºç¼–è¯‘äº§ç‰©çš„æ–‡ä»¶åã€‚</p><p><code>--listFiles</code>ï¼šç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œåˆ—å‡ºè¯»å–çš„æ–‡ä»¶åã€‚</p><p><code>--listFilesOnly</code>ï¼šåˆ—å‡ºç¼–è¯‘æ‰€è¦å¤„ç†çš„æ–‡ä»¶ï¼Œç„¶ååœæ­¢ç¼–è¯‘ã€‚</p><p><code>--locale</code>ï¼šæŒ‡å®šç¼–è¯‘æ—¶è¾“å‡ºçš„è¯­è¨€ï¼Œä¸å½±å“ç¼–è¯‘ç»“æœã€‚</p><p><code>--mapRoot</code>ï¼šæŒ‡å®š SourceMap æ–‡ä»¶çš„ä½ç½®ã€‚</p><p><code>--module</code>ï¼šæŒ‡å®šç¼–è¯‘ç”Ÿæˆçš„æ¨¡å—æ ¼å¼ã€‚</p><p><code>--moduleResolution</code>ï¼šæŒ‡å®šå¦‚ä½•æ ¹æ®æ¨¡å—åæ‰¾åˆ°æ¨¡å—çš„ä½ç½®ã€‚</p><p><code>--moduleSuffixes</code>ï¼šæŒ‡å®šæ¨¡å—æ–‡ä»¶çš„åç¼€åã€‚</p><p><code>--newLine</code>ï¼šæŒ‡å®šç¼–è¯‘äº§ç‰©çš„æ¢è¡Œç¬¦ï¼Œå¯ä»¥è®¾ä¸º<code>crlf</code>æˆ–è€…<code>lf</code>ã€‚</p><p><code>--noEmit</code>ï¼šä¸ç”Ÿæˆç¼–è¯‘äº§ç‰©ï¼Œåªè¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</p><p><code>--noEmitHelpers</code>ï¼šä¸åœ¨ç¼–è¯‘äº§ç‰©ä¸­åŠ å…¥è¾…åŠ©å‡½æ•°ã€‚</p><p><code>--noEmitOnError</code>ï¼šä¸€æ—¦æŠ¥é”™ï¼Œå°±åœæ­¢ç¼–è¯‘ï¼Œæ²¡æœ‰ç¼–è¯‘äº§ç‰©ã€‚</p><p><code>--noFallthroughCasesInSwitch</code>ï¼šSwitch ç»“æ„çš„<code>case</code>åˆ†æ”¯å¿…é¡»æœ‰ç»ˆæ­¢è¯­å¥ï¼ˆæ¯”å¦‚<code>break</code>ï¼‰ã€‚</p><p><code>--noImplicitAny</code>ï¼šç±»å‹æ¨æ–­åªè¦ä¸º<code>any</code>ç±»å‹å°±æŠ¥é”™ã€‚</p><p><code>--noImplicitReturns</code>ï¼šå‡½æ•°å†…éƒ¨æ²¡æœ‰æ˜¾å¼è¿”å›è¯­å¥ï¼ˆæ¯”å¦‚<code>return</code>ï¼‰å°±æŠ¥é”™ã€‚</p><p><code>--noImplicitThis</code>ï¼šå¦‚æœ<code>this</code>å…³é”®å­—æ˜¯<code>any</code>ç±»å‹ï¼Œå°±æŠ¥é”™ã€‚</p><p><code>--noImplicitUseStrict</code>ï¼šç¼–è¯‘äº§ç”Ÿçš„ JS æ–‡ä»¶å¤´éƒ¨ä¸æ·»åŠ <code>use strict</code>è¯­å¥ã€‚</p><p><code>--noResolve</code>ï¼šä¸è¿›è¡Œæ¨¡å—å®šä½ï¼Œé™¤éè¯¥æ¨¡å—æ˜¯ç”±å‘½ä»¤è¡Œä¼ å…¥ã€‚</p><p><code>--noUnusedLocals</code>ï¼šå¦‚æœæœ‰æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡å°±æŠ¥é”™ã€‚</p><p><code>--noUnusedParameters</code>ï¼šå¦‚æœæœ‰æœªä½¿ç”¨çš„å‡½æ•°å‚æ•°å°±æŠ¥é”™ã€‚</p><p><code>--outDir</code>ï¼šæŒ‡å®šç¼–è¯‘äº§ç‰©çš„å­˜æ”¾ç›®å½•ã€‚</p><p><code>--outFile</code>ï¼šæ‰€æœ‰ç¼–è¯‘äº§ç‰©æ‰“åŒ…æˆä¸€ä¸ªæŒ‡å®šæ–‡ä»¶ã€‚</p><p><code>--preserveConstEnums</code>ï¼šä¸å°†<code>const enum</code>ç»“æ„åœ¨ç”Ÿæˆçš„ä»£ç ä¸­ï¼Œæ›¿æ¢æˆå¸¸é‡ã€‚</p><p><code>--preserveWatchOutput</code>ï¼š watch æ¨¡å¼ä¸‹ä¸æ¸…å±ã€‚</p><p><code>--pretty</code>ï¼šç¾åŒ–æ˜¾ç¤ºç¼–è¯‘æ—¶çš„ç»ˆç«¯è¾“å‡ºã€‚è¿™æ˜¯é»˜è®¤å€¼ï¼Œä½†æ˜¯å¯ä»¥å…³é—­<code>--pretty false</code>ã€‚</p><p><code>--project</code>ï¼ˆæˆ–è€…<code>-p</code>ï¼‰ï¼šæŒ‡å®šç¼–è¯‘é…ç½®æ–‡ä»¶ï¼Œæˆ–è€…è¯¥æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚</p><p><code>--removeComments</code>ï¼šç¼–è¯‘ç»“æœä¸­ç§»é™¤ä»£ç æ³¨é‡Šã€‚</p><p><code>--resolveJsonModule</code>ï¼šå…è®¸åŠ è½½ JSON æ–‡ä»¶ã€‚</p><p><code>--rootDir</code>ï¼šæŒ‡å®šåŠ è½½æ–‡ä»¶æ‰€åœ¨çš„æ ¹ç›®å½•ï¼Œè¯¥ç›®å½•é‡Œé¢çš„ç›®å½•ç»“æ„ä¼šè¢«å¤åˆ¶åˆ°è¾“å‡ºç›®å½•ã€‚</p><p><code>--rootDirs</code>ï¼šå…è®¸æ¨¡å—å®šä½æ—¶ï¼Œå¤šä¸ªç›®å½•è¢«å½“æˆä¸€ä¸ªè™šæ‹Ÿç›®å½•ã€‚</p><p><code>--skipDefaultLibCheck</code>ï¼šè·³è¿‡ TypeScript å†…ç½®ç±»å‹å£°æ˜æ–‡ä»¶çš„ç±»å‹æ£€æŸ¥ã€‚</p><p><code>--skipLibCheck</code>ï¼šè·³è¿‡<code>.d.ts</code>ç±»å‹å£°æ˜æ–‡ä»¶çš„ç±»å‹æ£€æŸ¥ã€‚è¿™æ ·å¯ä»¥åŠ å¿«ç¼–è¯‘é€Ÿåº¦ã€‚</p><p><code>--showConfig</code>ï¼šç»ˆç«¯è¾“å‡ºç¼–è¯‘é…ç½®ä¿¡æ¯ï¼Œè€Œä¸è¿›è¡Œé…ç½®ã€‚</p><p><code>--sourcemap</code>ï¼šä¸ºç¼–è¯‘äº§ç”Ÿçš„ JS æ–‡ä»¶ç”Ÿæˆ SourceMap æ–‡ä»¶ï¼ˆ.map æ–‡ä»¶ï¼‰ã€‚</p><p><code>--sourceRoot</code>ï¼šæŒ‡å®š SourceMap æ–‡ä»¶é‡Œé¢çš„ TypeScript æºç æ ¹ç›®å½•ä½ç½®ã€‚</p><p><code>--strict</code>ï¼šæ‰“å¼€ TypeScript ä¸¥æ ¼æ£€æŸ¥æ¨¡å¼ã€‚</p><p><code>--strictBindCallApply</code>ï¼šbind, callã€apply è¿™ä¸‰ä¸ªå‡½æ•°çš„ç±»å‹ï¼ŒåŒ¹é…åŸå§‹å‡½æ•°ã€‚</p><p><code>--strictFunctionTypes</code>ï¼šå¦‚æœå‡½æ•° B çš„å‚æ•°æ˜¯å‡½æ•° A å‚æ•°çš„å­ç±»å‹ï¼Œé‚£ä¹ˆå‡½æ•° B ä¸èƒ½æ›¿ä»£å‡½æ•° Aã€‚</p><p><code>--strictNullChecks</code>ï¼šå¯¹<code>null</code>å’Œ<code>undefined</code>è¿›è¡Œä¸¥æ ¼ç±»å‹æ£€æŸ¥ã€‚</p><p><code>--strictPropertyInitialization</code>ï¼šç±»çš„å±æ€§å¿…é¡»è¿›è¡Œåˆå§‹å€¼ï¼Œä½†æ˜¯å…è®¸åœ¨æ„é€ å‡½æ•°é‡Œé¢èµ‹å€¼ã€‚</p><p><code>--suppressExcessPropertyErrors</code>ï¼šå…³é—­å¯¹è±¡å­—é¢é‡çš„å¤šä½™å‚æ•°çš„æŠ¥é”™ã€‚</p><p><code>--target</code>ï¼šæŒ‡å®šç¼–è¯‘å‡ºæ¥çš„ JS ä»£ç çš„ç‰ˆæœ¬ï¼ŒTypeScript è¿˜ä¼šåœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨åŠ å…¥å¯¹åº”çš„åº“ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><p><code>--traceResolution</code>ï¼šç¼–è¯‘æ—¶åœ¨ç»ˆç«¯è¾“å‡ºæ¨¡å—è§£æï¼ˆmoduleResolutionï¼‰çš„å…·ä½“æ­¥éª¤ã€‚</p><p><code>--typeRoots</code>ï¼šè®¾ç½®ç±»å‹æ¨¡å—æ‰€åœ¨çš„ç›®å½•ï¼Œæ›¿ä»£é»˜è®¤çš„<code>node_modules/@types</code>ã€‚</p><p><code>--types</code>ï¼šè®¾ç½®<code>typeRoots</code>ç›®å½•ä¸‹éœ€è¦åŒ…æ‹¬åœ¨ç¼–è¯‘ä¹‹ä¸­çš„ç±»å‹æ¨¡å—ã€‚</p><p><code>--version</code>ï¼šç»ˆç«¯è¾“å‡º tsc çš„ç‰ˆæœ¬å·ã€‚</p><p><code>--watch</code>ï¼ˆæˆ–è€…<code>-w</code>ï¼‰ï¼šè¿›å…¥è§‚å¯Ÿæ¨¡å¼ï¼Œåªè¦æ–‡ä»¶æœ‰ä¿®æ”¹ï¼Œå°±ä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘ã€‚</p><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/tsc">https://wangdoc.com/typescript/tsc</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript tsc å‘½ä»¤è¡Œç¼–è¯‘å™¨</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript tsconfig.json</title>
    <link href="https://www.fomal.cc/posts/31.html"/>
    <id>https://www.fomal.cc/posts/31.html</id>
    <published>2023-06-25T10:50:00.000Z</published>
    <updated>2023-06-25T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>tsconfig.json</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><h2 id="ç®€ä»‹">ç®€ä»‹ <a href="about:blank#%E7%AE%80%E4%BB%8B">#</a></h2><p><code>tsconfig.json</code>æ˜¯ TypeScript é¡¹ç›®çš„é…ç½®æ–‡ä»¶ï¼Œæ”¾åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ã€‚åè¿‡æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªç›®å½•é‡Œé¢æœ‰<code>tsconfig.json</code>ï¼ŒTypeScript å°±è®¤ä¸ºè¿™æ˜¯é¡¹ç›®çš„æ ¹ç›®å½•ã€‚</p><p>å¦‚æœé¡¹ç›®æºç æ˜¯ JavaScriptï¼Œä½†æ˜¯æƒ³ç”¨ TypeScript å¤„ç†ï¼Œé‚£ä¹ˆé…ç½®æ–‡ä»¶çš„åå­—æ˜¯<code>jsconfig.json</code>ï¼Œå®ƒè·Ÿ<code>tsconfig</code>çš„å†™æ³•æ˜¯ä¸€æ ·çš„ã€‚</p><p><code>tsconfig.json</code>æ–‡ä»¶ä¸»è¦ä¾›<code>tsc</code>ç¼–è¯‘å™¨ä½¿ç”¨ï¼Œå®ƒçš„å‘½ä»¤è¡Œå‚æ•°<code>--project</code>æˆ–<code>-p</code>å¯ä»¥æŒ‡å®š<code>tsconfig.json</code>çš„ä½ç½®ï¼ˆç›®å½•æˆ–æ–‡ä»¶çš†å¯ï¼‰ã€‚</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$</span> tsc <span class="literal">-p</span> ./<span class="built_in">dir</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æŒ‡å®šé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œ<code>tsc</code>å°±ä¼šåœ¨å½“å‰ç›®å½•ä¸‹æœç´¢<code>tsconfig.json</code>æ–‡ä»¶ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±åˆ°ä¸Šä¸€çº§ç›®å½•æœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚</p><p><code>tsconfig.json</code>æ–‡ä»¶çš„æ ¼å¼ï¼Œæ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œæœ€ç®€å•çš„æƒ…å†µå¯ä»¥åªæ”¾ç½®ä¸€ä¸ªç©ºå¯¹è±¡<code>&#123;&#125;</code>ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;outDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./built&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;allowJs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;es5&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;include&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;./src/**/*&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ¬ç« åé¢ä¼šè¯¦ç»†ä»‹ç»<code>tsconfig.json</code>çš„å„ä¸ªå±æ€§ï¼Œè¿™é‡Œç®€å•è¯´ä¸€ä¸‹ï¼Œä¸Šé¢ç¤ºä¾‹çš„å››ä¸ªå±æ€§çš„å«ä¹‰ã€‚</p><ul><li>includeï¼šæŒ‡å®šå“ªäº›æ–‡ä»¶éœ€è¦ç¼–è¯‘ã€‚</li><li>allowJsï¼šæŒ‡å®šæºç›®å½•çš„ JavaScript æ–‡ä»¶æ˜¯å¦åŸæ ·æ‹·è´åˆ°ç¼–è¯‘åçš„ç›®å½•ã€‚</li><li>outDirï¼šæŒ‡å®šç¼–è¯‘äº§ç‰©å­˜æ”¾çš„ç›®å½•ã€‚</li><li>targetï¼šæŒ‡å®šç¼–è¯‘äº§ç‰©çš„ JS ç‰ˆæœ¬ã€‚</li></ul><p><code>tsconfig.json</code>æ–‡ä»¶å¯ä»¥ä¸å¿…æ‰‹å†™ï¼Œä½¿ç”¨ tsc å‘½ä»¤çš„<code>--init</code>å‚æ•°è‡ªåŠ¨ç”Ÿæˆã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tsc <span class="comment">--init</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢å‘½ä»¤ç”Ÿæˆçš„<code>tsconfig.json</code>æ–‡ä»¶ï¼Œé‡Œé¢ä¼šæœ‰ä¸€äº›é»˜è®¤é…ç½®ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«äººé¢„å…ˆå†™å¥½çš„ tsconfig.json æ–‡ä»¶ï¼Œnpm çš„<code>@tsconfig</code>åç§°ç©ºé—´ä¸‹é¢æœ‰å¾ˆå¤šæ¨¡å—ï¼Œéƒ½æ˜¯å†™å¥½çš„<code>tsconfig.json</code>æ ·æœ¬ï¼Œæ¯”å¦‚ <code>@tsconfig/recommended</code>å’Œ<code>@tsconfig/node16</code>ã€‚</p><p>è¿™äº›æ¨¡å—éœ€è¦å®‰è£…ï¼Œä»¥<code>@tsconfig/deno</code>ä¸ºä¾‹ã€‚</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>npm install --save-dev <span class="variable">@tsconfig</span>/deno</span><br><span class="line"><span class="comment"># æˆ–è€…</span></span><br><span class="line"><span class="variable">$ </span>yarn add --dev <span class="variable">@tsconfig</span>/deno</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®‰è£…ä»¥åï¼Œå°±å¯ä»¥åœ¨<code>tsconfig.json</code>é‡Œé¢å¼•ç”¨è¿™ä¸ªæ¨¡å—ï¼Œç›¸å½“äºç»§æ‰¿å®ƒçš„è®¾ç½®ï¼Œç„¶åè¿›è¡Œæ‰©å±•ã€‚</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;extends&quot;</span>: <span class="string">&quot;@tsconfig/deno/tsconfig.json&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>@tsconfig</code>ç©ºé—´ä¸‹åŒ…å«çš„å®Œæ•´ tsconfig æ–‡ä»¶ç›®å½•ï¼Œå¯ä»¥æŸ¥çœ‹ <a href="https://github.com/tsconfig/bases/tree/main/bases">GitHub</a>ã€‚</p><p><code>tsconfig.json</code>çš„ä¸€çº§å±æ€§å¹¶ä¸å¤šï¼Œåªæœ‰å¾ˆå°‘å‡ ä¸ªï¼Œä½†æ˜¯<code>compilerOptions</code>å±æ€§æœ‰å¾ˆå¤šäºŒçº§å±æ€§ã€‚ä¸‹é¢å…ˆé€ä¸€ä»‹ç»ä¸€çº§å±æ€§ï¼Œç„¶åå†ä»‹ç»<code>compilerOptions</code>çš„äºŒçº§å±æ€§ï¼ŒæŒ‰ç…§é¦–å­—æ¯æ’åºã€‚</p><h2 id="exclude">exclude <a href="about:blank#exclude">#</a></h2><p><code>exclude</code>å±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¿…é¡»ä¸<code>include</code>å±æ€§ä¸€èµ·ä½¿ç”¨ï¼Œç”¨æ¥ä»ç¼–è¯‘åˆ—è¡¨ä¸­å»é™¤æŒ‡å®šçš„æ–‡ä»¶ã€‚å®ƒä¹Ÿæ”¯æŒä½¿ç”¨ä¸<code>include</code>å±æ€§ç›¸åŒçš„é€šé…ç¬¦ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;include&quot;</span>: [<span class="string">&quot;**/*&quot;</span>],</span><br><span class="line">  <span class="string">&quot;exclude&quot;</span>: [<span class="string">&quot;**/*.spec.ts&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="extends">extends <a href="about:blank#extends">#</a></h2><p><code>tsconfig.json</code>å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ª<code>tsconfig.json</code>æ–‡ä»¶çš„é…ç½®ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®æœ‰å¤šä¸ªé…ç½®ï¼Œå¯ä»¥æŠŠå…±åŒçš„é…ç½®å†™æˆ<code>tsconfig.base.json</code>ï¼Œå…¶ä»–çš„é…ç½®æ–‡ä»¶ç»§æ‰¿è¯¥æ–‡ä»¶ï¼Œè¿™æ ·ä¾¿äºç»´æŠ¤å’Œä¿®æ”¹ã€‚</p><p><code>extends</code>å±æ€§ç”¨æ¥æŒ‡å®šæ‰€è¦ç»§æ‰¿çš„é…ç½®æ–‡ä»¶ã€‚å®ƒå¯ä»¥æ˜¯æœ¬åœ°æ–‡ä»¶ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;extends&quot;</span><span class="punctuation">:</span> <span class="string">&quot;../tsconfig.base.json&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœ<code>extends</code>å±æ€§æŒ‡å®šçš„è·¯å¾„ä¸æ˜¯ä»¥<code>./</code>æˆ–<code>../</code>å¼€å¤´ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†åœ¨<code>node_modules</code>ç›®å½•ä¸‹æŸ¥æ‰¾æŒ‡å®šçš„é…ç½®æ–‡ä»¶ã€‚</p><p><code>extends</code>å±æ€§ä¹Ÿå¯ä»¥ç»§æ‰¿å·²å‘å¸ƒçš„ npm æ¨¡å—é‡Œé¢çš„ tsconfig æ–‡ä»¶ã€‚</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;extends&quot;</span>: <span class="string">&quot;@tsconfig/node12/tsconfig.json&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>extends</code>æŒ‡å®šçš„<code>tsconfig.json</code>ä¼šå…ˆåŠ è½½ï¼Œç„¶ååŠ è½½å½“å‰çš„<code>tsconfig.json</code>ã€‚å¦‚æœä¸¤è€…æœ‰é‡åçš„å±æ€§ï¼Œåè€…ä¼šè¦†ç›–å‰è€…ã€‚</p><h2 id="files">files <a href="about:blank#files">#</a></h2><p><code>files</code>å±æ€§æŒ‡å®šç¼–è¯‘çš„æ–‡ä»¶åˆ—è¡¨ï¼Œå¦‚æœå…¶ä¸­æœ‰ä¸€ä¸ªæ–‡ä»¶ä¸å­˜åœ¨ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><p>å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ’åœ¨å‰é¢çš„æ–‡ä»¶å…ˆç¼–è¯‘ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;files&quot;</span>: [<span class="string">&quot;a.ts&quot;</span>, <span class="string">&quot;b.ts&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¯¥å±æ€§å¿…é¡»é€ä¸€åˆ—å‡ºæ–‡ä»¶ï¼Œä¸æ”¯æŒæ–‡ä»¶åŒ¹é…ã€‚å¦‚æœæ–‡ä»¶è¾ƒå¤šï¼Œå»ºè®®ä½¿ç”¨<code>include</code>å’Œ<code>exclude</code>å±æ€§ã€‚</p><h2 id="include">include <a href="about:blank#include">#</a></h2><p><code>include</code>å±æ€§æŒ‡å®šæ‰€è¦ç¼–è¯‘çš„æ–‡ä»¶åˆ—è¡¨ï¼Œæ—¢æ”¯æŒé€ä¸€åˆ—å‡ºæ–‡ä»¶ï¼Œä¹Ÿæ”¯æŒé€šé…ç¬¦ã€‚æ–‡ä»¶ä½ç½®ç›¸å¯¹äºå½“å‰é…ç½®æ–‡ä»¶è€Œå®šã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;include&quot;</span>: [<span class="string">&quot;src/**/*&quot;</span>, <span class="string">&quot;tests/**/*&quot;</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>include</code>å±æ€§æ”¯æŒä¸‰ç§é€šé…ç¬¦ã€‚</p><ul><li><code>?</code>ï¼šæŒ‡ä»£å•ä¸ªå­—ç¬¦</li><li><code>*</code>ï¼šæŒ‡ä»£ä»»æ„å­—ç¬¦ï¼Œä¸å«è·¯å¾„åˆ†éš”ç¬¦</li><li><code>**</code>ï¼šæŒ‡å®šä»»æ„ç›®å½•å±‚çº§ã€‚</li></ul><p>å¦‚æœä¸æŒ‡å®šæ–‡ä»¶åç¼€åï¼Œé»˜è®¤åŒ…æ‹¬<code>.ts</code>ã€<code>.tsx</code>å’Œ<code>.d.ts</code>æ–‡ä»¶ã€‚å¦‚æœæ‰“å¼€äº†<code>allowJs</code>ï¼Œé‚£ä¹ˆè¿˜åŒ…æ‹¬<code>.js</code>å’Œ<code>.jsx</code>ã€‚</p><h2 id="references">references <a href="about:blank#references">#</a></h2><p><code>references</code>å±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„æˆå‘˜ä¸ºå¯¹è±¡ï¼Œé€‚åˆä¸€ä¸ªå¤§é¡¹ç›®ç”±è®¸å¤šå°é¡¹ç›®æ„æˆçš„æƒ…å†µï¼Œç”¨æ¥è®¾ç½®éœ€è¦å¼•ç”¨çš„åº•å±‚é¡¹ç›®ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;references&quot;</span>: [</span><br><span class="line">    &#123; <span class="string">&quot;path&quot;</span>: <span class="string">&quot;../pkg1&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="string">&quot;path&quot;</span>: <span class="string">&quot;../pkg2/tsconfig.json&quot;</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>references</code>æ•°ç»„æˆå‘˜å¯¹è±¡çš„<code>path</code>å±æ€§ï¼Œæ—¢å¯ä»¥æ˜¯å«æœ‰æ–‡ä»¶<code>tsconfig.json</code>çš„ç›®å½•ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ˜¯è¯¥æ–‡ä»¶ã€‚</p><p>ä¸æ­¤åŒæ—¶ï¼Œå¼•ç”¨çš„åº•å±‚é¡¹ç›®çš„<code>tsconfig.json</code>å¿…é¡»å¯ç”¨<code>composite</code>å±æ€§ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;composite&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="compilerOptions">compilerOptions <a href="about:blank#compileroptions">#</a></h2><p><code>compilerOptions</code>å±æ€§ç”¨æ¥å®šåˆ¶ç¼–è¯‘è¡Œä¸ºã€‚è¿™ä¸ªå±æ€§å¯ä»¥çœç•¥ï¼Œè¿™æ—¶ç¼–è¯‘å™¨å°†ä½¿ç”¨é»˜è®¤è®¾ç½®ã€‚</p><h3 id="allowJs">allowJs <a href="about:blank#allowjs">#</a></h3><p><code>allowJs</code>å…è®¸ TypeScript é¡¹ç›®åŠ è½½ JS è„šæœ¬ã€‚ç¼–è¯‘æ—¶ï¼Œä¹Ÿä¼šå°† JS æ–‡ä»¶ï¼Œä¸€èµ·æ‹·è´åˆ°è¾“å‡ºç›®å½•ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;allowJs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="alwaysStrict">alwaysStrict <a href="about:blank#alwaysstrict">#</a></h3><p><code>alwaysStrict</code>ç¡®ä¿è„šæœ¬ä»¥ ECMAScript ä¸¥æ ¼æ¨¡å¼è¿›è¡Œè§£æï¼Œå› æ­¤è„šæœ¬å¤´éƒ¨ä¸ç”¨å†™<code>&quot;use strict&quot;</code>ã€‚å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸º<code>true</code>ã€‚</p><h3 id="allowSyntheticDefaultImports">allowSyntheticDefaultImports <a href="about:blank#allowsyntheticdefaultimports">#</a></h3><p><code>allowSyntheticDefaultImports</code>å…è®¸<code>import</code>å‘½ä»¤é»˜è®¤åŠ è½½æ²¡æœ‰<code>default</code>è¾“å‡ºçš„æ¨¡å—ã€‚</p><p>æ¯”å¦‚ï¼Œæ‰“å¼€è¿™ä¸ªè®¾ç½®ï¼Œå°±å¯ä»¥å†™<code>import React from &quot;react&quot;;</code>ï¼Œè€Œä¸æ˜¯<code>import * as React from &quot;react&quot;;</code>ã€‚</p><h3 id="allowUnreachableCode">allowUnreachableCode <a href="about:blank#allowunreachablecode">#</a></h3><p><code>allowUnreachableCode</code>è®¾ç½®æ˜¯å¦å…è®¸å­˜åœ¨ä¸å¯èƒ½æ‰§è¡Œåˆ°çš„ä»£ç ã€‚å®ƒçš„å€¼æœ‰ä¸‰ç§å¯èƒ½ã€‚</p><ul><li><code>undefined</code>ï¼š é»˜è®¤å€¼ï¼Œç¼–è¾‘å™¨æ˜¾ç¤ºè­¦å‘Šã€‚</li><li><code>true</code>ï¼šå¿½ç•¥ä¸å¯èƒ½æ‰§è¡Œåˆ°çš„ä»£ç ã€‚</li><li><code>false</code>ï¼šç¼–è¯‘å™¨æŠ¥é”™ã€‚</li></ul><h3 id="allowUnusedLabels">allowUnusedLabels <a href="about:blank#allowunusedlabels">#</a></h3><p><code>allowUnusedLabels</code>è®¾ç½®æ˜¯å¦å…è®¸å­˜åœ¨æ²¡æœ‰ç”¨åˆ°çš„ä»£ç æ ‡ç­¾ï¼ˆlabelï¼‰ã€‚å®ƒçš„å€¼æœ‰ä¸‰ç§å¯èƒ½ã€‚</p><ul><li><code>undefined</code>ï¼š é»˜è®¤å€¼ï¼Œç¼–è¾‘å™¨æ˜¾ç¤ºè­¦å‘Šã€‚</li><li><code>true</code>ï¼šå¿½ç•¥æ²¡æœ‰ç”¨åˆ°çš„ä»£ç æ ‡ç­¾ã€‚</li><li><code>false</code>ï¼šç¼–è¯‘å™¨æŠ¥é”™ã€‚</li></ul><h3 id="baseUrl">baseUrl <a href="about:blank#baseurl">#</a></h3><p><code>baseUrl</code>çš„å€¼ä¸ºå­—ç¬¦ä¸²ï¼ŒæŒ‡å®š TypeScript é¡¹ç›®çš„åŸºå‡†ç›®å½•ã€‚</p><p>ç”±äºé»˜è®¤æ˜¯ä»¥ tsconfig.json çš„ä½ç½®ä½œä¸ºåŸºå‡†ç›®å½•ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸éœ€è¦ä½¿ç”¨è¯¥å±æ€§ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>baseUrl</code>ä¸ºå½“å‰ç›®å½•<code>./</code>ã€‚é‚£ä¹ˆï¼Œå½“é‡åˆ°ä¸‹é¢çš„è¯­å¥ï¼ŒTypeScript å°†ä»¥<code>./</code>ä¸ºèµ·ç‚¹ï¼Œå¯»æ‰¾<code>hello/world.ts</code>ã€‚</p><figure class="highlight capnproto"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; helloWorld &#125; <span class="keyword">from</span> <span class="string">&quot;hello/world&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="checkJs">checkJs <a href="about:blank#checkjs">#</a></h3><p><code>checkJS</code>è®¾ç½®å¯¹ JS æ–‡ä»¶åŒæ ·è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚æ‰“å¼€è¿™ä¸ªå±æ€§ï¼Œä¹Ÿä¼šè‡ªåŠ¨æ‰“å¼€<code>allowJs</code>ã€‚å®ƒç­‰åŒäºåœ¨ JS è„šæœ¬çš„å¤´éƒ¨æ·»åŠ <code>// @ts-check</code>å‘½ä»¤ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;checkJs&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="composite">composite <a href="about:blank#composite">#</a></h3><p><code>composite</code>æ‰“å¼€æŸäº›è®¾ç½®ï¼Œä½¿å¾— TypeScript é¡¹ç›®å¯ä»¥è¿›è¡Œå¢é‡æ„å»ºï¼Œå¾€å¾€è·Ÿ<code>incremental</code>å±æ€§é…åˆä½¿ç”¨ã€‚</p><h3 id="declaration">declaration <a href="about:blank#declaration">#</a></h3><p><code>declaration</code>è®¾ç½®ç¼–è¯‘æ—¶æ˜¯å¦ä¸ºæ¯ä¸ªè„šæœ¬ç”Ÿæˆç±»å‹å£°æ˜æ–‡ä»¶<code>.d.ts</code>ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;declaration&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="declarationDir">declarationDir <a href="about:blank#declarationdir">#</a></h3><p><code>declarationDir</code>è®¾ç½®ç”Ÿæˆçš„<code>.d.ts</code>æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;declaration&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;declarationDir&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./types&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="declarationMap">declarationMap <a href="about:blank#declarationmap">#</a></h3><p><code>declarationMap</code>è®¾ç½®ç”Ÿæˆ<code>.d.ts</code>ç±»å‹å£°æ˜æ–‡ä»¶çš„åŒæ—¶ï¼Œè¿˜ä¼šç”Ÿæˆå¯¹åº”çš„ Source Map æ–‡ä»¶ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;declaration&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;declarationMap&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="emitBOM">emitBOM <a href="about:blank#emitbom">#</a></h3><p><code>emitBOM</code>è®¾ç½®æ˜¯å¦åœ¨ç¼–è¯‘ç»“æœçš„æ–‡ä»¶å¤´æ·»åŠ å­—èŠ‚é¡ºåºæ ‡å¿— BOMï¼Œé»˜è®¤å€¼æ˜¯<code>false</code>ã€‚</p><h3 id="emitDeclarationOnly">emitDeclarationOnly <a href="about:blank#emitdeclarationonly">#</a></h3><p><code>emitDeclarationOnly</code>è®¾ç½®ç¼–è¯‘ååªç”Ÿæˆ<code>.d.ts</code>æ–‡ä»¶ï¼Œä¸ç”Ÿæˆ<code>.js</code>æ–‡ä»¶ã€‚</p><h3 id="esModuleInterop">esModuleInterop <a href="about:blank#esmoduleinterop">#</a></h3><p><code>esModuleInterop</code>ä¿®å¤äº†ä¸€äº› CommonJS å’Œ ES6 æ¨¡å—ä¹‹é—´çš„å…¼å®¹æ€§é—®é¢˜ã€‚</p><p>å¦‚æœ<code>module</code>å±æ€§ä¸º<code>node16</code>æˆ–<code>nodenext</code>ï¼Œåˆ™<code>esModuleInterop</code>é»˜è®¤ä¸º<code>true</code>ï¼Œå…¶ä»–æƒ…å†µé»˜è®¤ä¸º<code>false</code>ã€‚</p><p>æ‰“å¼€è¿™ä¸ªå±æ€§ï¼Œä½¿ç”¨<code>import</code>å‘½ä»¤åŠ è½½ CommonJS æ¨¡å—æ—¶ï¼ŒTypeScript ä¼šä¸¥æ ¼æ£€æŸ¥å…¼å®¹æ€§é—®é¢˜æ˜¯å¦å­˜åœ¨ã€‚</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> moment <span class="keyword">from</span> <span class="string">&#x27;moment&#x27;</span></span><br><span class="line">moment(); <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ ¹æ® ES6 è§„èŒƒï¼Œ<code>import * as moment</code>é‡Œé¢çš„<code>moment</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸èƒ½å½“ä½œå‡½æ•°è°ƒç”¨ï¼Œæ‰€ä»¥ç¬¬äºŒè¡ŒæŠ¥é”™äº†ã€‚</p><p>è§£å†³æ–¹æ³•å°±æ˜¯æ”¹å†™ä¸Šé¢çš„è¯­å¥ï¼Œæ”¹æˆåŠ è½½é»˜è®¤æ¥å£ã€‚</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">&#x27;moment&#x27;</span></span><br><span class="line">moment(); <span class="comment">// ä¸æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰“å¼€<code>esModuleInterop</code>ä»¥åï¼Œå¦‚æœå°†ä¸Šé¢çš„ä»£ç ç¼–è¯‘æˆ CommonJS æ¨¡å—æ ¼å¼ï¼Œå°±ä¼šåŠ å…¥ä¸€äº›è¾…åŠ©å‡½æ•°ï¼Œä¿è¯ç¼–è¯‘åçš„ä»£ç è¡Œä¸ºæ­£ç¡®ã€‚</p><p>æ³¨æ„ï¼Œæ‰“å¼€<code>esModuleInterop</code>ï¼Œå°†è‡ªåŠ¨æ‰“å¼€<code>allowSyntheticDefaultImports</code>ã€‚</p><h3 id="exactOptionalPropertyTypes">exactOptionalPropertyTypes <a href="about:blank#exactoptionalpropertytypes">#</a></h3><p><code>exactOptionalPropertyTypes</code>è®¾ç½®å¯é€‰å±æ€§ä¸èƒ½èµ‹å€¼ä¸º<code>undefined</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰“å¼€ exactOptionalPropertyTypes</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">MyObj</span> &#123;</span><br><span class="line">  foo?: <span class="string">&#x27;A&#x27;</span> | <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">obj</span>:<span class="title class_">MyObj</span> = &#123; <span class="attr">foo</span>: <span class="string">&#x27;A&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="property">foo</span> = <span class="literal">undefined</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>foo</code>æ˜¯å¯é€‰å±æ€§ï¼Œæ‰“å¼€<code>exactOptionalPropertyTypes</code>ä»¥åï¼Œè¯¥å±æ€§å°±ä¸èƒ½æ˜¾å¼èµ‹å€¼ä¸º<code>undefined</code>ã€‚</p><h3 id="forceConsistentCasingInFileNames">forceConsistentCasingInFileNames <a href="about:blank#forceconsistentcasinginfilenames">#</a></h3><p><code>forceConsistentCasingInFileNames</code>è®¾ç½®æ–‡ä»¶åæ˜¯å¦ä¸ºå¤§å°å†™æ•æ„Ÿï¼Œé»˜è®¤ä¸º<code>true</code>ã€‚</p><h3 id="incremental">incremental <a href="about:blank#incremental">#</a></h3><p><code>incremental</code>è®© TypeScript é¡¹ç›®æ„å»ºæ—¶äº§ç”Ÿæ–‡ä»¶<code>tsbuildinfo</code>ï¼Œä»è€Œå®Œæˆå¢é‡æ„å»ºã€‚</p><h3 id="inlineSourceMap">inlineSourceMap <a href="about:blank#inlinesourcemap">#</a></h3><p><code>inlineSourceMap</code>è®¾ç½®å°† SourceMap æ–‡ä»¶å†™å…¥ç¼–è¯‘åçš„ JS æ–‡ä»¶ä¸­ï¼Œå¦åˆ™ä¼šå•ç‹¬ç”Ÿæˆä¸€ä¸ª<code>.js.map</code>æ–‡ä»¶ã€‚</p><h3 id="inlineSources">inlineSources <a href="about:blank#inlinesources">#</a></h3><p><code>inlineSources</code>è®¾ç½®å°†åŸå§‹çš„<code>.ts</code>ä»£ç åµŒå…¥ç¼–è¯‘åçš„ JS ä¸­ã€‚</p><p>å®ƒè¦æ±‚<code>sourceMap</code>æˆ–<code>inlineSourceMap</code>è‡³å°‘æ‰“å¼€ä¸€ä¸ªã€‚</p><h3 id="isolatedModules">isolatedModules <a href="about:blank#isolatedmodules">#</a></h3><p><code>isolatedModules</code>è®¾ç½®å¦‚æœå½“å‰ TypeScript è„šæœ¬ä½œä¸ºå•ä¸ªæ¨¡å—ç¼–è¯‘ï¼Œæ˜¯å¦ä¼šå› ä¸ºç¼ºå°‘å…¶ä»–è„šæœ¬çš„ç±»å‹ä¿¡æ¯è€ŒæŠ¥é”™ï¼Œä¸»è¦ä¾¿äºéå®˜æ–¹çš„ç¼–è¯‘å·¥å…·ï¼ˆæ¯”å¦‚ Babelï¼‰æ­£ç¡®ç¼–è¯‘å•ä¸ªè„šæœ¬ã€‚</p><h3 id="jsx">jsx <a href="about:blank#jsx">#</a></h3><p><code>jsx</code>è®¾ç½®å¦‚ä½•å¤„ç†<code>.tsx</code>æ–‡ä»¶ã€‚å®ƒå¯ä»¥å–ä»¥ä¸‹äº”ä¸ªå€¼ã€‚</p><ul><li><code>preserve</code>ï¼šä¿æŒ jsx è¯­æ³•ä¸å˜ï¼Œè¾“å‡ºçš„æ–‡ä»¶åä¸º<code>.jsx</code>ã€‚</li><li><code>react</code>ï¼šå°†<code>&lt;div /&gt;</code>ç¼–è¯‘æˆ<code>React.createElement(&quot;div&quot;)</code>ï¼Œè¾“å‡ºçš„æ–‡ä»¶åä¸º<code>.js</code>ã€‚</li><li><code>react-native</code>ï¼šä¿æŒ jsx è¯­æ³•ä¸å˜ï¼Œè¾“å‡ºçš„æ–‡ä»¶åç¼€åä¸º<code>.js</code>ã€‚</li><li><code>react-jsx</code>ï¼šå°†<code>&lt;div /&gt;</code>ç¼–è¯‘æˆ<code>_jsx(&quot;div&quot;)</code>ï¼Œè¾“å‡ºçš„æ–‡ä»¶åä¸º<code>.js</code>ã€‚</li><li><code>react-jsxdev</code>ï¼šè·Ÿ<code>react-jsx</code>ç±»ä¼¼ï¼Œä½†æ˜¯ä¸º<code>_jsx()</code>åŠ ä¸Šæ›´å¤šçš„å¼€å‘è°ƒè¯•é¡¹ï¼Œè¾“å‡ºçš„æ–‡ä»¶åä¸º<code>.js</code>ã€‚</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;jsx&quot;</span><span class="punctuation">:</span> <span class="string">&quot;preserve&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="lib">lib <a href="about:blank#lib">#</a></h3><p><code>lib</code>å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæè¿°é¡¹ç›®éœ€è¦åŠ è½½çš„ TypeScript å†…ç½®ç±»å‹æè¿°æ–‡ä»¶ï¼Œè·Ÿä¸‰æ–œçº¿æŒ‡ä»¤<code>/// &lt;reference lib=&quot;&quot; /&gt;</code>ä½œç”¨ç›¸åŒã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;lib&quot;</span>: [<span class="string">&quot;dom&quot;</span>, <span class="string">&quot;es2021&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>TypeScript å†…ç½®çš„ç±»å‹æè¿°æ–‡ä»¶ï¼Œä¸»è¦æœ‰ä»¥ä¸‹ä¸€äº›ï¼Œå®Œæ•´çš„æ¸…å•å¯ä»¥å‚è€ƒ <a href="https://github.com/microsoft/TypeScript/tree/main/src/lib">TypeScript æºç </a>ã€‚</p><ul><li>ES5</li><li>ES2015</li><li>ES6</li><li>ES2016</li><li>ES7</li><li>ES2017</li><li>ES2018</li><li>ES2019</li><li>ES2020</li><li>ES2021</li><li>ES2022</li><li>ESNext</li><li>DOM</li><li>WebWorker</li><li>ScriptHost</li></ul><h3 id="listEmittedFiles">listEmittedFiles <a href="about:blank#listemittedfiles">#</a></h3><p><code>listEmittedFiles</code>è®¾ç½®ç¼–è¯‘æ—¶åœ¨ç»ˆç«¯æ˜¾ç¤ºï¼Œç”Ÿæˆäº†å“ªäº›æ–‡ä»¶ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;listEmittedFiles&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="listFiles">listFiles <a href="about:blank#listfiles">#</a></h3><p><code>listFiles</code>è®¾ç½®ç¼–è¯‘æ—¶åœ¨ç»ˆç«¯æ˜¾ç¤ºï¼Œå‚ä¸æœ¬æ¬¡ç¼–è¯‘çš„æ–‡ä»¶åˆ—è¡¨ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;listFiles&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="mapRoot">mapRoot <a href="about:blank#maproot">#</a></h3><p><code>mapRoot</code>æŒ‡å®š SourceMap æ–‡ä»¶çš„ä½ç½®ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„ç”Ÿæˆä½ç½®ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mapRoot&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://my-website.com/debug/sourcemaps/&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="module">module <a href="about:blank#module">#</a></h3><p><code>module</code>æŒ‡å®šç¼–è¯‘äº§ç‰©çš„æ¨¡å—æ ¼å¼ã€‚å®ƒçš„é»˜è®¤å€¼ä¸<code>target</code>å±æ€§æœ‰å…³ï¼Œå¦‚æœ<code>target</code>æ˜¯<code>ES3</code>æˆ–<code>ES5</code>ï¼Œå®ƒçš„é»˜è®¤å€¼æ˜¯<code>commonjs</code>ï¼Œå¦åˆ™å°±æ˜¯<code>ES6/ES2015</code>ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;module&quot;</span><span class="punctuation">:</span> <span class="string">&quot;commonjs&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®ƒå¯ä»¥å–ä»¥ä¸‹å€¼ï¼šnoneã€commonjsã€amdã€umdã€systemã€es6/es2015ã€es2020ã€es2022ã€esnextã€node16ã€nodenextã€‚</p><h3 id="moduleResolution">moduleResolution <a href="about:blank#moduleresolution">#</a></h3><p><code>moduleResolution</code>ç¡®å®šæ¨¡å—è·¯å¾„çš„ç®—æ³•ï¼Œå³å¦‚ä½•æŸ¥æ‰¾æ¨¡å—ã€‚å®ƒå¯ä»¥å–ä»¥ä¸‹å››ç§å€¼ã€‚</p><ul><li><code>node</code>ï¼šé‡‡ç”¨ Node.js çš„ CommonJS æ¨¡å—ç®—æ³•ã€‚</li><li><code>node16</code>æˆ–<code>nodenext</code>ï¼šé‡‡ç”¨ Node.js çš„ ECMAScript æ¨¡å—ç®—æ³•ï¼Œä» TypeScript 4.7 å¼€å§‹æ”¯æŒã€‚</li><li><code>classic</code>ï¼šTypeScript 1.6 ä¹‹å‰çš„ç®—æ³•ï¼Œæ–°é¡¹ç›®ä¸å»ºè®®ä½¿ç”¨ã€‚</li><li><code>bundler</code>ï¼šTypeScript 5.0 æ–°å¢çš„é€‰é¡¹ï¼Œè¡¨ç¤ºå½“å‰ä»£ç ä¼šè¢«å…¶ä»–æ‰“åŒ…å™¨ï¼ˆæ¯”å¦‚ Webpackã€Viteã€esbuildã€Parcelã€rollupã€swcï¼‰å¤„ç†ï¼Œä»è€Œæ”¾å®½åŠ è½½è§„åˆ™ï¼Œå®ƒè¦æ±‚<code>module</code>è®¾ä¸º<code>es2015</code>æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œè¯¦è§åŠ å…¥è¯¥åŠŸèƒ½çš„ <a href="https://github.com/microsoft/TypeScript/pull/51669">PR è¯´æ˜</a>ã€‚</li></ul><p>å®ƒçš„é»˜è®¤å€¼ä¸<code>module</code>å±æ€§æœ‰å…³ï¼Œå¦‚æœ<code>module</code>ä¸º<code>AMD</code>ã€<code>UMD</code>ã€<code>System</code>æˆ–<code>ES6/ES2015</code>ï¼Œé»˜è®¤å€¼ä¸º<code>classic</code>ï¼›å¦‚æœ<code>module</code>ä¸º<code>node16</code>æˆ–<code>nodenext</code>ï¼Œé»˜è®¤å€¼ä¸ºè¿™ä¸¤ä¸ªå€¼ï¼›å…¶ä»–æƒ…å†µä¸‹,é»˜è®¤å€¼ä¸º<code>Node</code>ã€‚</p><h3 id="moduleSuffixes">moduleSuffixes <a href="about:blank#modulesuffixes">#</a></h3><p><code>moduleSuffixes</code>æŒ‡å®šæ¨¡å—çš„åç¼€åã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;moduleSuffixes&quot;</span>: [<span class="string">&quot;.ios&quot;</span>, <span class="string">&quot;.native&quot;</span>, <span class="string">&quot;&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„è®¾ç½®ä½¿å¾— TypeScript å¯¹äºè¯­å¥<code>import * as foo from &quot;./foo&quot;;</code>ï¼Œä¼šæœç´¢ä»¥ä¸‹è„šæœ¬<code>./foo.ios.ts</code>ã€<code>./foo.native.ts</code>å’Œ<code>./foo.ts</code>ã€‚</p><h3 id="newLine">newLine <a href="about:blank#newline">#</a></h3><p><code>newLine</code>è®¾ç½®æ¢è¡Œç¬¦ä¸º<code>CRLF</code>ï¼ˆWindowsï¼‰è¿˜æ˜¯<code>LF</code>ï¼ˆLinuxï¼‰ã€‚</p><h3 id="noEmit">noEmit <a href="about:blank#noemit">#</a></h3><p><code>noEmit</code>è®¾ç½®æ˜¯å¦äº§ç”Ÿç¼–è¯‘ç»“æœã€‚å¦‚æœä¸ç”Ÿæˆï¼ŒTypeScript ç¼–è¯‘å°±çº¯ç²¹ä½œä¸ºç±»å‹æ£€æŸ¥äº†ã€‚</p><h3 id="noEmitHelpers">noEmitHelpers <a href="about:blank#noemithelpers">#</a></h3><p><code>noEmitHelpers</code>è®¾ç½®åœ¨ç¼–è¯‘ç»“æœæ–‡ä»¶ä¸æ’å…¥ TypeScript è¾…åŠ©å‡½æ•°ï¼Œè€Œæ˜¯é€šè¿‡å¤–éƒ¨å¼•å…¥è¾…åŠ©å‡½æ•°æ¥è§£å†³ï¼Œæ¯”å¦‚ NPM æ¨¡å—<code>tslib</code>ã€‚</p><h3 id="noEmitOnError">noEmitOnError <a href="about:blank#noemitonerror">#</a></h3><p><code>noEmitOnError</code>æŒ‡å®šä¸€æ—¦ç¼–è¯‘æŠ¥é”™ï¼Œå°±ä¸ç”Ÿæˆç¼–è¯‘äº§ç‰©ï¼Œé»˜è®¤ä¸º<code>false</code>ã€‚</p><h3 id="noFallthroughCasesInSwitch">noFallthroughCasesInSwitch <a href="about:blank#nofallthroughcasesinswitch">#</a></h3><p><code>noFallthroughCasesInSwitch</code>è®¾ç½®æ˜¯å¦å¯¹æ²¡æœ‰<code>break</code>è¯­å¥ï¼ˆæˆ–è€…<code>return</code>å’Œ<code>throw</code>è¯­å¥ï¼‰çš„ switch åˆ†æ”¯æŠ¥é”™ï¼Œå³<code>case</code>ä»£ç é‡Œé¢å¿…é¡»æœ‰ç»ˆç»“è¯­å¥ï¼ˆæ¯”å¦‚<code>break</code>ï¼‰ã€‚</p><h3 id="noImplicitAny">noImplicitAny <a href="about:blank#noimplicitany">#</a></h3><p><code>noImplicitAny</code>è®¾ç½®å½“ä¸€ä¸ªè¡¨è¾¾å¼æ²¡æœ‰æ˜ç¡®çš„ç±»å‹æè¿°ã€ä¸”ç¼–è¯‘å™¨æ— æ³•æ¨æ–­å‡ºå…·ä½“ç±»å‹æ—¶ï¼Œæ˜¯å¦å…è®¸å°†å®ƒæ¨æ–­ä¸º<code>any</code>ç±»å‹ã€‚</p><p>å®ƒæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œé»˜è®¤ä¸º<code>true</code>ï¼Œå³åªè¦æ¨æ–­å‡º<code>any</code>ç±»å‹å°±æŠ¥é”™ã€‚</p><h3 id="noImplicitReturns">noImplicitReturns <a href="about:blank#noimplicitreturns">#</a></h3><p><code>noImplicitReturns</code>è®¾ç½®æ˜¯å¦è¦æ±‚å‡½æ•°ä»»ä½•æƒ…å†µä¸‹éƒ½å¿…é¡»è¿”å›ä¸€ä¸ªå€¼ï¼Œå³å‡½æ•°å¿…é¡»æœ‰<code>return</code>è¯­å¥ã€‚</p><h3 id="noImplicitThis">noImplicitThis <a href="about:blank#noimplicitthis">#</a></h3><p><code>noImplicitThis</code>è®¾ç½®å¦‚æœ<code>this</code>è¢«æ¨æ–­ä¸º<code>any</code>ç±»å‹æ˜¯å¦æŠ¥é”™ã€‚</p><h3 id="noUnusedLocals">noUnusedLocals <a href="about:blank#nounusedlocals">#</a></h3><p><code>noUnusedLocals</code>è®¾ç½®æ˜¯å¦å…è®¸æœªä½¿ç”¨çš„å±€éƒ¨å˜é‡ã€‚</p><h3 id="noUnusedParameters">noUnusedParameters <a href="about:blank#nounusedparameters">#</a></h3><p><code>noUnusedParameters</code>è®¾ç½®æ˜¯å¦å…è®¸æœªä½¿ç”¨çš„å‡½æ•°å‚æ•°ã€‚</p><h3 id="outDir">outDir <a href="about:blank#outdir">#</a></h3><p><code>outDir</code>æŒ‡å®šç¼–è¯‘äº§ç‰©çš„å­˜æ”¾ç›®å½•ã€‚å¦‚æœä¸æŒ‡å®šï¼Œç¼–è¯‘å‡ºæ¥çš„<code>.js</code>æ–‡ä»¶å­˜æ”¾åœ¨å¯¹åº”çš„<code>.ts</code>æ–‡ä»¶çš„ç›¸åŒä½ç½®ã€‚</p><h3 id="outFile">outFile <a href="about:blank#outfile">#</a></h3><p><code>outFile</code>è®¾ç½®å°†æ‰€æœ‰éæ¨¡å—çš„å…¨å±€æ–‡ä»¶ï¼Œç¼–è¯‘åœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œé¢ã€‚å®ƒåªæœ‰åœ¨<code>module</code>å±æ€§ä¸º<code>None</code>ã€<code>System</code>ã€<code>AMD</code>æ—¶æ‰ç”Ÿæ•ˆï¼Œå¹¶ä¸”ä¸èƒ½ç”¨æ¥æ‰“åŒ… CommonJS æˆ– ES6 æ¨¡å—ã€‚</p><h3 id="paths">paths <a href="about:blank#paths">#</a></h3><p><code>paths</code>è®¾ç½®æ¨¡å—åå’Œæ¨¡å—è·¯å¾„çš„æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯ TypeScript å¦‚ä½•å¯¼å…¥<code>require</code>æˆ–<code>imports</code>è¯­å¥åŠ è½½çš„æ¨¡å—ã€‚</p><p><code>paths</code>åŸºäº<code>baseUrl</code>è¿›è¡ŒåŠ è½½ï¼Œæ‰€ä»¥å¿…é¡»åŒæ—¶è®¾ç½®åè€…ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    &quot;baseUrl&quot;: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123;</span><br><span class="line">      &quot;<span class="selector-tag">b</span>&quot;: [<span class="string">&quot;bar/b&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®ƒè¿˜å¯ä»¥ä½¿ç”¨é€šé…ç¬¦â€œ*â€ã€‚</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;@bar/*&quot;</span>: [<span class="string">&quot;bar/*&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="preserveConstEnums">preserveConstEnums <a href="about:blank#preserveconstenums">#</a></h3><p><code>preserveConstEnums</code>å°†<code>const enum</code>ç»“æ„ä¿ç•™ä¸‹æ¥ï¼Œä¸æ›¿æ¢æˆå¸¸é‡å€¼ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;preserveConstEnums&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="pretty">pretty <a href="about:blank#pretty">#</a></h3><p><code>pretty</code>è®¾ç½®ç¾åŒ–è¾“å‡ºç»ˆç«¯çš„ç¼–è¯‘ä¿¡æ¯ï¼Œé»˜è®¤ä¸º<code>true</code>ã€‚</p><h3 id="removeComments">removeComments <a href="about:blank#removecomments">#</a></h3><p><code>removeComments</code>ç§»é™¤ TypeScript è„šæœ¬é‡Œé¢çš„æ³¨é‡Šï¼Œé»˜è®¤ä¸º<code>false</code>ã€‚</p><h3 id="resolveJsonModule">resolveJsonModule <a href="about:blank#resolvejsonmodule">#</a></h3><p><code>resolveJsonModule</code>å…è®¸ import å‘½ä»¤å¯¼å…¥ JSON æ–‡ä»¶ã€‚</p><h3 id="rootDir">rootDir <a href="about:blank#rootdir">#</a></h3><p><code>rootDir</code>è®¾ç½®æºç è„šæœ¬æ‰€åœ¨çš„ç›®å½•ï¼Œä¸»è¦è·Ÿç¼–è¯‘åçš„è„šæœ¬ç»“æ„æœ‰å…³ã€‚<code>rootDir</code>å¯¹åº”ç›®å½•ä¸‹çš„æ‰€æœ‰è„šæœ¬ï¼Œä¼šæˆä¸ºè¾“å‡ºç›®å½•é‡Œé¢çš„é¡¶å±‚è„šæœ¬ã€‚</p><h3 id="rootDirs">rootDirs <a href="about:blank#rootdirs">#</a></h3><p><code>rootDirs</code>æŠŠå¤šä¸ªä¸åŒç›®å½•ï¼Œåˆå¹¶æˆä¸€ä¸ªè™šæ‹Ÿç›®å½•ï¼Œä¾¿äºæ¨¡å—å®šä½ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;rootDirs&quot;</span>: [<span class="string">&quot;bar&quot;</span>, <span class="string">&quot;foo&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>rootDirs</code>å°†<code>bar</code>å’Œ<code>foo</code>ç»„æˆä¸€ä¸ªè™šæ‹Ÿç›®å½•ã€‚</p><h3 id="sourceMap">sourceMap <a href="about:blank#sourcemap">#</a></h3><p><code>sourceMap</code>è®¾ç½®ç¼–è¯‘æ—¶æ˜¯å¦ç”Ÿæˆ SourceMap æ–‡ä»¶ã€‚</p><h3 id="sourceRoot">sourceRoot <a href="about:blank#sourceroot">#</a></h3><p><code>sourceRoot</code>åœ¨ SourceMap é‡Œé¢è®¾ç½® TypeScript æºæ–‡ä»¶çš„ä½ç½®ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;sourceMap&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;sourceRoot&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://my-website.com/debug/source/&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="strict">strict <a href="about:blank#strict">#</a></h3><p><code>strict</code>ç”¨æ¥æ‰“å¼€ TypeScript çš„ä¸¥æ ¼æ£€æŸ¥ã€‚å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œé»˜è®¤æ˜¯å…³é—­çš„ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;strict&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè®¾ç½®ç›¸å½“äºåŒæ—¶æ‰“å¼€ä»¥ä¸‹çš„ä¸€ç³»åˆ—è®¾ç½®ã€‚</p><ul><li>alwaysStrict</li><li>strictNullChecks</li><li>strictBindCallApply</li><li>strictFunctionTypes</li><li>strictPropertyInitialization</li><li>noImplicitAny</li><li>noImplicitThis</li><li>useUnknownInCatchVariables</li></ul><p>æ‰“å¼€<code>strict</code>çš„æ—¶å€™ï¼Œå…è®¸å•ç‹¬å…³é—­å…¶ä¸­ä¸€é¡¹ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;strict&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;alwaysStrict&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="strictBindCallApply">strictBindCallApply <a href="about:blank#strictbindcallapply">#</a></h3><p><code>strictBindCallApply</code>è®¾ç½®æ˜¯å¦å¯¹å‡½æ•°çš„<code>call()</code>ã€<code>bind()</code>ã€<code>apply()</code>è¿™ä¸‰ä¸ªæ–¹æ³•è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</p><p>å¦‚æœä¸æ‰“å¼€<code>strictBindCallApply</code>ç¼–è¯‘é€‰é¡¹ï¼Œç¼–è¯‘å™¨ä¸ä¼šå¯¹ä»¥ä¸Šä¸‰ä¸ªæ–¹æ³•è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå‚æ•°ç±»å‹éƒ½æ˜¯<code>any</code>ï¼Œä¼ å…¥ä»»ä½•å‚æ•°éƒ½ä¸ä¼šäº§ç”Ÿç¼–è¯‘é”™è¯¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">x: string</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">parseInt</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// strictBindCallApply:false</span></span><br><span class="line"><span class="keyword">const</span> n = fn.<span class="title function_">call</span>(<span class="literal">undefined</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="comment">// ä»¥ä¸Šä¸æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="strictFunctionTypes">strictFunctionTypes <a href="about:blank#strictfunctiontypes">#</a></h3><p><code>strictFunctionTypes</code>å…è®¸å¯¹å‡½æ•°æ›´ä¸¥æ ¼çš„å‚æ•°æ£€æŸ¥ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœå‡½æ•° B çš„å‚æ•°æ˜¯å‡½æ•° A å‚æ•°çš„å­ç±»å‹ï¼Œé‚£ä¹ˆå‡½æ•° B ä¸èƒ½æ›¿ä»£å‡½æ•° Aã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">x:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello, &#x27;</span> + x.<span class="title function_">toLowerCase</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">StringOrNumberFunc</span> = <span class="function">(<span class="params">ns:<span class="built_in">string</span>|<span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰“å¼€ strictFunctionTypesï¼Œä¸‹é¢ä»£ç ä¼šæŠ¥é”™</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">func</span>:<span class="title class_">StringOrNumberFunc</span> = fn;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>fn()</code>çš„å‚æ•°æ˜¯<code>StringOrNumberFunc</code>å‚æ•°çš„å­é›†ï¼Œå› æ­¤<code>fn</code>ä¸èƒ½æ›¿ä»£<code>StringOrNumberFunc</code>ã€‚</p><h3 id="strictNullChecks">strictNullChecks <a href="about:blank#strictnullchecks">#</a></h3><p><code>strictNullChecks</code>è®¾ç½®å¯¹<code>null</code>å’Œ<code>undefined</code>è¿›è¡Œä¸¥æ ¼ç±»å‹æ£€æŸ¥ã€‚å¦‚æœæ‰“å¼€<code>strict</code>å±æ€§ï¼Œè¿™ä¸€é¡¹å°±ä¼šè‡ªåŠ¨è®¾ä¸º<code>true</code>ï¼Œå¦åˆ™ä¸º<code>false</code>ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">value</span>:<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// strictNullChecks:false</span></span><br><span class="line"><span class="comment">// ä¸‹é¢è¯­å¥ä¸æŠ¥é”™</span></span><br><span class="line"><span class="keyword">value</span> = <span class="literal">null</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®ƒå¯ä»¥ç†è§£æˆåªè¦æ‰“å¼€ï¼Œå°±éœ€è¦æ˜¾å¼æ£€æŸ¥<code>null</code>æˆ–<code>undefined</code>ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params">x:string|null</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (x === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">// do nothing</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&quot;Hello, &quot;</span> + x.toUpperCase());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="strictPropertyInitialization">strictPropertyInitialization <a href="about:blank#strictpropertyinitialization">#</a></h3><p><code>strictPropertyInitialization</code>è®¾ç½®ç±»çš„å®ä¾‹å±æ€§éƒ½å¿…é¡»åˆå§‹åŒ–ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å‡ ç§æƒ…å†µã€‚</p><ul><li>è®¾ä¸º<code>undefined</code>ç±»å‹</li><li>æ˜¾å¼åˆå§‹åŒ–</li><li>æ„é€ å‡½æ•°ä¸­èµ‹å€¼</li></ul><p>æ³¨æ„ï¼Œä½¿ç”¨è¯¥å±æ€§çš„åŒæ—¶ï¼Œå¿…é¡»æ‰“å¼€<code>strictNullChecks</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// strictPropertyInitializationï¼štrue</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="comment">// æŠ¥é”™ï¼Œå±æ€§ username æ²¡æœ‰åˆå§‹åŒ–</span></span><br><span class="line">  <span class="attr">username</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  username = <span class="string">&#x27;å¼ ä¸‰&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">username</span>:<span class="built_in">string</span>|<span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ³•ä¸‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">username</span>:<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">username:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">username</span> = username;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"><span class="keyword">public</span> username:<span class="built_in">string</span></span>) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³æ–¹æ³•å››ï¼šèµ‹å€¼æ–­è¨€</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  username!:<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">username:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">initialize</span>(username);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="title function_">initialize</span>(<span class="params">username:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">username</span> = username;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="suppressExcessPropertyErrors">suppressExcessPropertyErrors <a href="about:blank#suppressexcesspropertyerrors">#</a></h3><p><code>suppressExcessPropertyErrors</code>å…³é—­å¯¹è±¡å­—é¢é‡çš„å¤šä½™å‚æ•°çš„æŠ¥é”™ã€‚</p><h3 id="target">target <a href="about:blank#target">#</a></h3><p><code>target</code>æŒ‡å®šç¼–è¯‘å‡ºæ¥çš„ JavaScript ä»£ç çš„ ECMAScript ç‰ˆæœ¬ï¼Œæ¯”å¦‚<code>es2021</code>ï¼Œé»˜è®¤æ˜¯<code>es3</code>ã€‚</p><p>å®ƒå¯ä»¥å–ä»¥ä¸‹å€¼ã€‚</p><ul><li>es3</li><li>es5</li><li>es6/es2015</li><li>es2016</li><li>es2017</li><li>es2018</li><li>es2019</li><li>es2020</li><li>es2021</li><li>es2022</li><li>esnext</li></ul><p>æ³¨æ„ï¼Œå¦‚æœç¼–è¯‘çš„ç›®æ ‡ç‰ˆæœ¬è¿‡è€ï¼Œæ¯”å¦‚<code>&quot;target&quot;: &quot;es3&quot;</code>ï¼Œæœ‰äº›è¯­æ³•å¯èƒ½æ— æ³•ç¼–è¯‘ï¼Œ<code>tsc</code>å‘½ä»¤ä¼šæŠ¥é”™ã€‚</p><h3 id="traceResolution">traceResolution <a href="about:blank#traceresolution">#</a></h3><p><code>traceResolution</code>è®¾ç½®ç¼–è¯‘æ—¶ï¼Œåœ¨ç»ˆç«¯è¾“å‡ºæ¨¡å—è§£æçš„å…·ä½“æ­¥éª¤ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;traceResolution&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="typeRoots">typeRoots <a href="about:blank#typeroots">#</a></h3><p><code>typeRoots</code>è®¾ç½®ç±»å‹æ¨¡å—æ‰€åœ¨çš„ç›®å½•ï¼Œé»˜è®¤æ˜¯<code>node_modules/@types</code>ï¼Œè¯¥ç›®å½•é‡Œé¢çš„æ¨¡å—ä¼šè‡ªåŠ¨åŠ å…¥ç¼–è¯‘ã€‚ä¸€æ—¦æŒ‡å®šäº†è¯¥å±æ€§ï¼Œå°±ä¸ä¼šå†ç”¨é»˜è®¤å€¼<code>node_modules/@types</code>é‡Œé¢çš„ç±»å‹æ¨¡å—ã€‚</p><p>è¯¥å±æ€§çš„å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªæˆå‘˜å°±æ˜¯ä¸€ä¸ªç›®å½•ï¼Œå®ƒä»¬çš„è·¯å¾„æ˜¯ç›¸å¯¹äº<code>tsconfig.json</code>ä½ç½®ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;typeRoots&quot;</span>: [<span class="string">&quot;./typings&quot;</span>, <span class="string">&quot;./vendor/types&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="types">types <a href="about:blank#types">#</a></h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>typeRoots</code>ç›®å½•ä¸‹æ‰€æœ‰æ¨¡å—éƒ½ä¼šè‡ªåŠ¨åŠ å…¥ç¼–è¯‘ï¼Œå¦‚æœæŒ‡å®šäº†<code>types</code>å±æ€§ï¼Œé‚£ä¹ˆåªæœ‰å…¶ä¸­åˆ—å‡ºçš„æ¨¡å—æ‰ä¼šè‡ªåŠ¨åŠ å…¥ç¼–è¯‘ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;types&quot;</span>: [<span class="string">&quot;node&quot;</span>, <span class="string">&quot;jest&quot;</span>, <span class="string">&quot;express&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„è®¾ç½®è¡¨ç¤ºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰<code>./node_modules/@types/node</code>ã€<code>./node_modules/@types/jest</code>å’Œ<code>./node_modules/@types/express</code>ä¼šè‡ªåŠ¨åŠ å…¥ç¼–è¯‘ï¼Œå…¶ä»–<code>node_modules/@types/</code>ç›®å½•ä¸‹çš„æ¨¡å—ä¸ä¼šåŠ å…¥ç¼–è¯‘ã€‚</p><p>å¦‚æœ<code>&quot;types&quot;: []</code>ï¼Œå°±è¡¨ç¤ºä¸ä¼šè‡ªåŠ¨å°†æ‰€æœ‰<code>@types</code>æ¨¡å—åŠ å…¥ç¼–è¯‘ã€‚</p><h3 id="useUnknownInCatchVariables">useUnknownInCatchVariables <a href="about:blank#useunknownincatchvariables">#</a></h3><p><code>useUnknownInCatchVariables</code>è®¾ç½®<code>catch</code>è¯­å¥æ•è·çš„<code>try</code>æŠ›å‡ºçš„è¿”å›å€¼ç±»å‹ï¼Œä»<code>any</code>å˜æˆ<code>unknown</code>ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">  <span class="built_in">someExternalFunction</span>();</span><br><span class="line">&#125; catch (err) &#123;</span><br><span class="line">  err; <span class="comment">// ç±»å‹ any</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>catch</code>è¯­å¥çš„å‚æ•°<code>err</code>ç±»å‹æ˜¯<code>any</code>ï¼Œå³å¯ä»¥æ˜¯ä»»ä½•å€¼ã€‚</p><p>æ‰“å¼€<code>useUnknownInCatchVariables</code>ä»¥åï¼Œ<code>err</code>çš„ç±»å‹æŠ›å‡ºçš„é”™è¯¯å°†æ˜¯<code>unknown</code>ç±»å‹ã€‚è¿™å¸¦æ¥çš„å˜åŒ–å°±æ˜¯ä½¿ç”¨<code>err</code>ä¹‹å‰ï¼Œå¿…é¡»ç¼©å°å®ƒçš„ç±»å‹ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="title function_">someExternalFunction</span>();</span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">  <span class="keyword">if</span> (err <span class="keyword">instanceof</span> <span class="title class_">Error</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err.<span class="property">message</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ <a href="about:blank#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">#</a></h2><ul><li><a href="https://mariusschulz.com/blog/strict-property-initialization-in-typescript">Strict Property Initialization in TypeScript</a>, Marius Schulz</li></ul><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/tsconfig.json">https://wangdoc.com/typescript/tsconfig.json</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript tsconfig.json</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript çš„æ³¨é‡ŠæŒ‡ä»¤</title>
    <link href="https://www.fomal.cc/posts/30.html"/>
    <id>https://www.fomal.cc/posts/30.html</id>
    <published>2023-06-24T10:50:00.000Z</published>
    <updated>2023-06-24T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>TypeScript çš„æ³¨é‡ŠæŒ‡ä»¤</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><p>TypeScript æ¥å—ä¸€äº›æ³¨é‡ŠæŒ‡ä»¤ã€‚</p><p>æ‰€è°“â€œæ³¨é‡ŠæŒ‡ä»¤â€ï¼ŒæŒ‡çš„æ˜¯é‡‡ç”¨ JS åŒæ–œæ æ³¨é‡Šçš„å½¢å¼ï¼Œå‘ç¼–è¯‘å™¨å‘å‡ºçš„å‘½ä»¤ã€‚</p><h2 id="ts-nocheck"><code>// @ts-nocheck</code> <a href="about:blank#-ts-nocheck">#</a></h2><p><code>// @ts-nocheck</code>å‘Šè¯‰ç¼–è¯‘å™¨ä¸å¯¹å½“å‰è„šæœ¬è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå¯ä»¥ç”¨äº TypeScript è„šæœ¬ï¼Œä¹Ÿå¯ä»¥ç”¨äº JavaScript è„šæœ¬ã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @ts-nocheck</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> element = <span class="built_in">document</span>.getElementById(<span class="number">123</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>document.getElementById(123)</code>å­˜åœ¨ç±»å‹é”™è¯¯ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¸å¯¹è¯¥è„šæœ¬è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œæ‰€ä»¥ä¸ä¼šæŠ¥é”™ã€‚</p><h2 id="ts-check"><code>// @ts-check</code> <a href="about:blank#-ts-check">#</a></h2><p>å¦‚æœä¸€ä¸ª JavaScript è„šæœ¬é¡¶éƒ¨æ·»åŠ äº†<code>// @ts-check</code>ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨å°†å¯¹è¯¥è„šæœ¬è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œä¸è®ºæ˜¯å¦å¯ç”¨äº†<code>checkJs</code>ç¼–è¯‘é€‰é¡¹ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @ts-check</span></span><br><span class="line">let isChecked = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.<span class="built_in">log</span>(isChceked); <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹æ˜¯ä¸€ä¸ª JavaScript è„šæœ¬ï¼Œ<code>// @ts-check</code>å‘Šè¯‰ TypeScript ç¼–è¯‘å™¨å¯¹å…¶è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œæ‰€ä»¥æœ€åä¸€è¡Œä¼šæŠ¥é”™ï¼Œæç¤ºæ‹¼å†™é”™è¯¯ã€‚</p><h2 id="ts-ignore"><code>// @ts-ignore</code> <a href="about:blank#-ts-ignore">#</a></h2><p><code>// @ts-ignore</code>å‘Šè¯‰ç¼–è¯‘å™¨ä¸å¯¹ä¸‹ä¸€è¡Œä»£ç è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå¯ä»¥ç”¨äº TypeScript è„šæœ¬ï¼Œä¹Ÿå¯ä»¥ç”¨äº JavaScript è„šæœ¬ã€‚</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">let <span class="keyword">x</span>:number<span class="comment">;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="keyword">x</span> <span class="operator">=</span> <span class="number">0</span><span class="comment">;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line">// <span class="title">@ts-ignore</span></span><br><span class="line"><span class="keyword">x</span> <span class="operator">=</span> <span class="keyword">false</span><span class="comment">; // ä¸æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæœ€åä¸€è¡Œæ˜¯ç±»å‹é”™è¯¯ï¼Œå˜é‡<code>x</code>çš„ç±»å‹æ˜¯<code>number</code>ï¼Œä¸èƒ½ç­‰äºå¸ƒå°”å€¼ã€‚ä½†æ˜¯å› ä¸ºå‰é¢åŠ ä¸Šäº†<code>// @ts-ignore</code>ï¼Œç¼–è¯‘å™¨ä¼šè·³è¿‡è¿™ä¸€è¡Œçš„ç±»å‹æ£€æŸ¥ï¼Œæ‰€ä»¥ä¸ä¼šæŠ¥é”™ã€‚</p><h2 id="ts-expect-error"><code>// @ts-expect-error</code> <a href="about:blank#-ts-expect-error">#</a></h2><p><code>// @ts-expect-error</code>ä¸»è¦ç”¨åœ¨æµ‹è¯•ç”¨ä¾‹ï¼Œå½“ä¸‹ä¸€è¡Œæœ‰ç±»å‹é”™è¯¯æ—¶ï¼Œå®ƒä¼šå‹åˆ¶ TypeScript çš„æŠ¥é”™ä¿¡æ¯ï¼ˆå³ä¸æ˜¾ç¤ºæŠ¥é”™ä¿¡æ¯ï¼‰ï¼ŒæŠŠé”™è¯¯ç•™ç»™ä»£ç è‡ªå·±å¤„ç†ã€‚</p><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function doStuff(<span class="name">abc</span>: <span class="built_in">string</span>, <span class="name">xyz</span>: <span class="built_in">string</span>) &#123;</span><br><span class="line">  <span class="built_in">assert</span>(typeof abc === <span class="string">&quot;string&quot;</span>);</span><br><span class="line">  <span class="built_in">assert</span>(typeof xyz === <span class="string">&quot;string&quot;</span>);</span><br><span class="line">  // <span class="keyword">do</span> some stuff</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">expect(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  // @ts-expect-<span class="built_in">error</span></span><br><span class="line">  doStuff(<span class="number">123</span>, <span class="number">456</span>);</span><br><span class="line">&#125;).toThrow();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹æ˜¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œå€’æ•°ç¬¬äºŒè¡Œçš„<code>doStuff(123, 456)</code>çš„å‚æ•°ç±»å‹ä¸å®šä¹‰ä¸ä¸€è‡´ï¼ŒTypeScript å¼•æ“ä¼šæŠ¥é”™ã€‚ä½†æ˜¯ï¼Œæµ‹è¯•ç”¨ä¾‹æœ¬èº«æµ‹è¯•çš„å°±æ˜¯è¿™ä¸ªé”™è¯¯ï¼Œå·²ç»æœ‰ä¸“é—¨çš„å¤„ç†ä»£ç ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ä½¿ç”¨<code>// @ts-expect-error</code>ï¼Œä¸æ˜¾ç¤ºå¼•æ“çš„æŠ¥é”™ä¿¡æ¯ã€‚</p><p>å¦‚æœä¸‹ä¸€è¡Œæ²¡æœ‰ç±»å‹é”™è¯¯ï¼Œ<code>// @ts-expect-error</code>åˆ™ä¼šæ˜¾ç¤ºä¸€è¡Œæç¤ºã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// @ts-expect-error</span></span><br><span class="line"><span class="built_in">console</span>.<span class="built_in">log</span>(<span class="number">1</span> + <span class="number">1</span>);</span><br><span class="line"><span class="comment">// è¾“å‡º Unused &#x27;@ts-expect-error&#x27; directive.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç¬¬äºŒè¡Œæ˜¯æ­£ç¡®ä»£ç ï¼Œè¿™æ—¶ç³»ç»Ÿä¼šç»™å‡ºä¸€ä¸ªæç¤ºï¼Œè¡¨ç¤º<code>@ts-expect-error</code>æ²¡æœ‰ç”¨åˆ°ã€‚</p><h2 id="JSDoc">JSDoc <a href="about:blank#jsdoc">#</a></h2><p>TypeScript ç›´æ¥å¤„ç† JS æ–‡ä»¶æ—¶ï¼Œå¦‚æœæ— æ³•æ¨æ–­å‡ºç±»å‹ï¼Œä¼šä½¿ç”¨ JS è„šæœ¬é‡Œé¢çš„ JSDoc æ³¨é‡Šã€‚</p><p>ä½¿ç”¨ JSDoc æ—¶ï¼Œæœ‰ä¸¤ä¸ªåŸºæœ¬è¦æ±‚ã€‚</p><p>ï¼ˆ1ï¼‰JSDoc æ³¨é‡Šå¿…é¡»ä»¥<code>/**</code>å¼€å§‹ï¼Œå…¶ä¸­æ˜Ÿå·ï¼ˆ<code>*</code>ï¼‰çš„æ•°é‡å¿…é¡»ä¸ºä¸¤ä¸ªã€‚è‹¥ä½¿ç”¨å…¶ä»–å½¢å¼çš„å¤šè¡Œæ³¨é‡Šï¼Œåˆ™ JSDoc ä¼šå¿½ç•¥è¯¥æ¡æ³¨é‡Šã€‚</p><p>ï¼ˆ2ï¼‰JSDoc æ³¨é‡Šå¿…é¡»ä¸å®ƒæè¿°çš„ä»£ç å¤„äºç›¸é‚»çš„ä½ç½®ï¼Œå¹¶ä¸”æ³¨é‡Šåœ¨ä¸Šï¼Œä»£ç åœ¨ä¸‹ã€‚</p><p>ä¸‹é¢æ˜¯ JSDoc çš„ä¸€ä¸ªç®€å•ä¾‹å­ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; somebody</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span>(<span class="params">somebody</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;Hello &#x27;</span> + somebody);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ³¨é‡Šé‡Œé¢çš„<code>@param</code>æ˜¯ä¸€ä¸ª JSDoc å£°æ˜ï¼Œè¡¨ç¤ºä¸‹é¢çš„å‡½æ•°<code>sayHello()</code>çš„å‚æ•°<code>somebody</code>ç±»å‹ä¸º<code>string</code>ã€‚</p><p>TypeScript ç¼–è¯‘å™¨æ”¯æŒå¤§éƒ¨åˆ†çš„ JSDoc å£°æ˜ï¼Œä¸‹é¢ä»‹ç»å…¶ä¸­çš„ä¸€äº›ã€‚</p><h3 id="typedef">@typedef <a href="about:blank#typedef">#</a></h3><p><code>@typedef</code>å‘½ä»¤åˆ›å»ºè‡ªå®šä¹‰ç±»å‹ï¼Œç­‰åŒäº TypeScript é‡Œé¢çš„ç±»å‹åˆ«åã€‚</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @typedef &#123;(<span class="built_in">number</span> | <span class="built_in">string</span>)&#125; NumberLike</span><br><span class="line"> */</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º<code>NumberLike</code>çš„æ–°ç±»å‹ï¼Œå®ƒæ˜¯ç”±<code>number</code>å’Œ<code>string</code>æ„æˆçš„è”åˆç±»å‹ï¼Œç­‰åŒäº TypeScript çš„å¦‚ä¸‹è¯­å¥ã€‚</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> NumberLike = <span class="keyword">string</span> | <span class="keyword">number</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="type">@type <a href="about:blank#type">#</a></h3><p><code>@type</code>å‘½ä»¤å®šä¹‰å˜é‡çš„ç±»å‹ã€‚</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @<span class="class"><span class="keyword">type</span> &#123;<span class="title">string</span>&#125;</span></span><br><span class="line"> */</span><br><span class="line"><span class="title">let</span> a;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>@type</code>å®šä¹‰äº†å˜é‡<code>a</code>çš„ç±»å‹ä¸º<code>string</code>ã€‚</p><p>åœ¨<code>@type</code>å‘½ä»¤ä¸­å¯ä»¥ä½¿ç”¨ç”±<code>@typedef</code>å‘½ä»¤åˆ›å»ºçš„ç±»å‹ã€‚</p><figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@typedef</span> &#123;(number | string)&#125; NumberLike</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> &#123;NumberLike&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="number">0</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨<code>@type</code>å‘½ä»¤ä¸­å…è®¸ä½¿ç”¨ TypeScript ç±»å‹åŠå…¶è¯­æ³•ã€‚</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">/**@<span class="class"><span class="keyword">type</span> &#123;<span class="title">true</span> | <span class="title">false</span>&#125; */</span></span><br><span class="line"><span class="title">let</span> a;</span><br><span class="line"></span><br><span class="line">/** @<span class="class"><span class="keyword">type</span> &#123;<span class="title">number</span>[]&#125; */</span></span><br><span class="line"><span class="title">let</span> b;</span><br><span class="line"></span><br><span class="line">/** @<span class="class"><span class="keyword">type</span> &#123;<span class="type">Array</span>&lt;<span class="title">number</span>&gt;&#125; */</span></span><br><span class="line"><span class="title">let</span> c;</span><br><span class="line"></span><br><span class="line">/** @<span class="class"><span class="keyword">type</span> &#123;&#123; <span class="title">readonly</span> <span class="title">x</span>: <span class="title">number</span>, <span class="title">y</span>?: <span class="title">string</span> &#125;&#125; */</span></span><br><span class="line"><span class="title">let</span> d;</span><br><span class="line"></span><br><span class="line">/** @<span class="class"><span class="keyword">type</span> &#123;(<span class="title">s</span>: <span class="title">string</span>, <span class="title">b</span>: <span class="title">boolean</span>) =&gt; <span class="title">number</span>&#125; */</span></span><br><span class="line"><span class="title">let</span> e;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="param">@param <a href="about:blank#param">#</a></h3><p><code>@param</code>å‘½ä»¤ç”¨äºå®šä¹‰å‡½æ•°å‚æ•°çš„ç±»å‹ã€‚</p><figure class="highlight wren"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;string&#125;  x</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable">function</span> <span class="title function_">foo</span>(<span class="params">x</span>) &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯å¯é€‰å‚æ•°ï¼Œéœ€è¦å°†å‚æ•°åæ”¾åœ¨æ–¹æ‹¬å·<code>[]</code>é‡Œé¢ã€‚</p><figure class="highlight wren"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;string&#125;  [x]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable">function</span> <span class="title function_">foo</span>(<span class="params">x</span>) &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ–¹æ‹¬å·é‡Œé¢ï¼Œè¿˜å¯ä»¥æŒ‡å®šå‚æ•°é»˜è®¤å€¼ã€‚</p><figure class="highlight wren"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;string&#125; [x=&quot;bar&quot;]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="variable">function</span> <span class="title function_">foo</span>(<span class="params">x</span>) &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‚æ•°<code>x</code>çš„é»˜è®¤å€¼æ˜¯å­—ç¬¦ä¸²<code>bar</code>ã€‚</p><h3 id="returnï¼Œ-returns">@returnï¼Œ@returns <a href="about:blank#returnreturns">#</a></h3><p><code>@return</code>å’Œ<code>@returns</code>å‘½ä»¤çš„ä½œç”¨ç›¸åŒï¼ŒæŒ‡å®šå‡½æ•°è¿”å›å€¼çš„ç±»å‹ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @<span class="keyword">return</span> &#123;boolean&#125;</span><br><span class="line"> */</span><br><span class="line"><span class="keyword">function</span> <span class="title">foo</span>() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @returns &#123;number&#125;</span><br><span class="line"> */</span><br><span class="line"><span class="keyword">function</span> <span class="title">bar</span>() &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="extends-å’Œç±»å‹ä¿®é¥°ç¬¦">@extends å’Œç±»å‹ä¿®é¥°ç¬¦ <a href="about:blank#extends-%E5%92%8C%E7%B1%BB%E5%9E%8B%E4%BF%AE%E9%A5%B0%E7%AC%A6">#</a></h3><p><code>@extends</code>å‘½ä»¤ç”¨äºå®šä¹‰ç»§æ‰¿çš„åŸºç±»ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @extends &#123;Base&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived</span> <span class="keyword">extends</span> <span class="title">Base</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>@public</code>ã€<code>@protected</code>ã€<code>@private</code>åˆ†åˆ«æŒ‡å®šç±»çš„å…¬å¼€æˆå‘˜ã€ä¿æŠ¤æˆå‘˜å’Œç§æœ‰æˆå‘˜ã€‚</p><p><code>@readonly</code>æŒ‡å®šåªè¯»æˆå‘˜ã€‚</p><figure class="highlight wren"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> &#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@public</span></span></span><br><span class="line"><span class="comment">   * <span class="doctag">@readonly</span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   *  <span class="doctag">@protected</span></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="variable">y</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/comment">https://wangdoc.com/typescript/comment</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript çš„æ³¨é‡ŠæŒ‡ä»¤</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript ç±»å‹å·¥å…·</title>
    <link href="https://www.fomal.cc/posts/29.html"/>
    <id>https://www.fomal.cc/posts/29.html</id>
    <published>2023-06-23T10:50:00.000Z</published>
    <updated>2023-06-23T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>TypeScript ç±»å‹å·¥å…·</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><p>TypeScript æä¾›äº†ä¸€äº›å†…ç½®çš„ç±»å‹å·¥å…·ï¼Œç”¨æ¥æ–¹ä¾¿åœ°å¤„ç†å„ç§ç±»å‹ï¼Œä»¥åŠç”Ÿæˆæ–°çš„ç±»å‹ã€‚</p><p>TypeScript å†…ç½®äº†17ä¸ªç±»å‹å·¥å…·ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><h2 id="Awaited-Type"><code>Awaited&lt;Type&gt;</code> <a href="about:blank#awaitedtype">#</a></h2><p><code>Awaited&lt;Type&gt;</code>ç”¨æ¥å–å‡º Promise çš„è¿”å›å€¼ç±»å‹ï¼Œé€‚åˆç”¨åœ¨æè¿°<code>then()</code>æ–¹æ³•å’Œ await å‘½ä»¤çš„å‚æ•°ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> A = <span class="title class_">Awaited</span>&lt;<span class="title class_">Promise</span>&lt;<span class="built_in">string</span>&gt;&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Awaited&lt;Type&gt;</code>ä¼šè¿”å› Promise çš„è¿”å›å€¼ç±»å‹ï¼ˆstringï¼‰ã€‚</p><p>å®ƒä¹Ÿå¯ä»¥è¿”å›å¤šé‡ Promise çš„è¿”å›å€¼ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// number</span></span><br><span class="line"><span class="keyword">type</span> B = <span class="title class_">Awaited</span>&lt;<span class="title class_">Promise</span>&lt;<span class="title class_">Promise</span>&lt;<span class="built_in">number</span>&gt;&gt;&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœå®ƒçš„ç±»å‹å‚æ•°ä¸æ˜¯ Promise ç±»å‹ï¼Œé‚£ä¹ˆå°±ä¼šåŸæ ·è¿”å›ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// number | boolean</span></span><br><span class="line"><span class="keyword">type</span> C = <span class="title class_">Awaited</span>&lt;<span class="built_in">boolean</span> | <span class="title class_">Promise</span>&lt;<span class="built_in">number</span>&gt;&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹å‚æ•°æ˜¯ä¸€ä¸ªè”åˆç±»å‹ï¼Œå…¶ä¸­çš„<code>boolean</code>ä¼šåŸæ ·è¿”å›ï¼Œæ‰€ä»¥æœ€ç»ˆè¿”å›çš„æ˜¯<code>number|boolean</code>ã€‚</p><p><code>Awaited&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">type Awaited<span class="operator">&lt;</span><span class="built_in">T</span><span class="operator">&gt;</span> <span class="operator">=</span></span><br><span class="line">  <span class="built_in">T</span> extends null <span class="operator">|</span> undefined <span class="operator">?</span> <span class="built_in">T</span> <span class="operator">:</span></span><br><span class="line">  <span class="built_in">T</span> extends object <span class="operator">&amp;</span> <span class="punctuation">&#123;</span></span><br><span class="line">    then<span class="punctuation">(</span></span><br><span class="line">      onfulfilled<span class="operator">:</span> infer <span class="built_in">F</span><span class="punctuation">,</span></span><br><span class="line">      ...args<span class="operator">:</span> infer _</span><br><span class="line">    <span class="punctuation">)</span><span class="operator">:</span> <span class="built_in">any</span>;</span><br><span class="line">  <span class="punctuation">&#125;</span> <span class="operator">?</span> <span class="built_in">F</span> extends <span class="punctuation">(</span></span><br><span class="line">    value<span class="operator">:</span> infer V<span class="punctuation">,</span></span><br><span class="line">    ...args<span class="operator">:</span> infer _</span><br><span class="line">  <span class="punctuation">)</span> <span class="operator">=</span><span class="operator">&gt;</span> <span class="built_in">any</span> <span class="operator">?</span> Awaited<span class="operator">&lt;</span>...<span class="operator">&gt;</span> <span class="operator">:</span> never<span class="operator">:</span></span><br><span class="line">  <span class="built_in">T</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ConstructorParameters-Type"><code>ConstructorParameters&lt;Type&gt;</code> <a href="about:blank#constructorparameterstype">#</a></h2><p><code>ConstructorParameters&lt;Type&gt;</code>æå–æ„é€ æ–¹æ³•<code>Type</code>çš„å‚æ•°ç±»å‹ï¼Œç»„æˆä¸€ä¸ªå…ƒç»„ç±»å‹è¿”å›ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ConstructorParameters</span>&lt;</span><br><span class="line">  <span class="keyword">new</span> (<span class="attr">x</span>: <span class="built_in">string</span>, <span class="attr">y</span>: <span class="built_in">number</span>) =&gt; <span class="built_in">object</span></span><br><span class="line">&gt;; <span class="comment">// [x: string, y: number]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">ConstructorParameters</span>&lt;</span><br><span class="line">  <span class="keyword">new</span> (x?: <span class="built_in">string</span>) =&gt; <span class="built_in">object</span></span><br><span class="line">&gt;; <span class="comment">// [x?: string | undefined]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®ƒå¯ä»¥è¿”å›ä¸€äº›å†…ç½®æ„é€ æ–¹æ³•çš„å‚æ•°ç±»å‹ã€‚</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T1 = ConstructorParameters<span class="tag">&lt;</span></span><br><span class="line"><span class="tag">  ErrorConstructor</span></span><br><span class="line"><span class="tag">&gt;</span>; // [message?: <span class="keyword">string</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T2 = ConstructorParameters<span class="tag">&lt;</span></span><br><span class="line"><span class="tag">  FunctionConstructor</span></span><br><span class="line"><span class="tag">&gt;</span>; // <span class="keyword">string</span>[]</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T3 = ConstructorParameters<span class="tag">&lt;</span></span><br><span class="line"><span class="tag">  RegExpConstructor</span></span><br><span class="line"><span class="tag">&gt;</span>; // [pattern:<span class="keyword">string</span>|RegExp, flags?:<span class="keyword">string</span>]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœå‚æ•°ç±»å‹ä¸æ˜¯æ„é€ æ–¹æ³•ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T1 = ConstructorParameters&lt;<span class="keyword">string</span>&gt;; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T2 = ConstructorParameters&lt;<span class="function"><span class="keyword">Function</span>&gt;;</span> <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>any</code>ç±»å‹å’Œ<code>never</code>ç±»å‹æ˜¯ä¸¤ä¸ªç‰¹æ®Šå€¼ï¼Œåˆ†åˆ«è¿”å›<code>unknown[]</code>å’Œ<code>never</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ConstructorParameters</span>&lt;<span class="built_in">any</span>&gt;;  <span class="comment">// unknown[]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">ConstructorParameters</span>&lt;<span class="built_in">never</span>&gt;; <span class="comment">// never</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>ConstructorParameters&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ConstructorParameters</span>&lt;</span><br><span class="line">  T <span class="keyword">extends</span> <span class="keyword">abstract</span> <span class="keyword">new</span> (...<span class="attr">args</span>: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span></span><br><span class="line">&gt; = T <span class="keyword">extends</span> <span class="keyword">abstract</span> <span class="keyword">new</span> (...<span class="attr">args</span>: infer P) </span><br><span class="line">  =&gt; <span class="built_in">any</span> ? P : <span class="built_in">never</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Exclude-UnionType-ExcludedMembers"><code>Exclude&lt;UnionType, ExcludedMembers&gt;</code> <a href="about:blank#excludeuniontype-excludedmembers">#</a></h2><p><code>Exclude&lt;UnionType, ExcludedMembers&gt;</code>ç”¨æ¥ä»è”åˆç±»å‹<code>UnionType</code>é‡Œé¢ï¼Œåˆ é™¤æŸäº›ç±»å‹<code>ExcludedMembers</code>ï¼Œç»„æˆä¸€ä¸ªæ–°çš„ç±»å‹è¿”å›ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Exclude</span>&lt;<span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;b&#x27;</span>|<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&gt;; <span class="comment">// &#x27;b&#x27;|&#x27;c&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">Exclude</span>&lt;<span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;b&#x27;</span>|<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;b&#x27;</span>&gt;; <span class="comment">// &#x27;c&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">Exclude</span>&lt;<span class="built_in">string</span>|(<span class="function">() =&gt;</span> <span class="built_in">void</span>), <span class="title class_">Function</span>&gt;; <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T4</span> = <span class="title class_">Exclude</span>&lt;<span class="built_in">string</span> | <span class="built_in">string</span>[], <span class="built_in">any</span>[]&gt;; <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T5</span> = <span class="title class_">Exclude</span>&lt;(<span class="function">() =&gt;</span> <span class="built_in">void</span>) | <span class="literal">null</span>, <span class="title class_">Function</span>&gt;; <span class="comment">// null</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T6</span> = <span class="title class_">Exclude</span>&lt;<span class="number">200</span> | <span class="number">400</span>, <span class="number">200</span> | <span class="number">201</span>&gt;; <span class="comment">// 400</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T7</span> = <span class="title class_">Exclude</span>&lt;<span class="built_in">number</span>, <span class="built_in">boolean</span>&gt;; <span class="comment">// number</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>Exclude&lt;UnionType, ExcludedMembers&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> Exclude&lt;<span class="built_in">T</span>, U&gt; = <span class="built_in">T</span> extends U ? never <span class="symbol">:</span> <span class="built_in">T</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œç­‰å·å³è¾¹çš„éƒ¨åˆ†ï¼Œè¡¨ç¤ºå…ˆåˆ¤æ–­<code>T</code>æ˜¯å¦å…¼å®¹<code>U</code>ï¼Œå¦‚æœæ˜¯çš„å°±è¿”å›<code>never</code>ç±»å‹ï¼Œå¦åˆ™è¿”å›å½“å‰ç±»å‹<code>T</code>ã€‚ç”±äº<code>never</code>ç±»å‹æ˜¯ä»»ä½•å…¶ä»–ç±»å‹çš„å­ç±»å‹ï¼Œå®ƒè·Ÿå…¶ä»–ç±»å‹ç»„æˆè”åˆç±»å‹æ—¶ï¼Œå¯ä»¥ç›´æ¥å°†<code>never</code>ç±»å‹ä»è”åˆç±»å‹ä¸­â€œæ¶ˆæ‰â€ï¼Œå› æ­¤<code>Exclude&lt;T, U&gt;</code>å°±ç›¸å½“äºåˆ é™¤å…¼å®¹çš„ç±»å‹ï¼Œå‰©ä¸‹ä¸å…¼å®¹çš„ç±»å‹ã€‚</p><h2 id="Extract-Type-Union"><code>Extract&lt;Type, Union&gt;</code> <a href="about:blank#extracttype-union">#</a></h2><p><code>Extract&lt;UnionType, Union&gt;</code>ç”¨æ¥ä»è”åˆç±»å‹<code>UnionType</code>ä¹‹ä¸­ï¼Œæå–æŒ‡å®šç±»å‹<code>Union</code>ï¼Œç»„æˆä¸€ä¸ªæ–°ç±»å‹è¿”å›ã€‚å®ƒä¸<code>Exclude&lt;T, U&gt;</code>æ­£å¥½ç›¸åã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Extract</span>&lt;<span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;b&#x27;</span>|<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>&gt;; <span class="comment">// &#x27;a&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">Extract</span>&lt;<span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;b&#x27;</span>|<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;b&#x27;</span>&gt;; <span class="comment">// &#x27;a&#x27;|&#x27;b&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">Extract</span>&lt;<span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;b&#x27;</span>|<span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;d&#x27;</span>&gt;; <span class="comment">// &#x27;a&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T4</span> = <span class="title class_">Extract</span>&lt;<span class="built_in">string</span> | <span class="built_in">string</span>[], <span class="built_in">any</span>[]&gt;; <span class="comment">// string[]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T5</span> = <span class="title class_">Extract</span>&lt;(<span class="function">() =&gt;</span> <span class="built_in">void</span>) | <span class="literal">null</span>, <span class="title class_">Function</span>&gt;; <span class="comment">// () =&gt; void</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T6</span> = <span class="title class_">Extract</span>&lt;<span class="number">200</span> | <span class="number">400</span>, <span class="number">200</span> | <span class="number">201</span>&gt;; <span class="comment">// 200</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœå‚æ•°ç±»å‹<code>Union</code>ä¸åŒ…å«åœ¨è”åˆç±»å‹<code>UnionType</code>ä¹‹ä¸­ï¼Œåˆ™è¿”å›<code>never</code>ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T = <span class="title class_">Extract</span>&lt;<span class="built_in">string</span>|<span class="built_in">number</span>, <span class="built_in">boolean</span>&gt;; <span class="comment">// never</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>Extract&lt;UnionType, Union&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> Extract&lt;<span class="built_in">T</span>, U&gt; = <span class="built_in">T</span> extends U ? <span class="built_in">T</span> <span class="symbol">:</span> never;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="InstanceType-Type"><code>InstanceType&lt;Type&gt;</code> <a href="about:blank#instancetypetype">#</a></h2><p><code>InstanceType&lt;Type&gt;</code>æå–æ„é€ å‡½æ•°çš„è¿”å›å€¼çš„ç±»å‹ï¼ˆå³å®ä¾‹ç±»å‹ï¼‰ï¼Œå‚æ•°<code>Type</code>æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œç­‰åŒäºæ„é€ å‡½æ•°çš„<code>ReturnType&lt;Type&gt;</code>ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T = InstanceType&lt;</span><br><span class="line">  <span class="built_in">new</span> () =&gt; <span class="keyword">object</span></span><br><span class="line">&gt;; // <span class="keyword">object</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹å‚æ•°æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°<code>new () =&gt; object</code>ï¼Œè¿”å›å€¼æ˜¯è¯¥æ„é€ å‡½æ•°çš„å®ä¾‹ç±»å‹ï¼ˆ<code>object</code>ï¼‰ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type A <span class="operator">=</span> InstanceType&lt;ErrorConstructor&gt;<span class="comment">; // Error</span></span><br><span class="line">type B <span class="operator">=</span> InstanceType&lt;FunctionConstructor&gt;<span class="comment">; // Function</span></span><br><span class="line">type C <span class="operator">=</span> InstanceType&lt;RegExpConstructor&gt;<span class="comment">; // RegExp</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>InstanceType&lt;T&gt;</code>çš„å‚æ•°éƒ½æ˜¯ TypeScript å†…ç½®çš„åŸç”Ÿå¯¹è±¡çš„æ„é€ å‡½æ•°ç±»å‹ï¼Œ<code>InstanceType&lt;T&gt;</code>çš„è¿”å›å€¼å°±æ˜¯è¿™äº›æ„é€ å‡½æ•°çš„å®ä¾‹ç±»å‹ã€‚</p><p>ç”±äº Class ä½œä¸ºç±»å‹ï¼Œä»£è¡¨å®ä¾‹ç±»å‹ã€‚è¦è·å–å®ƒçš„æ„é€ æ–¹æ³•ï¼Œå¿…é¡»æŠŠå®ƒå½“æˆå€¼ï¼Œç„¶åç”¨<code>typeof</code>è¿ç®—ç¬¦è·å–å®ƒçš„æ„é€ æ–¹æ³•ç±»å‹ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class C &#123;</span><br><span class="line">  x <span class="operator">=</span> <span class="number">0</span><span class="comment">;</span></span><br><span class="line">  y <span class="operator">=</span> <span class="number">0</span><span class="comment">;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type T <span class="operator">=</span> InstanceType&lt;typeof C&gt;<span class="comment">; // C</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>typeof C</code>æ˜¯<code>C</code>çš„æ„é€ æ–¹æ³•ç±»å‹ï¼Œç„¶å InstanceType å°±èƒ½è·å¾—å®ä¾‹ç±»å‹ï¼Œå³<code>C</code>æœ¬èº«ã€‚</p><p>å¦‚æœç±»å‹å‚æ•°ä¸æ˜¯æ„é€ æ–¹æ³•ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T1 = InstanceType&lt;<span class="keyword">string</span>&gt;; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T2 = InstanceType&lt;<span class="function"><span class="keyword">Function</span>&gt;;</span> <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœç±»å‹å‚æ•°æ˜¯<code>any</code>æˆ–<code>never</code>ä¸¤ä¸ªç‰¹æ®Šå€¼ï¼Œåˆ†åˆ«è¿”å›<code>any</code>å’Œ<code>never</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">InstanceType</span>&lt;<span class="built_in">any</span>&gt;; <span class="comment">// any</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">InstanceType</span>&lt;<span class="built_in">never</span>&gt;; <span class="comment">// never</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>InstanceType&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">InstanceType</span>&lt;</span><br><span class="line">  T <span class="keyword">extends</span> <span class="keyword">abstract</span> <span class="keyword">new</span> (...<span class="attr">args</span>:<span class="built_in">any</span>) =&gt; <span class="built_in">any</span></span><br><span class="line">&gt; = T <span class="keyword">extends</span> <span class="keyword">abstract</span> <span class="keyword">new</span> (...<span class="attr">args</span>: <span class="built_in">any</span>) =&gt; infer R ? R :</span><br><span class="line">  <span class="built_in">any</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="NonNullable-Type"><code>NonNullable&lt;Type&gt;</code> <a href="about:blank#nonnullabletype">#</a></h2><p><code>NonNullable&lt;Type&gt;</code>ç”¨æ¥ä»è”åˆç±»å‹<code>Type</code>åˆ é™¤<code>null</code>ç±»å‹å’Œ<code>undefined</code>ç±»å‹ï¼Œç»„æˆä¸€ä¸ªæ–°ç±»å‹è¿”å›ï¼Œä¹Ÿå°±æ˜¯è¿”å›<code>Type</code>çš„éç©ºç±»å‹ç‰ˆæœ¬ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string|number</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">NonNullable</span>&lt;<span class="built_in">string</span>|<span class="built_in">number</span>|<span class="literal">undefined</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// string[]</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">NonNullable</span>&lt;<span class="built_in">string</span>[]|<span class="literal">null</span>|<span class="literal">undefined</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">NonNullable</span>&lt;<span class="built_in">boolean</span>&gt;; <span class="comment">// boolean</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T4</span> = <span class="title class_">NonNullable</span>&lt;<span class="built_in">number</span>|<span class="literal">null</span>&gt;; <span class="comment">// number</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T5</span> = <span class="title class_">NonNullable</span>&lt;<span class="built_in">string</span>|<span class="literal">undefined</span>&gt;; <span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T6</span> = <span class="title class_">NonNullable</span>&lt;<span class="literal">null</span>|<span class="literal">undefined</span>&gt;; <span class="comment">// never</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>NonNullable&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">NonNullable</span>&lt;<span class="type">T</span>&gt; = <span class="type">T</span> &amp; &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>T &amp; &#123;&#125;</code>ç­‰åŒäºæ±‚<code>T &amp; Object</code>çš„äº¤å‰ç±»å‹ã€‚ç”±äº TypeScript çš„éç©ºå€¼éƒ½å±äº<code>Object</code>çš„å­ç±»å‹ï¼Œæ‰€ä»¥ä¼šè¿”å›è‡ªèº«ï¼›è€Œ<code>null</code>å’Œ<code>undefined</code>ä¸å±äº<code>Object</code>ï¼Œä¼šè¿”å›<code>never</code>ç±»å‹ã€‚</p><h2 id="Omit-Type-Keys"><code>Omit&lt;Type, Keys&gt;</code> <a href="about:blank#omittype-keys">#</a></h2><p><code>Omit&lt;Type, Keys&gt;</code>ç”¨æ¥ä»å¯¹è±¡ç±»å‹<code>Type</code>ä¸­ï¼Œåˆ é™¤æŒ‡å®šçš„å±æ€§<code>Keys</code>ï¼Œç»„æˆä¸€ä¸ªæ–°çš„å¯¹è±¡ç±»å‹è¿”å›ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">y</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Omit</span>&lt;A, <span class="string">&#x27;x&#x27;</span>&gt;;       <span class="comment">// &#123; y: number &#125;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">Omit</span>&lt;A, <span class="string">&#x27;y&#x27;</span>&gt;;       <span class="comment">// &#123; x: number &#125;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">Omit</span>&lt;A, <span class="string">&#x27;x&#x27;</span> | <span class="string">&#x27;y&#x27;</span>&gt;; <span class="comment">// &#123; &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Omit&lt;Type, Keys&gt;</code>ä»å¯¹è±¡ç±»å‹<code>A</code>é‡Œé¢åˆ é™¤æŒ‡å®šå±æ€§ï¼Œè¿”å›å‰©ä¸‹çš„å±æ€§ã€‚</p><p>æŒ‡å®šåˆ é™¤çš„é”®å<code>Keys</code>å¯ä»¥æ˜¯å¯¹è±¡ç±»å‹<code>Type</code>ä¸­ä¸å­˜åœ¨çš„å±æ€§ï¼Œä½†å¿…é¡»å…¼å®¹<code>string|number|symbol</code>ã€‚</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  x: <span class="keyword">number</span>;</span><br><span class="line">  y: <span class="keyword">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T = Omit&lt;A, <span class="string">&#x27;z&#x27;</span>&gt;; // &#123; x: <span class="keyword">number</span>; y: <span class="keyword">number</span> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¯¹è±¡ç±»å‹<code>A</code>ä¸­ä¸å­˜åœ¨å±æ€§<code>z</code>ï¼Œæ‰€ä»¥å°±åŸæ ·è¿”å›äº†ã€‚</p><p><code>Omit&lt;Type, Keys&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Omit&lt;T</span>, <span class="title">K</span> <span class="keyword">extends</span> <span class="title">keyof</span> <span class="title">any&gt;</span> </span></span><br><span class="line">  = <span class="type">Pick</span>&lt;<span class="type">T</span>, <span class="type">Exclude</span>&lt;keyof <span class="type">T</span>, <span class="type">K</span>&gt;&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="OmitThisParameter-Type"><code>OmitThisParameter&lt;Type&gt;</code> <a href="about:blank#omitthisparametertype">#</a></h2><p><code>OmitThisParameter&lt;Type&gt;</code>ä»å‡½æ•°ç±»å‹ä¸­ç§»é™¤ this å‚æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">toHex</span>(<span class="params"><span class="variable language_">this</span>: <span class="built_in">Number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">toString</span>(<span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type T = <span class="title class_">OmitThisParameter</span>&lt;<span class="keyword">typeof</span> toHex&gt;; <span class="comment">// () =&gt; string</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>OmitThisParameter&lt;T&gt;</code>ç»™å‡ºäº†å‡½æ•°<code>toHex()</code>çš„ç±»å‹ï¼Œå¹¶å°†å…¶ä¸­çš„<code>this</code>å‚æ•°åˆ é™¤ã€‚</p><p>å¦‚æœå‡½æ•°æ²¡æœ‰ this å‚æ•°ï¼Œåˆ™è¿”å›åŸå§‹å‡½æ•°ç±»å‹ã€‚</p><p><code>OmitThisParameter&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span> OmitThisParameter&lt;<span class="built_in">T</span>&gt; =</span><br><span class="line">  unknown extends ThisParameterType&lt;<span class="built_in">T</span>&gt; ? <span class="built_in">T</span> <span class="symbol">:</span></span><br><span class="line">  <span class="built_in">T</span> extends (...ar<span class="symbol">gs:</span> infer A) =&gt; infer R ?</span><br><span class="line">  (...ar<span class="symbol">gs:</span> A) =&gt; R <span class="symbol">:</span> <span class="built_in">T</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Parameters-Type"><code>Parameters&lt;Type&gt;</code> <a href="about:blank#parameterstype">#</a></h2><p><code>Parameters&lt;Type&gt;</code>ä»å‡½æ•°ç±»å‹<code>Type</code>é‡Œé¢æå–å‚æ•°ç±»å‹ï¼Œç»„æˆä¸€ä¸ªå…ƒç»„è¿”å›ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Parameters</span>&lt;<span class="function">() =&gt;</span> <span class="built_in">string</span>&gt;; <span class="comment">// []</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">Parameters</span>&lt;<span class="function">(<span class="params">s:<span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>&gt;; <span class="comment">// [s:string]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">Parameters</span>&lt;&lt;T&gt;<span class="function">(<span class="params">arg: T</span>) =&gt;</span> T&gt;;    <span class="comment">// [arg: unknown]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T4</span> = <span class="title class_">Parameters</span>&lt;</span><br><span class="line">  <span class="function">(<span class="params">x:&#123; a: <span class="built_in">number</span>; b: <span class="built_in">string</span> &#125;</span>) =&gt;</span> <span class="built_in">void</span></span><br><span class="line">&gt;; <span class="comment">// [x: &#123; a: number, b: string &#125;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T5</span> = <span class="title class_">Parameters</span>&lt;</span><br><span class="line">  <span class="function">(<span class="params">a:<span class="built_in">number</span>, b:<span class="built_in">number</span></span>) =&gt;</span> <span class="built_in">number</span></span><br><span class="line">&gt;; <span class="comment">// [a:number, b:number]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Parameters&lt;Type&gt;</code>çš„è¿”å›å€¼ä¼šåŒ…æ‹¬å‡½æ•°çš„å‚æ•°åï¼Œè¿™ä¸€ç‚¹éœ€è¦æ³¨æ„ã€‚</p><p>å¦‚æœå‚æ•°ç±»å‹<code>Type</code>ä¸æ˜¯å¸¦æœ‰å‚æ•°çš„å‡½æ•°å½¢å¼ï¼Œä¼šæŠ¥é”™ã€‚</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">type</span> T1 = Parameters&lt;<span class="keyword">string</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">type</span> T2 = Parameters&lt;<span class="function"><span class="keyword">Function</span>&gt;;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç”±äº<code>any</code>å’Œ<code>never</code>æ˜¯ä¸¤ä¸ªç‰¹æ®Šå€¼ï¼Œä¼šè¿”å›<code>unknown[]</code>å’Œ<code>never</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Parameters</span>&lt;<span class="built_in">any</span>&gt;; <span class="comment">// unknown[]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">Parameters</span>&lt;<span class="built_in">never</span>&gt;; <span class="comment">// never</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>Parameters&lt;Type&gt;</code>ä¸»è¦ç”¨äºä»å¤–éƒ¨æ¨¡å—æä¾›çš„å‡½æ•°ç±»å‹ä¸­ï¼Œè·å–å‚æ•°ç±»å‹ã€‚</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> SecretName &#123;</span><br><span class="line">  first: <span class="built_in">string</span>;</span><br><span class="line">  last: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> SecretSanta &#123;</span><br><span class="line">  name: SecretName;</span><br><span class="line">  gift: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="built_in">function</span> getGift(</span><br><span class="line">  name: SecretName,</span><br><span class="line">  gift: <span class="built_in">string</span></span><br><span class="line">): SecretSanta &#123;</span><br><span class="line"> <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ¨¡å—åªè¾“å‡ºäº†å‡½æ•°<code>getGift()</code>ï¼Œæ²¡æœ‰è¾“å‡ºå‚æ•°<code>SecretName</code>å’Œè¿”å›å€¼<code>SecretSanta</code>ã€‚è¿™æ—¶å°±å¯ä»¥é€šè¿‡<code>Parameters&lt;T&gt;</code>å’Œ<code>ReturnType&lt;T&gt;</code>æ‹¿åˆ°è¿™ä¸¤ä¸ªæ¥å£ç±»å‹ã€‚</p><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ParaT</span> <span class="operator">=</span> Parameters<span class="operator">&lt;</span><span class="built_in">typeof</span> getGift<span class="operator">&gt;</span>[<span class="number">0</span>]; <span class="comment">// SecretName</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ReturnT</span> <span class="operator">=</span> ReturnType<span class="operator">&lt;</span><span class="built_in">typeof</span> getGift<span class="operator">&gt;</span>; <span class="comment">// SecretSanta</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>Parameters&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Parameters&lt;T</span> <span class="keyword">extends</span> (<span class="params">...args: any</span>) <span class="title">=&gt;</span> <span class="title">any&gt;</span> </span>= </span><br><span class="line">  <span class="type">T</span> <span class="keyword">extends</span> (...args: infer <span class="type">P</span>)</span><br><span class="line">  =&gt; any ? <span class="type">P</span> : never</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Partial-Type"><code>Partial&lt;Type&gt;</code> <a href="about:blank#partialtype">#</a></h2><p><code>Partial&lt;Type&gt;</code>è¿”å›ä¸€ä¸ªæ–°ç±»å‹ï¼Œå°†å‚æ•°ç±»å‹<code>Type</code>çš„æ‰€æœ‰å±æ€§å˜ä¸ºå¯é€‰å±æ€§ã€‚</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  x: <span class="keyword">number</span>;</span><br><span class="line">  y: <span class="keyword">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">type</span> T = Partial&lt;A&gt;; // &#123; x?: <span class="keyword">number</span>; y?: <span class="keyword">number</span>; &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>Partial&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Partial</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  [<span class="type">P</span> in keyof <span class="type">T</span>]?: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Pick-Type-Keys"><code>Pick&lt;Type, Keys&gt;</code> <a href="about:blank#picktype-keys">#</a></h2><p><code>Pick&lt;Type, Keys&gt;</code>è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ç±»å‹ï¼Œç¬¬ä¸€ä¸ªå‚æ•°<code>Type</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°<code>Keys</code>æ˜¯<code>Type</code>é‡Œé¢è¢«é€‰å®šçš„é”®åã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">y</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Pick</span>&lt;A, <span class="string">&#x27;x&#x27;</span>&gt;; <span class="comment">// &#123; x: number &#125;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">Pick</span>&lt;A, <span class="string">&#x27;y&#x27;</span>&gt;; <span class="comment">// &#123; y: number &#125;</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">Pick</span>&lt;A, <span class="string">&#x27;x&#x27;</span>|<span class="string">&#x27;y&#x27;</span>&gt;;  <span class="comment">// &#123; x: number; y: number &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Pick&lt;Type, Keys&gt;</code>ä¼šä»å¯¹è±¡ç±»å‹<code>A</code>é‡Œé¢æŒ‘å‡ºæŒ‡å®šçš„é”®åï¼Œç»„æˆä¸€ä¸ªæ–°çš„å¯¹è±¡ç±»å‹ã€‚</p><p>æŒ‡å®šçš„é”®å<code>Keys</code>å¿…é¡»æ˜¯å¯¹è±¡é”®å<code>Type</code>é‡Œé¢å·²ç»å­˜åœ¨çš„é”®åï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">y</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T = <span class="title class_">Pick</span>&lt;A, <span class="string">&#x27;z&#x27;</span>&gt;; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¯¹è±¡ç±»å‹<code>A</code>ä¸å­˜åœ¨é”®å<code>z</code>ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚</p><p><code>Pick&lt;Type, Keys&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Pick&lt;T</span>, <span class="title">K</span> <span class="keyword">extends</span> <span class="title">keyof</span> <span class="title">T&gt;</span> </span>= &#123;</span><br><span class="line">  [<span class="type">P</span> in <span class="type">K</span>]: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Readonly-Type"><code>Readonly&lt;Type&gt;</code> <a href="about:blank#readonlytype">#</a></h2><p><code>Readonly&lt;Type&gt;</code>è¿”å›ä¸€ä¸ªæ–°ç±»å‹ï¼Œå°†å‚æ•°ç±»å‹<code>Type</code>çš„æ‰€æœ‰å±æ€§å˜ä¸ºåªè¯»å±æ€§ã€‚</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  x: <span class="keyword">number</span>;</span><br><span class="line">  y?: <span class="keyword">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// &#123; readonly x: <span class="keyword">number</span>; readonly y?: <span class="keyword">number</span>; &#125;</span><br><span class="line"><span class="keyword">type</span> T = Readonly&lt;A&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>y</code>æ˜¯å¯é€‰å±æ€§ï¼Œ<code>Readonly&lt;Type&gt;</code>ä¸ä¼šæ”¹å˜è¿™ä¸€ç‚¹ï¼Œåªä¼šè®©<code>y</code>å˜æˆåªè¯»ã€‚</p><p><code>Readonly&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Readonly</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  readonly [<span class="type">P</span> in keyof <span class="type">T</span>]: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ç±»å‹å·¥å…·<code>Mutable&lt;Type&gt;</code>ï¼Œå°†å‚æ•°ç±»å‹çš„æ‰€æœ‰å±æ€§å˜æˆå¯å˜å±æ€§ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Mutable</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  -readonly [<span class="type">P</span> in keyof <span class="type">T</span>]: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>-readonly</code>è¡¨ç¤ºå»é™¤å±æ€§çš„åªè¯»æ ‡å¿—ã€‚</p><p>ç›¸åº”åœ°ï¼Œ<code>+readonly</code>å°±è¡¨ç¤ºå¢åŠ åªè¯»æ ‡å¿—ï¼Œç­‰åŒäº<code>readonly</code>ã€‚å› æ­¤ï¼Œ<code>Readonly&lt;Type&gt;</code>çš„å®ç°ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Readonly</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  +readonly [<span class="type">P</span> in keyof <span class="type">T</span>]: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>Readonly&lt;Type&gt;</code>å¯ä»¥ä¸<code>Partial&lt;Type&gt;</code>ç»“åˆä½¿ç”¨ï¼Œå°†æ‰€æœ‰å±æ€§å˜æˆåªè¯»çš„å¯é€‰å±æ€§ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">worker</span>: <span class="title class_">Readonly</span>&lt;<span class="title class_">Partial</span>&lt;<span class="title class_">Person</span>&gt;&gt;</span><br><span class="line">  = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line">worker.<span class="property">name</span> = <span class="string">&#x27;æå››&#x27;</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Record-Keys-Type"><code>Record&lt;Keys, Type&gt;</code> <a href="about:blank#recordkeys-type">#</a></h2><p><code>Record&lt;Keys, Type&gt;</code>è¿”å›ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œå‚æ•°<code>Keys</code>ç”¨ä½œé”®åï¼Œå‚æ•°<code>Type</code>ç”¨ä½œé”®å€¼ç±»å‹ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// &#123; a: number &#125;</span><br><span class="line"><span class="keyword">type</span> <span class="type">T </span>= <span class="keyword">Record</span>&lt;<span class="string">&#x27;a&#x27;</span>, number&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Record&lt;Keys, Type&gt;</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°<code>a</code>ï¼Œç”¨ä½œå¯¹è±¡çš„é”®åï¼Œç¬¬äºŒä¸ªå‚æ•°<code>number</code>æ˜¯<code>a</code>çš„é”®å€¼ç±»å‹ã€‚</p><p>å‚æ•°<code>Keys</code>å¯ä»¥æ˜¯è”åˆç±»å‹ï¼Œè¿™æ—¶ä¼šä¾æ¬¡å±•å¼€ä¸ºå¤šä¸ªé”®ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// &#123; a: number, b: number &#125;</span><br><span class="line"><span class="keyword">type</span> <span class="type">T </span>= <span class="keyword">Record</span>&lt;<span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;b&#x27;</span>, number&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è”åˆç±»å‹<code>'a'|'b'</code>ï¼Œå±•å¼€æˆä¸¤ä¸ªé”®å<code>a</code>å’Œ<code>b</code>ã€‚</p><p>å¦‚æœå‚æ•°<code>Type</code>æ˜¯è”åˆç±»å‹ï¼Œå°±è¡¨æ˜é”®å€¼æ˜¯è”åˆç±»å‹ã€‚</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// &#123; a: <span class="built_in">number</span>|<span class="built_in">string</span> &#125;</span><br><span class="line">type T = Record&lt;<span class="string">&#x27;a&#x27;</span>, <span class="built_in">number</span>|<span class="built_in">string</span>&gt;<span class="comment">;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å‚æ•°<code>Keys</code>çš„ç±»å‹å¿…é¡»å…¼å®¹<code>string|number|symbol</code>ï¼Œå¦åˆ™ä¸èƒ½ç”¨ä½œé”®åï¼Œä¼šæŠ¥é”™ã€‚</p><p><code>Record&lt;Keys, Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Record&lt;K</span> <span class="keyword">extends</span> <span class="title">string|number|symbol</span>, <span class="title">T&gt;</span></span></span><br><span class="line">  = &#123; [<span class="type">P</span> in <span class="type">K</span>]: <span class="type">T</span>; &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="Required-Type"><code>Required&lt;Type&gt;</code> <a href="about:blank#requiredtype">#</a></h2><p><code>Required&lt;Type&gt;</code>è¿”å›ä¸€ä¸ªæ–°ç±»å‹ï¼Œå°†å‚æ•°ç±»å‹<code>Type</code>çš„æ‰€æœ‰å±æ€§å˜ä¸ºå¿…é€‰å±æ€§ã€‚å®ƒä¸<code>Partial&lt;Type&gt;</code>çš„ä½œç”¨æ­£å¥½ç›¸åã€‚</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> A &#123;</span><br><span class="line">  x?: <span class="keyword">number</span>;</span><br><span class="line">  y: <span class="keyword">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T = Required&lt;A&gt;; // &#123; x: <span class="keyword">number</span>; y: <span class="keyword">number</span>; &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>Required&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Required</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  [<span class="type">P</span> in keyof <span class="type">T</span>]-?: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¦å·<code>-?</code>è¡¨ç¤ºå»é™¤å¯é€‰å±æ€§çš„â€œé—®å·â€ï¼Œä½¿å…¶å˜æˆå¿…é€‰å±æ€§ã€‚</p><p>ç›¸å¯¹åº”åœ°ï¼Œç¬¦å·<code>+?</code>è¡¨ç¤ºå¢åŠ å¯é€‰å±æ€§çš„â€œé—®å·â€ï¼Œç­‰åŒäº<code>?</code>ã€‚å› æ­¤ï¼Œå‰é¢çš„<code>Partial&lt;Type&gt;</code>çš„å®šä¹‰ä¹Ÿå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Partial</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  [<span class="type">P</span> in keyof <span class="type">T</span>]+?: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ReadonlyArray-Type"><code>ReadonlyArray&lt;Type&gt;</code> <a href="about:blank#readonlyarraytype">#</a></h2><p><code>ReadonlyArray&lt;Type&gt;</code>ç”¨æ¥ç”Ÿæˆä¸€ä¸ªåªè¯»æ•°ç»„ç±»å‹ï¼Œç±»å‹å‚æ•°<code>Type</code>è¡¨ç¤ºæ•°ç»„æˆå‘˜çš„ç±»å‹ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const values: ReadonlyArray&lt;string&gt; </span><br><span class="line">  = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line">values[<span class="number">0</span>] = <span class="string">&#x27;x&#x27;</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line">values.<span class="built_in">push</span>(<span class="string">&#x27;x&#x27;</span>); <span class="comment">// æŠ¥é”™</span></span><br><span class="line">values.<span class="built_in">pop</span>(); <span class="comment">// æŠ¥é”™</span></span><br><span class="line">values.<span class="built_in">splice</span>(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>values</code>çš„ç±»å‹æ˜¯ä¸€ä¸ªåªè¯»æ•°ç»„ï¼Œæ‰€ä»¥ä¿®æ”¹æˆå‘˜ä¼šæŠ¥é”™ï¼Œå¹¶ä¸”é‚£äº›ä¼šä¿®æ”¹æºæ•°ç»„çš„æ–¹æ³•<code>push()</code>ã€<code>pop()</code>ã€<code>splice()</code>ç­‰éƒ½ä¸å­˜åœ¨ã€‚</p><p><code>ReadonlyArray&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">ReadonlyArray</span>&lt;T&gt; &#123;</span><br><span class="line">  <span class="keyword">readonly</span> <span class="attr">length</span>: <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">readonly</span> [<span class="attr">n</span>: <span class="built_in">number</span>]: T;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ReturnType-Type"><code>ReturnType&lt;Type&gt;</code> <a href="about:blank#returntypetype">#</a></h2><p><code>ReturnType&lt;Type&gt;</code>æå–å‡½æ•°ç±»å‹<code>Type</code>çš„è¿”å›å€¼ç±»å‹ï¼Œä½œä¸ºä¸€ä¸ªæ–°ç±»å‹è¿”å›ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ReturnType</span>&lt;<span class="function">() =&gt;</span> <span class="built_in">string</span>&gt;; <span class="comment">// string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">ReturnType</span>&lt;<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">string</span>; <span class="attr">b</span>: <span class="built_in">number</span></span><br><span class="line">&#125;&gt;; <span class="comment">// &#123; a: string; b: number &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T3</span> = <span class="title class_">ReturnType</span>&lt;<span class="function">(<span class="params">s:<span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>&gt;; <span class="comment">// void</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T4</span> = <span class="title class_">ReturnType</span>&lt;<span class="function">() =&gt;</span> <span class="function">() =&gt;</span> <span class="built_in">any</span>[]&gt;; <span class="comment">// () =&gt; any[]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T5</span> = <span class="title class_">ReturnType</span>&lt;<span class="keyword">typeof</span> <span class="title class_">Math</span>.<span class="property">random</span>&gt;; <span class="comment">// number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T6</span> = <span class="title class_">ReturnType</span>&lt;<span class="keyword">typeof</span> <span class="title class_">Array</span>.<span class="property">isArray</span>&gt;; <span class="comment">// boolean</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœå‚æ•°ç±»å‹æ˜¯æ³›å‹å‡½æ•°ï¼Œè¿”å›å€¼å–å†³äºæ³›å‹ç±»å‹ã€‚å¦‚æœæ³›å‹ä¸å¸¦æœ‰é™åˆ¶æ¡ä»¶ï¼Œå°±ä¼šè¿”å›<code>unknown</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ReturnType</span>&lt;&lt;T&gt;<span class="function">() =&gt;</span> T&gt;; <span class="comment">// unknown</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">ReturnType</span>&lt;</span><br><span class="line">  &lt;T <span class="keyword">extends</span> U, U <span class="keyword">extends</span> <span class="built_in">number</span>[]&gt;<span class="function">() =&gt;</span> T</span><br><span class="line">&gt;; <span class="comment">// number[]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœç±»å‹ä¸æ˜¯å‡½æ•°ï¼Œä¼šæŠ¥é”™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ReturnType</span>&lt;<span class="built_in">boolean</span>&gt;; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">ReturnType</span>&lt;<span class="title class_">Function</span>&gt;; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>any</code>å’Œ<code>never</code>æ˜¯ä¸¤ä¸ªç‰¹æ®Šå€¼ï¼Œåˆ†åˆ«è¿”å›<code>any</code>å’Œ<code>never</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">ReturnType</span>&lt;<span class="built_in">any</span>&gt;; <span class="comment">// any</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">ReturnType</span>&lt;<span class="built_in">never</span>&gt;; <span class="comment">// never</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>ReturnType&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ReturnType&lt;</span><br><span class="line">  T <span class="keyword">extends</span> (...args: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span></span><br><span class="line">&gt; =</span><br><span class="line">  T <span class="keyword">extends</span> (...args: <span class="built_in">any</span>) =&gt; infer R ? R : <span class="built_in">any</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ThisParameterType-Type"><code>ThisParameterType&lt;Type&gt;</code> <a href="about:blank#thisparametertypetype">#</a></h2><p><code>ThisParameterType&lt;Type&gt;</code>æå–å‡½æ•°ç±»å‹ä¸­<code>this</code>å‚æ•°çš„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">toHex</span>(<span class="params"><span class="variable language_">this</span>:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">toString</span>(<span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T = <span class="title class_">ThisParameterType</span>&lt;<span class="keyword">typeof</span> toHex&gt;; <span class="comment">// number</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœå‡½æ•°æ²¡æœ‰<code>this</code>å‚æ•°ï¼Œåˆ™è¿”å›<code>unknown</code>ã€‚</p><p><code>ThisParameterType&lt;Type&gt;</code>çš„å®ç°å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ThisParameterType</span>&lt;T&gt; =</span><br><span class="line">  T <span class="keyword">extends</span> (</span><br><span class="line">    <span class="attr">this</span>: infer U,</span><br><span class="line">    ...<span class="attr">args</span>: <span class="built_in">never</span></span><br><span class="line">  ) =&gt; <span class="built_in">any</span> ? U : <span class="built_in">unknown</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ThisType-Type"><code>ThisType&lt;Type&gt;</code> <a href="about:blank#thistypetype">#</a></h2><p><code>ThisType&lt;Type&gt;</code>ä¸è¿”å›ç±»å‹ï¼Œåªç”¨æ¥è·Ÿå…¶ä»–ç±»å‹ç»„æˆäº¤å‰ç±»å‹ï¼Œç”¨æ¥æç¤º TypeScript å…¶ä»–ç±»å‹é‡Œé¢çš„<code>this</code>çš„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">HelperThisValue</span> &#123;</span><br><span class="line">  <span class="attr">logError</span>: <span class="function">(<span class="params">error:<span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="attr">helperFunctions</span>:</span><br><span class="line">  &#123; [<span class="attr">name</span>: <span class="built_in">string</span>]: <span class="title class_">Function</span> &#125; &amp;</span><br><span class="line">  <span class="title class_">ThisType</span>&lt;<span class="title class_">HelperThisValue</span>&gt;</span><br><span class="line">= &#123;</span><br><span class="line">  <span class="attr">hello</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">logError</span>(<span class="string">&quot;Error: Something wrong!&quot;</span>); <span class="comment">// æ­£ç¡®</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">update</span>(); <span class="comment">// æŠ¥é”™</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>helperFunctions</code>çš„ç±»å‹æ˜¯ä¸€ä¸ªæ­£å¸¸çš„å¯¹è±¡ç±»å‹ä¸<code>ThisType&lt;HelperThisValue&gt;</code>ç»„æˆçš„äº¤å‰ç±»å‹ã€‚</p><p>è¿™é‡Œçš„<code>ThisType</code>çš„ä½œç”¨æ˜¯æç¤º TypeScriptï¼Œå˜é‡<code>helperFunctions</code>çš„<code>this</code>åº”è¯¥æ»¡è¶³<code>HelperThisValue</code>çš„æ¡ä»¶ã€‚æ‰€ä»¥ï¼Œ<code>this.logError()</code>å¯ä»¥æ­£ç¡®è°ƒç”¨ï¼Œè€Œ<code>this.update()</code>ä¼šæŠ¥é”™ï¼Œå› ä¸º<code>HelperThisValue</code>é‡Œé¢æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ã€‚</p><p>æ³¨æ„ï¼Œä½¿ç”¨è¿™ä¸ªç±»å‹å·¥å…·æ—¶ï¼Œå¿…é¡»æ‰“å¼€<code>noImplicitThis</code>è®¾ç½®ã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">obj</span>: <span class="title class_">ThisType</span>&lt;&#123; <span class="attr">x</span>: <span class="built_in">number</span> &#125;&gt; &amp;</span><br><span class="line">  &#123; <span class="attr">getX</span>: <span class="function">() =&gt;</span> <span class="built_in">number</span> &#125;;</span><br><span class="line"></span><br><span class="line">obj = &#123;</span><br><span class="line">  <span class="title function_">getX</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">x</span> + <span class="variable language_">this</span>.<span class="property">y</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>getX()</code>é‡Œé¢çš„<code>this.y</code>ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ ¹æ®<code>ThisType&lt;&#123; x: number &#125;&gt;</code>ï¼Œè¿™ä¸ªå¯¹è±¡çš„<code>this</code>ä¸åŒ…å«å±æ€§<code>y</code>ã€‚</p><p><code>ThisType&lt;Type&gt;</code>çš„å®ç°å°±æ˜¯ä¸€ä¸ªç©ºæ¥å£ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="symbol">ThisType</span>&lt;<span class="symbol">T</span>&gt; &#123; &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²ç±»å‹å·¥å…·">å­—ç¬¦ä¸²ç±»å‹å·¥å…· <a href="about:blank#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E5%B7%A5%E5%85%B7">#</a></h2><p>TypeScript å†…ç½®äº†å››ä¸ªå­—ç¬¦ä¸²ç±»å‹å·¥å…·ï¼Œä¸“é—¨ç”¨æ¥æ“ä½œå­—ç¬¦ä¸²ç±»å‹ã€‚è¿™å››ä¸ªå·¥å…·ç±»å‹éƒ½å®šä¹‰åœ¨ TypeScript è‡ªå¸¦çš„<code>.d.ts</code>æ–‡ä»¶é‡Œé¢ã€‚</p><p>å®ƒä»¬çš„å®ç°éƒ½æ˜¯åœ¨åº•å±‚è°ƒç”¨ JavaScript å¼•æ“æä¾› JavaScript å­—ç¬¦æ“ä½œæ–¹æ³•ã€‚</p><h3 id="Uppercase-StringType"><code>Uppercase&lt;StringType&gt;</code> <a href="about:blank#uppercasestringtype">#</a></h3><p><code>Uppercase&lt;StringType&gt;</code>å°†å­—ç¬¦ä¸²ç±»å‹çš„æ¯ä¸ªå­—ç¬¦è½¬ä¸ºå¤§å†™ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A </span>= <span class="symbol">&#x27;hello</span>&#x27;;</span><br><span class="line"></span><br><span class="line">// <span class="string">&quot;HELLO&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">B </span>= Uppercase&lt;A&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Uppercase&lt;T&gt;</code>å°† hello è½¬ä¸º HELLOã€‚</p><h3 id="Lowercase-StringType"><code>Lowercase&lt;StringType&gt;</code> <a href="about:blank#lowercasestringtype">#</a></h3><p><code>Lowercase&lt;StringType&gt;</code>å°†å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦è½¬ä¸ºå°å†™ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A </span>= <span class="symbol">&#x27;HELLO</span>&#x27;;</span><br><span class="line"></span><br><span class="line">// <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">B </span>= Lowercase&lt;A&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Lowercase&lt;T&gt;</code>å°† HELLO è½¬ä¸º helloã€‚</p><h3 id="Capitalize-StringType"><code>Capitalize&lt;StringType&gt;</code> <a href="about:blank#capitalizestringtype">#</a></h3><p><code>Capitalize&lt;StringType&gt;</code>å°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬ä¸ºå¤§å†™ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A </span>= <span class="symbol">&#x27;hello</span>&#x27;;</span><br><span class="line"></span><br><span class="line">// <span class="string">&quot;Hello&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">B </span>= Capitalize&lt;A&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Capitalize&lt;T&gt;</code>å°† hello è½¬ä¸º Helloã€‚</p><h3 id="Uncapitalize-StringType"><code>Uncapitalize&lt;StringType&gt;</code> <a href="about:blank#uncapitalizestringtype">#</a></h3><p><code>Uncapitalize&lt;StringType&gt;</code> å°†å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬ä¸ºå°å†™ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A </span>= <span class="symbol">&#x27;HELLO</span>&#x27;;</span><br><span class="line"></span><br><span class="line">// <span class="string">&quot;hELLO&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">B </span>= Uncapitalize&lt;A&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Uncapitalize&lt;T&gt;</code>å°† HELLO è½¬ä¸º hELLOã€‚</p><h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ <a href="about:blank#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">#</a></h2><ul><li><a href="https://stackoverflow.com/questions/55029032/what-is-typescripts-thistype-used-for">What is TypeScriptâ€™s ThisType used for?</a></li></ul><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/utility">https://wangdoc.com/typescript/utility</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript ç±»å‹å·¥å…·</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript çš„ç±»å‹æ˜ å°„</title>
    <link href="https://www.fomal.cc/posts/28.html"/>
    <id>https://www.fomal.cc/posts/28.html</id>
    <published>2023-06-22T10:50:00.000Z</published>
    <updated>2023-06-22T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>TypeScript çš„ç±»å‹æ˜ å°„</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><h2 id="ç®€ä»‹">ç®€ä»‹ <a href="about:blank#%E7%AE%80%E4%BB%8B">#</a></h2><p>æ˜ å°„ï¼ˆmappingï¼‰æŒ‡çš„æ˜¯ï¼Œå°†ä¸€ç§ç±»å‹æŒ‰ç…§æ˜ å°„è§„åˆ™ï¼Œè½¬æ¢æˆå¦ä¸€ç§ç±»å‹ï¼Œé€šå¸¸ç”¨äºå¯¹è±¡ç±»å‹ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œç°æœ‰ä¸€ä¸ªç±»å‹<code>A</code>å’Œå¦ä¸€ä¸ªç±»å‹<code>B</code>ã€‚</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> A = &#123;</span><br><span class="line">  foo: <span class="keyword">number</span>;</span><br><span class="line">  bar: <span class="keyword">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> B = &#123;</span><br><span class="line">  foo: <span class="keyword">string</span>;</span><br><span class="line">  bar: <span class="keyword">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè¿™ä¸¤ä¸ªç±»å‹çš„å±æ€§ç»“æ„æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å±æ€§çš„ç±»å‹ä¸ä¸€æ ·ã€‚å¦‚æœå±æ€§æ•°é‡å¤šçš„è¯ï¼Œé€ä¸ªå†™èµ·æ¥å°±å¾ˆéº»çƒ¦ã€‚</p><p>ä½¿ç”¨ç±»å‹æ˜ å°„ï¼Œå°±å¯ä»¥ä»ç±»å‹<code>A</code>å¾—åˆ°ç±»å‹<code>B</code>ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A</span> = &#123;</span><br><span class="line">  foo: number;</span><br><span class="line">  bar: number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">B</span> = &#123;</span><br><span class="line">  [prop in keyof <span class="type">A</span>]: string;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>B</code>é‡‡ç”¨äº†å±æ€§åç´¢å¼•çš„å†™æ³•ï¼Œ<code>[prop in keyof A]</code>è¡¨ç¤ºä¾æ¬¡å¾—åˆ°ç±»å‹<code>A</code>çš„æ‰€æœ‰å±æ€§åï¼Œç„¶åå°†æ¯ä¸ªå±æ€§çš„ç±»å‹æ”¹æˆ<code>string</code>ã€‚</p><p>åœ¨è¯­æ³•ä¸Šï¼Œ<code>[prop in keyof A]</code>æ˜¯ä¸€ä¸ªå±æ€§åè¡¨è¾¾å¼ï¼Œè¡¨ç¤ºè¿™é‡Œçš„å±æ€§åéœ€è¦è®¡ç®—å¾—åˆ°ã€‚å…·ä½“çš„è®¡ç®—è§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li><code>prop</code>ï¼šå±æ€§åå˜é‡ï¼Œåå­—å¯ä»¥éšä¾¿èµ·ã€‚</li><li><code>in</code>ï¼šè¿ç®—ç¬¦ï¼Œç”¨æ¥å–å‡ºå³ä¾§çš„è”åˆç±»å‹çš„æ¯ä¸€ä¸ªæˆå‘˜ã€‚</li><li><code>keyof A</code>ï¼šè¿”å›ç±»å‹<code>A</code>çš„æ¯ä¸€ä¸ªå±æ€§åï¼Œç»„æˆä¸€ä¸ªè”åˆç±»å‹ã€‚</li></ul><p>ä¸‹é¢æ˜¯å¤åˆ¶åŸå§‹ç±»å‹çš„ä¾‹å­ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A</span> = &#123;</span><br><span class="line">  foo: number;</span><br><span class="line">  bar: string;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">B</span> = &#123;</span><br><span class="line">  [prop in keyof <span class="type">A</span>]: <span class="type">A</span>[prop];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>B</code>åŸæ ·å¤åˆ¶äº†ç±»å‹<code>A</code>ã€‚</p><p>ä¸ºäº†å¢åŠ ä»£ç å¤ç”¨æ€§ï¼Œå¯ä»¥æŠŠå¸¸ç”¨çš„æ˜ å°„å†™æˆæ³›å‹ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">ToBoolean</span>&lt;<span class="type">Type</span>&gt; = &#123;</span><br><span class="line">  [<span class="type">Property</span> in keyof <span class="type">Type</span>]: boolean;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ³›å‹ï¼Œå¯ä»¥å°†å…¶ä»–å¯¹è±¡çš„æ‰€æœ‰å±æ€§å€¼éƒ½æ”¹æˆ boolean ç±»å‹ã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">MyObj</span> = &#123;</span><br><span class="line">  [<span class="type">P</span> in 0|1|2]: string;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// ç­‰åŒäº</span><br><span class="line"><span class="keyword">type</span> <span class="type">MyObj</span> = &#123;</span><br><span class="line">  0: string;</span><br><span class="line">  1: string;</span><br><span class="line">  2: string;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè”åˆç±»å‹<code>0|1|2</code>æ˜ å°„æˆäº†ä¸‰ä¸ªå±æ€§åã€‚</p><p>ä¸ä½¿ç”¨è”åˆç±»å‹ï¼Œç›´æ¥ä½¿ç”¨æŸç§å…·ä½“ç±»å‹è¿›è¡Œå±æ€§åæ˜ å°„ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">MyObj</span> = &#123;</span><br><span class="line">  [p in &#x27;foo&#x27;]: number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// ç­‰åŒäº</span><br><span class="line"><span class="keyword">type</span> <span class="type">MyObj</span> = &#123;</span><br><span class="line">  foo: number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>p in 'foo'</code>å¯ä»¥çœ‹æˆåªæœ‰ä¸€ä¸ªæˆå‘˜çš„è”åˆç±»å‹ï¼Œå› æ­¤å¾—åˆ°äº†åªæœ‰è¿™ä¸€ä¸ªå±æ€§çš„å¯¹è±¡ç±»å‹ã€‚</p><p>ç”šè‡³è¿˜å¯ä»¥å†™æˆ<code>p in string</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">MyObj</span> = &#123;</span><br><span class="line">  [p <span class="keyword">in</span> <span class="built_in">string</span>]: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyObj</span> = &#123;</span><br><span class="line">  [<span class="attr">p</span>: <span class="built_in">string</span>]: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>[p in string]</code>å°±æ˜¯å±æ€§åç´¢å¼•å½¢å¼<code>[p: string]</code>çš„æ˜ å°„å†™æ³•ã€‚</p><p>é€šè¿‡æ˜ å°„ï¼Œå¯ä»¥æŠŠæŸä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§æ”¹æˆå¯é€‰å±æ€§ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A</span> = &#123;</span><br><span class="line">  a: string;</span><br><span class="line">  b: number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">B</span> = &#123;</span><br><span class="line">  [<span class="type">Prop</span> in keyof <span class="type">A</span>]?: <span class="type">A</span>[<span class="type">Prop</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>B</code>åœ¨ç±»å‹<code>A</code>çš„æ‰€æœ‰å±æ€§ååé¢æ·»åŠ é—®å·ï¼Œä½¿å¾—è¿™äº›å±æ€§éƒ½å˜æˆäº†å¯é€‰å±æ€§ã€‚</p><p>äº‹å®ä¸Šï¼ŒTypeScript çš„å†…ç½®å·¥å…·ç±»å‹<code>Partial&lt;T&gt;</code>ï¼Œå°±æ˜¯è¿™æ ·å®ç°çš„ã€‚</p><p>TypeScriptå†…ç½®çš„å·¥å…·ç±»å‹<code>Readonly&lt;T&gt;</code>å¯ä»¥å°†æ‰€æœ‰å±æ€§æ”¹ä¸ºåªè¯»å±æ€§ï¼Œå®ç°ä¹Ÿæ˜¯é€šè¿‡æ˜ å°„ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// å°† <span class="type">T</span> çš„æ‰€æœ‰å±æ€§æ”¹ä¸ºåªè¯»å±æ€§</span><br><span class="line"><span class="keyword">type</span> <span class="type">Readonly</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  readonly [<span class="type">P</span> in keyof <span class="type">T</span>]: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®ƒçš„ç”¨æ³•å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T = &#123; <span class="attr">a</span>: <span class="built_in">string</span>; <span class="attr">b</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ReadonlyT</span> = <span class="title class_">Readonly</span>&lt;T&gt;;</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   readonly a: string;</span></span><br><span class="line"><span class="comment">//   readonly b: number;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ˜ å°„ä¿®é¥°ç¬¦">æ˜ å°„ä¿®é¥°ç¬¦ <a href="about:blank#%E6%98%A0%E5%B0%84%E4%BF%AE%E9%A5%B0%E7%AC%A6">#</a></h2><p>æ˜ å°„ä¼šåŸæ ·å¤åˆ¶åŸå§‹å¯¹è±¡çš„å¯é€‰å±æ€§å’Œåªè¯»å±æ€§ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A</span> = &#123;</span><br><span class="line">  a?: string;</span><br><span class="line">  readonly b: number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">B</span> = &#123;</span><br><span class="line">  [<span class="type">Prop</span> in keyof <span class="type">A</span>]: <span class="type">A</span>[<span class="type">Prop</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// ç­‰åŒäº</span><br><span class="line"><span class="keyword">type</span> <span class="type">B</span> = &#123;</span><br><span class="line">  a?: string;</span><br><span class="line">  readonly b: number;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>B</code>æ˜¯ç±»å‹<code>A</code>çš„æ˜ å°„ï¼ŒæŠŠ<code>A</code>çš„å¯é€‰å±æ€§å’Œåªè¯»å±æ€§éƒ½ä¿ç•™ä¸‹æ¥ã€‚</p><p>å¦‚æœè¦åˆ æ”¹å¯é€‰å’Œåªè¯»è¿™ä¸¤ä¸ªç‰¹æ€§ï¼Œå¹¶ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒTypeScript å¼•å…¥äº†ä¸¤ä¸ªæ˜ å°„ä¿®é¥°ç¬¦ï¼Œç”¨æ¥åœ¨æ˜ å°„æ—¶æ·»åŠ æˆ–ç§»é™¤æŸä¸ªå±æ€§çš„<code>?</code>ä¿®é¥°ç¬¦å’Œ<code>readonly</code>ä¿®é¥°ç¬¦ã€‚</p><ul><li><code>+</code>ä¿®é¥°ç¬¦ï¼šå†™æˆ<code>+?</code>æˆ–<code>+readonly</code>ï¼Œä¸ºæ˜ å°„å±æ€§æ·»åŠ <code>?</code>ä¿®é¥°ç¬¦æˆ–<code>readonly</code>ä¿®é¥°ç¬¦ã€‚</li><li><code>â€“</code>ä¿®é¥°ç¬¦ï¼šå†™æˆ<code>-?</code>æˆ–<code>-readonly</code>ï¼Œä¸ºæ˜ å°„å±æ€§ç§»é™¤<code>?</code>ä¿®é¥°ç¬¦æˆ–<code>readonly</code>ä¿®é¥°ç¬¦ã€‚</li></ul><p>ä¸‹é¢æ˜¯æ·»åŠ æˆ–ç§»é™¤å¯é€‰å±æ€§çš„ä¾‹å­ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// æ·»åŠ å¯é€‰å±æ€§</span><br><span class="line"><span class="keyword">type</span> <span class="type">Optional</span>&lt;<span class="type">Type</span>&gt; = &#123;</span><br><span class="line">  [<span class="type">Prop</span> in keyof <span class="type">Type</span>]+?: <span class="type">Type</span>[<span class="type">Prop</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// ç§»é™¤å¯é€‰å±æ€§</span><br><span class="line"><span class="keyword">type</span> <span class="type">Concrete</span>&lt;<span class="type">Type</span>&gt; = &#123;</span><br><span class="line">  [<span class="type">Prop</span> in keyof <span class="type">Type</span>]-?: <span class="type">Type</span>[<span class="type">Prop</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œ<code>+?</code>æˆ–<code>-?</code>è¦å†™åœ¨å±æ€§åçš„åé¢ã€‚</p><p>ä¸‹é¢æ˜¯æ·»åŠ æˆ–ç§»é™¤åªè¯»å±æ€§çš„ä¾‹å­ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// æ·»åŠ  readonly</span><br><span class="line"><span class="keyword">type</span> <span class="type">CreateImmutable</span>&lt;<span class="type">Type</span>&gt; = &#123;</span><br><span class="line">  +readonly [<span class="type">Prop</span> in keyof <span class="type">Type</span>]: <span class="type">Type</span>[<span class="type">Prop</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// ç§»é™¤ readonly</span><br><span class="line"><span class="keyword">type</span> <span class="type">CreateMutable</span>&lt;<span class="type">Type</span>&gt; = &#123;</span><br><span class="line">  -readonly [<span class="type">Prop</span> in keyof <span class="type">Type</span>]: <span class="type">Type</span>[<span class="type">Prop</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œ<code>+readonly</code>å’Œ<code>-readonly</code>è¦å†™åœ¨å±æ€§åçš„å‰é¢ã€‚</p><p>å¦‚æœåŒæ—¶å¢åˆ <code>?</code>å’Œ<code>readonly</code>è¿™ä¸¤ä¸ªä¿®é¥°ç¬¦ï¼Œå†™æˆä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// å¢åŠ </span><br><span class="line"><span class="keyword">type</span> <span class="type">MyObj</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  +readonly [<span class="type">P</span> in keyof <span class="type">T</span>]+?: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// ç§»é™¤</span><br><span class="line"><span class="keyword">type</span> <span class="type">MyObj</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  -readonly [<span class="type">P</span> in keyof <span class="type">T</span>]-?: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>TypeScript åŸç”Ÿçš„å·¥å…·ç±»å‹<code>Required&lt;T&gt;</code>ä¸“é—¨ç§»é™¤å¯é€‰å±æ€§ï¼Œå°±æ˜¯ä½¿ç”¨<code>-?</code>ä¿®é¥°ç¬¦å®ç°çš„ã€‚</p><p>æ³¨æ„ï¼Œ<code>â€“?</code>ä¿®é¥°ç¬¦ç§»é™¤äº†å¯é€‰å±æ€§ä»¥åï¼Œè¯¥å±æ€§å°±ä¸èƒ½ç­‰äº<code>undefined</code>äº†ï¼Œå®é™…å˜æˆå¿…é€‰å±æ€§äº†ã€‚ä½†æ˜¯ï¼Œè¿™ä¸ªä¿®é¥°ç¬¦ä¸ä¼šç§»é™¤<code>null</code>ç±»å‹ã€‚</p><p>å¦å¤–ï¼Œ<code>+?</code>ä¿®é¥°ç¬¦å¯ä»¥ç®€å†™æˆ<code>?</code>ï¼Œ<code>+readonly</code>ä¿®é¥°ç¬¦å¯ä»¥ç®€å†™æˆ<code>readonly</code>ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  +readonly [<span class="type">P</span> in keyof <span class="type">T</span>]+?: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// ç­‰åŒäº</span><br><span class="line"><span class="keyword">type</span> <span class="type">A</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  readonly [<span class="type">P</span> in keyof <span class="type">T</span>]?: <span class="type">T</span>[<span class="type">P</span>];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é”®åé‡æ˜ å°„">é”®åé‡æ˜ å°„ <a href="about:blank#%E9%94%AE%E5%90%8D%E9%87%8D%E6%98%A0%E5%B0%84">#</a></h2><h3 id="è¯­æ³•">è¯­æ³• <a href="about:blank#%E8%AF%AD%E6%B3%95">#</a></h3><p>TypeScript 4.1 å¼•å…¥äº†é”®åé‡æ˜ å°„ï¼ˆkey remappingï¼‰ï¼Œå…è®¸æ”¹å˜é”®åã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> A = &#123;</span><br><span class="line">  <span class="attr">foo</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">bar</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> B = &#123;</span><br><span class="line">  [p <span class="keyword">in</span> keyof A <span class="keyword">as</span> <span class="string">`<span class="subst">$&#123;p&#125;</span>ID`</span>]: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">type</span> B = &#123;</span><br><span class="line">  <span class="attr">fooID</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">barID</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>B</code>æ˜¯ç±»å‹<code>A</code>çš„æ˜ å°„ï¼Œä½†åœ¨æ˜ å°„æ—¶æŠŠå±æ€§åæ”¹æ‰äº†ï¼Œåœ¨åŸå§‹å±æ€§ååé¢åŠ ä¸Šäº†å­—ç¬¦ä¸²<code>ID</code>ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œé”®åé‡æ˜ å°„çš„è¯­æ³•æ˜¯åœ¨é”®åæ˜ å°„çš„åé¢åŠ ä¸Š<code>as + æ–°ç±»å‹</code>å­å¥ã€‚è¿™é‡Œçš„â€œæ–°ç±»å‹â€é€šå¸¸æ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œé‡Œé¢å¯ä»¥å¯¹åŸå§‹é”®åè¿›è¡Œå„ç§æ“ä½œã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">interface Person &#123;</span><br><span class="line">  <span class="name">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="name">age</span>: number;</span><br><span class="line">  <span class="name">location</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span> Getters&lt;T&gt; = &#123;</span><br><span class="line">  [P <span class="keyword">in</span> keyof T</span><br><span class="line">    as `get$&#123;Capitalize&lt;<span class="built_in">string</span> &amp; P&gt;&#125;`]: <span class="function"><span class="params">()</span> =&gt;</span> T[P];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span> LazyPerson = Getters&lt;Person&gt;;</span><br><span class="line">// ç­‰åŒäº</span><br><span class="line"><span class="built_in">type</span> LazyPerson = &#123;</span><br><span class="line">  <span class="name">getName</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">  <span class="name">getAge</span>: <span class="function"><span class="params">()</span> =&gt;</span> number;</span><br><span class="line">  <span class="name">getLocation</span>: <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>LazyPerson</code>æ˜¯ç±»å‹<code>Person</code>çš„æ˜ å°„ï¼Œå¹¶ä¸”æŠŠé”®åæ”¹æ‰äº†ã€‚</p><p>å®ƒçš„ä¿®æ”¹é”®åçš„ä»£ç æ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²<code>get$&#123;Capitalize&lt;string &amp; P&gt;&#125;</code>ï¼Œä¸‹é¢æ˜¯å„ä¸ªéƒ¨åˆ†çš„è§£é‡Šã€‚</p><ul><li><code>get</code>ï¼šä¸ºé”®åæ·»åŠ çš„å‰ç¼€ã€‚</li><li><code>Capitalize&lt;T&gt;</code>ï¼šä¸€ä¸ªåŸç”Ÿçš„å·¥å…·æ³›å‹ï¼Œç”¨æ¥å°†<code>T</code>çš„é¦–å­—æ¯å˜æˆå¤§å†™ã€‚</li><li><code>string &amp; P</code>ï¼šä¸€ä¸ªäº¤å‰ç±»å‹ï¼Œå…¶ä¸­çš„<code>P</code>æ˜¯ keyof è¿ç®—ç¬¦è¿”å›çš„é”®åè”åˆç±»å‹<code>string|number|symbol</code>ï¼Œä½†æ˜¯<code>Capitalize&lt;T&gt;</code>åªèƒ½æ¥å—å­—ç¬¦ä¸²ä½œä¸ºç±»å‹å‚æ•°ï¼Œå› æ­¤<code>string &amp; P</code>åªè¿”å›<code>P</code>çš„å­—ç¬¦ä¸²å±æ€§åã€‚</li></ul><h3 id="å±æ€§è¿‡æ»¤">å±æ€§è¿‡æ»¤ <a href="about:blank#%E5%B1%9E%E6%80%A7%E8%BF%87%E6%BB%A4">#</a></h3><p>é”®åé‡æ˜ å°„è¿˜å¯ä»¥è¿‡æ»¤æ‰æŸäº›å±æ€§ã€‚ä¸‹é¢çš„ä¾‹å­æ˜¯åªä¿ç•™å­—ç¬¦ä¸²å±æ€§ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">User</span> = &#123;</span><br><span class="line">  name: string,</span><br><span class="line">  age: number</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">Filter</span>&lt;<span class="type">T</span>&gt; = &#123;</span><br><span class="line">  [<span class="type">K</span> in keyof <span class="type">T</span></span><br><span class="line">    as <span class="type">T</span>[<span class="type">K</span>] extends string ? <span class="type">K</span> : never]: string</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">FilteredUser</span> = <span class="type">Filter</span>&lt;<span class="type">User</span>&gt; // &#123; name: string &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ˜ å°„<code>K in keyof T</code>è·å–ç±»å‹<code>T</code>çš„æ¯ä¸€ä¸ªå±æ€§ä»¥åï¼Œç„¶åä½¿ç”¨<code>as Type</code>ä¿®æ”¹é”®åã€‚</p><p>å®ƒçš„é”®åé‡æ˜ å°„<code>as T[K] extends string ? K : never]</code>ï¼Œä½¿ç”¨äº†æ¡ä»¶è¿ç®—ç¬¦ã€‚å¦‚æœå±æ€§å€¼<code>T[K]</code>çš„ç±»å‹æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå±æ€§åä¸å˜ï¼Œå¦åˆ™å±æ€§åç±»å‹æ”¹ä¸º<code>never</code>ï¼Œå³è¿™ä¸ªå±æ€§åä¸å­˜åœ¨ã€‚è¿™æ ·å°±ç­‰äºè¿‡æ»¤äº†ä¸ç¬¦åˆæ¡ä»¶çš„å±æ€§ï¼Œåªä¿ç•™å±æ€§å€¼ä¸ºå­—ç¬¦ä¸²çš„å±æ€§ã€‚</p><h3 id="è”åˆç±»å‹çš„æ˜ å°„">è”åˆç±»å‹çš„æ˜ å°„ <a href="about:blank#%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%98%A0%E5%B0%84">#</a></h3><p>ç”±äºé”®åé‡æ˜ å°„å¯ä»¥ä¿®æ”¹é”®åç±»å‹ï¼Œæ‰€ä»¥åŸå§‹é”®åçš„ç±»å‹ä¸å¿…æ˜¯<code>string|number|symbol</code>ï¼Œä»»æ„çš„è”åˆç±»å‹éƒ½å¯ä»¥ç”¨æ¥è¿›è¡Œé”®åé‡æ˜ å°„ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> S = &#123;</span><br><span class="line">  <span class="attr">kind</span>: <span class="string">&#x27;square&#x27;</span>,</span><br><span class="line">  <span class="attr">x</span>: <span class="built_in">number</span>,</span><br><span class="line">  <span class="attr">y</span>: <span class="built_in">number</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> C = &#123;</span><br><span class="line">  <span class="attr">kind</span>: <span class="string">&#x27;circle&#x27;</span>,</span><br><span class="line">  <span class="attr">radius</span>: <span class="built_in">number</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">MyEvents</span>&lt;<span class="title class_">Events</span> <span class="keyword">extends</span> &#123; <span class="attr">kind</span>: <span class="built_in">string</span> &#125;&gt; = &#123;</span><br><span class="line">  [E <span class="keyword">in</span> <span class="title class_">Events</span> <span class="keyword">as</span> E[<span class="string">&#x27;kind&#x27;</span>]]: <span class="function">(<span class="params">event: E</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Config</span> = <span class="title class_">MyEvents</span>&lt;S|C&gt;;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Config</span> = &#123;</span><br><span class="line">  <span class="attr">square</span>: <span class="function">(<span class="params">event:S</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  <span class="attr">circle</span>: <span class="function">(<span class="params">event:C</span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒåŸå§‹é”®åçš„æ˜ å°„æ˜¯<code>E in Events</code>ï¼Œè¿™é‡Œçš„<code>Events</code>æ˜¯ä¸¤ä¸ªå¯¹è±¡ç»„æˆçš„è”åˆç±»å‹<code>S|C</code>ã€‚æ‰€ä»¥ï¼Œ<code>E</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†é€šè¿‡é”®åé‡æ˜ å°„ï¼Œå¾—åˆ°å­—ç¬¦ä¸²é”®å<code>E['kind']</code>ã€‚</p><h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ <a href="about:blank#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">#</a></h2><ul><li><a href="https://mariusschulz.com/blog/mapped-type-modifiers-in-typescript">Mapped Type Modifiers in TypeScript</a>, Marius Schulz</li></ul><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/mapping">https://wangdoc.com/typescript/mapping</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript çš„ç±»å‹æ˜ å°„</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript ç±»å‹è¿ç®—ç¬¦</title>
    <link href="https://www.fomal.cc/posts/27.html"/>
    <id>https://www.fomal.cc/posts/27.html</id>
    <published>2023-06-21T10:50:00.000Z</published>
    <updated>2023-06-21T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>TypeScript ç±»å‹è¿ç®—ç¬¦</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><p>TypeScript æä¾›å¼ºå¤§çš„ç±»å‹è¿ç®—èƒ½åŠ›ï¼Œå¯ä»¥ä½¿ç”¨å„ç§ç±»å‹è¿ç®—ç¬¦ï¼Œå¯¹å·²æœ‰çš„ç±»å‹è¿›è¡Œè®¡ç®—ï¼Œå¾—åˆ°æ–°ç±»å‹ã€‚</p><h2 id="keyof-è¿ç®—ç¬¦">keyof è¿ç®—ç¬¦ <a href="about:blank#keyof-%E8%BF%90%E7%AE%97%E7%AC%A6">#</a></h2><h3 id="ç®€ä»‹">ç®€ä»‹ <a href="about:blank#%E7%AE%80%E4%BB%8B">#</a></h3><p>keyof æ˜¯ä¸€ä¸ªå•ç›®è¿ç®—ç¬¦ï¼Œæ¥å—ä¸€ä¸ªå¯¹è±¡ç±»å‹ä½œä¸ºå‚æ•°ï¼Œè¿”å›è¯¥å¯¹è±¡çš„æ‰€æœ‰é”®åç»„æˆçš„è”åˆç±»å‹ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">MyObj </span>= &#123;</span><br><span class="line">  foo: number,</span><br><span class="line">  bar: string,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">Keys </span>= keyof MyObj; // <span class="symbol">&#x27;foo</span><span class="string">&#x27;|&#x27;</span>bar&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>keyof MyObj</code>è¿”å›<code>MyObj</code>çš„æ‰€æœ‰é”®åç»„æˆçš„è”åˆç±»å‹ï¼Œå³<code>'foo'|'bar'</code>ã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="symbol">T</span> &#123;</span><br><span class="line">  <span class="number">0</span>: <span class="built_in">bool</span>ean;</span><br><span class="line">  a: <span class="built_in">string</span>;</span><br><span class="line">  b(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">type KeyT = keyof T; <span class="comment">// 0 | &#x27;a&#x27; | &#x27;b&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç”±äº JavaScript å¯¹è±¡çš„é”®ååªæœ‰ä¸‰ç§ç±»å‹ï¼Œæ‰€ä»¥å¯¹äºä»»æ„å¯¹è±¡çš„é”®åçš„è”åˆç±»å‹å°±æ˜¯<code>string|number|symbol</code>ã€‚</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// <span class="keyword">string</span> | <span class="keyword">number</span> | symbol</span><br><span class="line"><span class="keyword">type</span> KeyT = keyof any;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯¹äºæ²¡æœ‰è‡ªå®šä¹‰é”®åçš„ç±»å‹ä½¿ç”¨ keyof è¿ç®—ç¬¦ï¼Œè¿”å›<code>never</code>ç±»å‹ï¼Œè¡¨ç¤ºä¸å¯èƒ½æœ‰è¿™æ ·ç±»å‹çš„é”®åã€‚</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> KeyT = keyof <span class="keyword">object</span>;  <span class="comment">// never</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç”±äº<code>object</code>ç±»å‹æ²¡æœ‰è‡ªèº«çš„å±æ€§ï¼Œä¹Ÿå°±æ²¡æœ‰é”®åï¼Œæ‰€ä»¥<code>keyof object</code>è¿”å›<code>never</code>ç±»å‹ã€‚</p><p>ç”±äº keyof è¿”å›çš„ç±»å‹æ˜¯<code>string|number|symbol</code>ï¼Œå¦‚æœæœ‰äº›åœºåˆåªéœ€è¦å…¶ä¸­çš„ä¸€ç§ç±»å‹ï¼Œé‚£ä¹ˆå¯ä»¥é‡‡ç”¨äº¤å‰ç±»å‹çš„å†™æ³•ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Capital&lt;T</span> <span class="keyword">extends</span> <span class="title">string&gt;</span> </span>= <span class="type">Capitalize</span>&lt;<span class="type">T</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">MyKeys&lt;Obj</span> <span class="keyword">extends</span> <span class="title">object&gt;</span> </span>= <span class="type">Capital</span>&lt;keyof <span class="type">Obj</span>&gt;; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>Capital</code>åªæ¥å—å­—ç¬¦ä¸²ä½œä¸ºç±»å‹å‚æ•°ï¼Œä¼ å…¥<code>keyof Obj</code>ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯è¿™æ—¶çš„ç±»å‹å‚æ•°æ˜¯<code>string|number|symbol</code>ï¼Œè·Ÿå­—ç¬¦ä¸²ä¸å…¼å®¹ã€‚é‡‡ç”¨ä¸‹é¢çš„äº¤å‰ç±»å‹å†™æ³•ï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">MyKeys&lt;Obj</span> <span class="keyword">extends</span> <span class="title">object&gt;</span> </span>= <span class="type">Capital</span>&lt;string &amp; keyof <span class="type">Obj</span>&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>string &amp; keyof Obj</code>ç­‰åŒäº<code>string &amp; string|number|symbol</code>è¿›è¡Œäº¤é›†è¿ç®—ï¼Œæœ€åè¿”å›<code>string</code>ï¼Œå› æ­¤<code>Capital&lt;T extends string&gt;</code>å°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p><p>å¦‚æœå¯¹è±¡å±æ€§åé‡‡ç”¨ç´¢å¼•å½¢å¼ï¼Œkeyof ä¼šè¿”å›å±æ€§åçš„ç´¢å¼•ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¤ºä¾‹ä¸€</span></span><br><span class="line"><span class="keyword">interface</span> T &#123;</span><br><span class="line">  [<span class="attr">prop</span>: <span class="built_in">number</span>]: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// number</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">KeyT</span> = keyof T;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹äºŒ</span></span><br><span class="line"><span class="keyword">interface</span> T &#123;</span><br><span class="line">  [<span class="attr">prop</span>: <span class="built_in">string</span>]: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// string|number</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">KeyT</span> = keyof T;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ç¤ºä¾‹äºŒï¼Œ<code>keyof T</code>è¿”å›çš„ç±»å‹æ˜¯<code>string|number</code>ï¼ŒåŸå› æ˜¯ JavaScript å±æ€§åä¸ºå­—ç¬¦ä¸²æ—¶ï¼ŒåŒ…å«äº†å±æ€§åä¸ºæ•°å€¼çš„æƒ…å†µï¼Œå› ä¸ºæ•°å€¼å±æ€§åä¼šè‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²ã€‚</p><p>å¦‚æœ keyof è¿ç®—ç¬¦ç”¨äºæ•°ç»„æˆ–å…ƒç»„ç±»å‹ï¼Œå¾—åˆ°çš„ç»“æœå¯èƒ½å‡ºäººæ„æ–™ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Result </span>= keyof [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line">// è¿”å› number | <span class="string">&quot;0&quot;</span> | <span class="string">&quot;1&quot;</span> | <span class="string">&quot;2&quot;</span></span><br><span class="line">// | <span class="string">&quot;length&quot;</span> | <span class="string">&quot;pop&quot;</span> | <span class="string">&quot;push&quot;</span> | Â·Â·Â·</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œkeyof ä¼šè¿”å›æ•°ç»„çš„æ‰€æœ‰é”®åï¼ŒåŒ…æ‹¬æ•°å­—é”®åå’Œç»§æ‰¿çš„é”®åã€‚</p><p>å¯¹äºè”åˆç±»å‹ï¼Œkeyof è¿”å›æˆå‘˜å…±æœ‰çš„é”®åã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A</span> = &#123; a: string; z: boolean &#125;;</span><br><span class="line"><span class="keyword">type</span> <span class="type">B</span> = &#123; b: string; z: boolean &#125;;</span><br><span class="line"></span><br><span class="line">// è¿”å› <span class="string">&#x27;z&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">KeyT</span> = keyof (<span class="type">A</span> | <span class="type">B</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯¹äºäº¤å‰ç±»å‹ï¼Œkeyof è¿”å›æ‰€æœ‰é”®åã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A</span> = &#123; a: string; x: boolean &#125;;</span><br><span class="line"><span class="keyword">type</span> <span class="type">B</span> = &#123; b: string; y: number &#125;;</span><br><span class="line"></span><br><span class="line">// è¿”å› <span class="string">&#x27;a&#x27;</span> | <span class="string">&#x27;x&#x27;</span> | <span class="string">&#x27;b&#x27;</span> | <span class="string">&#x27;y&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">KeyT</span> = keyof (<span class="type">A</span> &amp; <span class="type">B</span>);</span><br><span class="line"></span><br><span class="line">// ç›¸å½“äº</span><br><span class="line"><span class="title">keyof</span> (<span class="type">A</span> &amp; <span class="type">B</span>) â‰¡ keyof <span class="type">A</span> | keyof <span class="type">B</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>keyof å–å‡ºçš„æ˜¯é”®åç»„æˆçš„è”åˆç±»å‹ï¼Œå¦‚æœæƒ³å–å‡ºé”®å€¼ç»„æˆçš„è”åˆç±»å‹ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ã€‚</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> MyObj = &#123;</span><br><span class="line">  foo: <span class="keyword">number</span>,</span><br><span class="line">  bar: <span class="keyword">string</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Keys = keyof MyObj;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Values = MyObj[Keys]; // <span class="keyword">number</span>|<span class="keyword">string</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Keys</code>æ˜¯é”®åç»„æˆçš„è”åˆç±»å‹ï¼Œè€Œ<code>MyObj[Keys]</code>ä¼šå–å‡ºæ¯ä¸ªé”®åå¯¹åº”çš„é”®å€¼ç±»å‹ï¼Œç»„æˆä¸€ä¸ªæ–°çš„è”åˆç±»å‹ï¼Œå³<code>number|string</code>ã€‚</p><h3 id="keyof-è¿ç®—ç¬¦çš„ç”¨é€”">keyof è¿ç®—ç¬¦çš„ç”¨é€” <a href="about:blank#keyof-%E8%BF%90%E7%AE%97%E7%AC%A6%E7%9A%84%E7%94%A8%E9%80%94">#</a></h3><p>keyof è¿ç®—ç¬¦å¾€å¾€ç”¨äºç²¾ç¡®è¡¨è¾¾å¯¹è±¡çš„å±æ€§ç±»å‹ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå–å‡ºå¯¹è±¡çš„æŸä¸ªæŒ‡å®šå±æ€§çš„å€¼ï¼ŒJavaScript ç‰ˆæœ¬å¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">prop</span>(obj, key) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">obj[key]</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªå‡½æ•°æ·»åŠ ç±»å‹ï¼Œåªèƒ½å†™æˆä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">prop</span>(<span class="params"></span></span><br><span class="line"><span class="params">  obj: &#123; [p:<span class="built_in">string</span>]: <span class="built_in">any</span> &#125;,</span></span><br><span class="line"><span class="params">  key: <span class="built_in">string</span></span></span><br><span class="line"><span class="params"></span>):<span class="built_in">any</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> obj[key];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ç±»å‹å£°æ˜æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€æ˜¯æ— æ³•è¡¨ç¤ºå‚æ•°<code>key</code>ä¸å‚æ•°<code>obj</code>ä¹‹é—´çš„å…³ç³»ï¼ŒäºŒæ˜¯è¿”å›å€¼ç±»å‹åªèƒ½å†™æˆ<code>any</code>ã€‚</p><p>æœ‰äº† keyof ä»¥åï¼Œå°±å¯ä»¥è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œç²¾ç¡®è¡¨è¾¾è¿”å›å€¼ç±»å‹ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">prop&lt;Obj,</span> K extends keyof Obj&gt;(</span><br><span class="line">  obj:Obj, key:K</span><br><span class="line">):Obj[K] &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">obj[key]</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>K extends keyof Obj</code>è¡¨ç¤º<code>K</code>æ˜¯<code>Obj</code>çš„ä¸€ä¸ªå±æ€§åï¼Œä¼ å…¥å…¶ä»–å­—ç¬¦ä¸²ä¼šæŠ¥é”™ã€‚è¿”å›å€¼ç±»å‹<code>Obj[K]</code>å°±è¡¨ç¤º<code>K</code>è¿™ä¸ªå±æ€§å€¼çš„ç±»å‹ã€‚</p><p>keyof çš„å¦ä¸€ä¸ªç”¨é€”æ˜¯ç”¨äºå±æ€§æ˜ å°„ï¼Œå³å°†ä¸€ä¸ªç±»å‹çš„æ‰€æœ‰å±æ€§é€ä¸€æ˜ å°„æˆå…¶ä»–å€¼ã€‚</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">NewProps</span>&lt;<span class="type">Obj</span>&gt; = &#123;</span></span><br><span class="line"><span class="class">  [<span class="type">Prop</span> <span class="title">in</span> <span class="title">keyof</span> <span class="type">Obj</span>]: <span class="title">boolean</span>;</span></span><br><span class="line"><span class="class">&#125;;</span></span><br><span class="line"></span><br><span class="line">// ç”¨æ³•</span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">MyObj</span> = &#123; <span class="title">foo</span>: <span class="title">number</span>; &#125;;</span></span><br><span class="line"></span><br><span class="line">// ç­‰äº &#123; foo: boolean; &#125;</span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">NewObj</span> = <span class="type">NewProps</span>&lt;<span class="type">MyObj</span>&gt;;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>NewProps</code>æ˜¯ç±»å‹<code>Obj</code>çš„æ˜ å°„ç±»å‹ï¼Œå‰è€…ç»§æ‰¿äº†åè€…çš„æ‰€æœ‰å±æ€§ï¼Œä½†æ˜¯æŠŠæ‰€æœ‰å±æ€§å€¼ç±»å‹éƒ½æ”¹æˆäº†<code>boolean</code>ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ˜¯å»æ‰ readonly ä¿®é¥°ç¬¦ã€‚</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">Mutable</span>&lt;<span class="type">Obj</span>&gt; = &#123;</span></span><br><span class="line"><span class="class">  -<span class="title">readonly</span> [<span class="type">Prop</span> <span class="title">in</span> <span class="title">keyof</span> <span class="type">Obj</span>]: <span class="type">Obj</span>[<span class="type">Prop</span>];</span></span><br><span class="line"><span class="class">&#125;;</span></span><br><span class="line"></span><br><span class="line">// ç”¨æ³•</span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">MyObj</span> = &#123;</span></span><br><span class="line"><span class="class">  <span class="title">readonly</span> <span class="title">foo</span>: <span class="title">number</span>;</span></span><br><span class="line"><span class="class">&#125;</span></span><br><span class="line"></span><br><span class="line">// ç­‰äº &#123; foo: number; &#125;</span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">NewObj</span> = <span class="type">Mutable</span>&lt;<span class="type">MyObj</span>&gt;;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>[Prop in keyof Obj]</code>æ˜¯<code>Obj</code>ç±»å‹çš„æ‰€æœ‰å±æ€§åï¼Œ<code>-readonly</code>è¡¨ç¤ºå»é™¤è¿™äº›å±æ€§çš„åªè¯»ç‰¹æ€§ã€‚å¯¹åº”åœ°ï¼Œè¿˜æœ‰<code>+readonly</code>çš„å†™æ³•ï¼Œè¡¨ç¤ºæ·»åŠ åªè¯»å±æ€§è®¾ç½®ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ˜¯è®©å¯é€‰å±æ€§å˜æˆå¿…æœ‰çš„å±æ€§ã€‚</p><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">Concrete</span>&lt;<span class="type">Obj</span>&gt; = &#123;</span></span><br><span class="line"><span class="class">  [<span class="type">Prop</span> <span class="title">in</span> <span class="title">keyof</span> <span class="type">Obj</span>]-?: <span class="type">Obj</span>[<span class="type">Prop</span>];</span></span><br><span class="line"><span class="class">&#125;;</span></span><br><span class="line"></span><br><span class="line">// ç”¨æ³•</span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">MyObj</span> = &#123;</span></span><br><span class="line"><span class="class">  <span class="title">foo</span>?: <span class="title">number</span>;</span></span><br><span class="line"><span class="class">&#125;</span></span><br><span class="line"></span><br><span class="line">// ç­‰äº &#123; foo: number; &#125;</span><br><span class="line"><span class="class"><span class="keyword">type</span> <span class="type">NewObj</span> = <span class="type">Concrete</span>&lt;<span class="type">MyObj</span>&gt;;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>[Prop in keyof Obj]</code>åé¢çš„<code>-?</code>è¡¨ç¤ºå»é™¤å¯é€‰å±æ€§è®¾ç½®ã€‚å¯¹åº”åœ°ï¼Œè¿˜æœ‰<code>+?</code>çš„å†™æ³•ï¼Œè¡¨ç¤ºæ·»åŠ å¯é€‰å±æ€§è®¾ç½®ã€‚</p><h2 id="in-è¿ç®—ç¬¦">in è¿ç®—ç¬¦ <a href="about:blank#in-%E8%BF%90%E7%AE%97%E7%AC%A6">#</a></h2><p>JavaScript è¯­è¨€ä¸­ï¼Œ<code>in</code>è¿ç®—ç¬¦ç”¨æ¥ç¡®å®šå¯¹è±¡æ˜¯å¦åŒ…å«æŸä¸ªå±æ€§åã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const obj = &#123; <span class="attr">a</span>: <span class="number">123</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="string">&#x27;a&#x27;</span> in obj)</span><br><span class="line">  <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;found a&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>in</code>è¿ç®—ç¬¦ç”¨æ¥åˆ¤æ–­å¯¹è±¡<code>obj</code>æ˜¯å¦åŒ…å«å±æ€§<code>a</code>ã€‚</p><p><code>in</code>è¿ç®—ç¬¦çš„å·¦ä¾§æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå±æ€§åï¼Œå³ä¾§æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚å®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</p><p>TypeScript è¯­è¨€çš„ç±»å‹è¿ç®—ä¸­ï¼Œ<code>in</code>è¿ç®—ç¬¦æœ‰ä¸åŒçš„ç”¨æ³•ï¼Œç”¨æ¥å–å‡ºï¼ˆéå†ï¼‰è”åˆç±»å‹çš„æ¯ä¸€ä¸ªæˆå‘˜ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> U = <span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;b&#x27;</span>|<span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  [<span class="title class_">Prop</span> <span class="keyword">in</span> U]: <span class="built_in">number</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Foo</span> = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="built_in">number</span>,</span><br><span class="line">  <span class="attr">b</span>: <span class="built_in">number</span>,</span><br><span class="line">  <span class="attr">c</span>: <span class="built_in">number</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>[Prop in U]</code>è¡¨ç¤ºä¾æ¬¡å–å‡ºè”åˆç±»å‹<code>U</code>çš„æ¯ä¸€ä¸ªæˆå‘˜ã€‚</p><p>ä¸Šä¸€å°èŠ‚çš„ä¾‹å­ä¹Ÿæåˆ°ï¼Œ<code>[Prop in keyof Obj]</code>è¡¨ç¤ºå–å‡ºå¯¹è±¡<code>Obj</code>çš„æ¯ä¸€ä¸ªé”®åã€‚</p><h2 id="æ–¹æ‹¬å·è¿ç®—ç¬¦">æ–¹æ‹¬å·è¿ç®—ç¬¦ <a href="about:blank#%E6%96%B9%E6%8B%AC%E5%8F%B7%E8%BF%90%E7%AE%97%E7%AC%A6">#</a></h2><p>æ–¹æ‹¬å·è¿ç®—ç¬¦ï¼ˆ<code>[]</code>ï¼‰ç”¨äºå–å‡ºå¯¹è±¡çš„é”®å€¼ç±»å‹ï¼Œæ¯”å¦‚<code>T[K]</code>ä¼šè¿”å›å¯¹è±¡<code>T</code>çš„å±æ€§<code>K</code>çš„ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="attr">alive</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Age çš„ç±»å‹æ˜¯ number</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Age</span> = <span class="title class_">Person</span>[<span class="string">&#x27;age&#x27;</span>];</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Person['age']</code>è¿”å›å±æ€§<code>age</code>çš„ç±»å‹ï¼Œæœ¬ä¾‹æ˜¯<code>number</code>ã€‚</p><p>æ–¹æ‹¬å·çš„å‚æ•°å¦‚æœæ˜¯è”åˆç±»å‹ï¼Œé‚£ä¹ˆè¿”å›çš„ä¹Ÿæ˜¯è”åˆç±»å‹ã€‚</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">type Person = &#123;</span><br><span class="line">  age:<span class="built_in"> number</span>;</span><br><span class="line"> <span class="built_in"> name</span>:<span class="built_in"> string</span>;</span><br><span class="line">  alive:<span class="built_in"> boolean</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">//<span class="built_in"> number</span><span class="built_in">|string</span></span><br><span class="line">type T = Person[<span class="string">&#x27;age&#x27;</span>|<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line"></span><br><span class="line">//<span class="built_in"> number</span><span class="built_in">|string</span><span class="built_in">|boolean</span></span><br><span class="line">type A = Person[keyof Person];</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ–¹æ‹¬å·é‡Œé¢æ˜¯å±æ€§åçš„è”åˆç±»å‹ï¼Œæ‰€ä»¥è¿”å›çš„ä¹Ÿæ˜¯å¯¹åº”çš„å±æ€§å€¼çš„è”åˆç±»å‹ã€‚</p><p>å¦‚æœè®¿é—®ä¸å­˜åœ¨çš„å±æ€§ï¼Œä¼šæŠ¥é”™ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">T </span>= Person[<span class="symbol">&#x27;notExisted</span>&#x27;]; // æŠ¥é”™</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ–¹æ‹¬å·è¿ç®—ç¬¦çš„å‚æ•°ä¹Ÿå¯ä»¥æ˜¯å±æ€§åçš„ç´¢å¼•ç±»å‹ã€‚</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Obj = &#123;</span><br><span class="line">  [key:<span class="keyword">string</span>]: <span class="keyword">number</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// <span class="keyword">number</span></span><br><span class="line"><span class="keyword">type</span> T = Obj[<span class="keyword">string</span>];</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Obj</code>çš„å±æ€§åæ˜¯å­—ç¬¦ä¸²çš„ç´¢å¼•ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥å†™æˆ<code>Obj[string]</code>ï¼Œä»£è¡¨æ‰€æœ‰å­—ç¬¦ä¸²å±æ€§åï¼Œè¿”å›çš„å°±æ˜¯å®ƒä»¬çš„ç±»å‹<code>number</code>ã€‚</p><p>è¿™ä¸ªè¯­æ³•å¯¹äºæ•°ç»„ä¹Ÿé€‚ç”¨ï¼Œå¯ä»¥ä½¿ç”¨<code>number</code>ä½œä¸ºæ–¹æ‹¬å·çš„å‚æ•°ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MyArray çš„ç±»å‹æ˜¯ &#123; [key:number]: string &#125;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MyArray</span> = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº (typeof MyArray)[number]</span></span><br><span class="line"><span class="comment">// è¿”å› string</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = <span class="keyword">typeof</span> <span class="title class_">MyArray</span>[<span class="built_in">number</span>];</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>MyArray</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç±»å‹å®é™…ä¸Šæ˜¯å±æ€§åçš„æ•°å€¼ç´¢å¼•ï¼Œè€Œ<code>typeof MyArray[number]</code>çš„<code>typeof</code>è¿ç®—ä¼˜å…ˆçº§é«˜äºæ–¹æ‹¬å·ï¼Œæ‰€ä»¥è¿”å›çš„æ˜¯æ‰€æœ‰æ•°å€¼é”®åçš„é”®å€¼ç±»å‹<code>string</code>ã€‚</p><p>æ³¨æ„ï¼Œæ–¹æ‹¬å·é‡Œé¢ä¸èƒ½æœ‰å€¼çš„è¿ç®—ã€‚</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¤ºä¾‹ä¸€</span></span><br><span class="line"><span class="keyword">const</span> key = <span class="string">&#x27;age&#x27;</span>;</span><br><span class="line"><span class="keyword">type</span> Age = Person[key]; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹äºŒ</span></span><br><span class="line"><span class="keyword">type</span> Age = Person[<span class="string">&#x27;a&#x27;</span> + <span class="string">&#x27;g&#x27;</span> + <span class="string">&#x27;e&#x27;</span>]; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¸¤ä¸ªç¤ºä¾‹ï¼Œæ–¹æ‹¬å·é‡Œé¢éƒ½æ¶‰åŠå€¼çš„è¿ç®—ï¼Œç¼–è¯‘æ—¶ä¸ä¼šè¿›è¡Œè¿™ç§è¿ç®—ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚</p><h2 id="extendsâ€¦-æ¡ä»¶è¿ç®—ç¬¦">extendsâ€¦?: æ¡ä»¶è¿ç®—ç¬¦ <a href="about:blank#extends-%E6%9D%A1%E4%BB%B6%E8%BF%90%E7%AE%97%E7%AC%A6">#</a></h2><p>TypeScript æä¾›ç±»ä¼¼ JavaScript çš„<code>?:</code>è¿ç®—ç¬¦è¿™æ ·çš„ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œä½†å¤šå‡ºäº†ä¸€ä¸ª<code>extends</code>å…³é”®å­—ã€‚</p><p>æ¡ä»¶è¿ç®—ç¬¦<code>extends...?:</code>å¯ä»¥æ ¹æ®å½“å‰ç±»å‹æ˜¯å¦ç¬¦åˆæŸç§æ¡ä»¶ï¼Œè¿”å›ä¸åŒçš„ç±»å‹ã€‚</p><figure class="highlight tp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">T extends U ? <span class="keyword">X</span> : <span class="keyword">Y</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢å¼å­ä¸­çš„<code>extends</code>ç”¨æ¥åˆ¤æ–­ï¼Œç±»å‹<code>T</code>æ˜¯å¦å¯ä»¥èµ‹å€¼ç»™ç±»å‹<code>U</code>ï¼Œå³<code>T</code>æ˜¯å¦ä¸º<code>U</code>çš„å­ç±»å‹ï¼Œè¿™é‡Œçš„<code>T</code>å’Œ<code>U</code>å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚</p><p>å¦‚æœ<code>T</code>èƒ½å¤Ÿèµ‹å€¼ç»™ç±»å‹<code>U</code>ï¼Œè¡¨è¾¾å¼çš„ç»“æœä¸ºç±»å‹<code>X</code>ï¼Œå¦åˆ™ç»“æœä¸ºç±»å‹<code>Y</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="keyword">type</span> T = <span class="number">1</span> <span class="keyword">extends</span> <span class="built_in">number</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>1</code>æ˜¯<code>number</code>çš„å­ç±»å‹ï¼Œæ‰€ä»¥è¿”å›<code>true</code>ã€‚</p><p>ä¸‹é¢æ˜¯å¦å¤–ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">  <span class="title function_">live</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">  <span class="title function_">woof</span>(): <span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// number</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T1</span> = <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> ? <span class="built_in">number</span> : <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// string</span></span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">T2</span> = <span class="title class_">RegExp</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> ? <span class="built_in">number</span> : <span class="built_in">string</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Dog</code>æ˜¯<code>Animal</code>çš„å­ç±»å‹ï¼Œæ‰€ä»¥<code>T1</code>çš„ç±»å‹æ˜¯<code>number</code>ã€‚<code>RegExp</code>ä¸æ˜¯<code>Animal</code>çš„å­ç±»å‹ï¼Œæ‰€ä»¥<code>T2</code>çš„ç±»å‹æ˜¯<code>string</code>ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œè°ƒæ¢<code>extends</code>ä¸¤ä¾§ç±»å‹ï¼Œä¼šè¿”å›ç›¸åçš„ç»“æœã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæœ‰ä¸¤ä¸ªç±»<code>Cat</code>å’Œ<code>Animal</code>ï¼Œå‰è€…æ˜¯åè€…çš„å­ç±»å‹ï¼Œé‚£ä¹ˆ<code>Cat extends Animal</code>å°±ä¸ºçœŸï¼Œè€Œ<code>Animal extends Cat</code>å°±ä¸ºä¼ªã€‚</p><p>å¦‚æœéœ€è¦åˆ¤æ–­çš„ç±»å‹æ˜¯ä¸€ä¸ªè”åˆç±»å‹ï¼Œé‚£ä¹ˆæ¡ä»¶è¿ç®—ç¬¦ä¼šå±•å¼€è¿™ä¸ªè”åˆç±»å‹ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(A|B) <span class="keyword">extends</span> <span class="title class_">U</span> ? X : Y</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"></span><br><span class="line">(A <span class="keyword">extends</span> <span class="title class_">U</span> ? X : Y) |</span><br><span class="line">(B <span class="keyword">extends</span> <span class="title class_">U</span> ? X : Y)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>A|B</code>æ˜¯ä¸€ä¸ªè”åˆç±»å‹ï¼Œè¿›è¡Œæ¡ä»¶è¿ç®—æ—¶ï¼Œç›¸å½“äº<code>A</code>å’Œ<code>B</code>åˆ†åˆ«è¿›è¡Œè¿ç®—ç¬¦ï¼Œè¿”å›ç»“æœç»„æˆä¸€ä¸ªè”åˆç±»å‹ã€‚</p><p>å¦‚æœä¸å¸Œæœ›è”åˆç±»å‹è¢«æ¡ä»¶è¿ç®—ç¬¦å±•å¼€ï¼Œå¯ä»¥æŠŠ<code>extends</code>ä¸¤ä¾§çš„æ“ä½œæ•°éƒ½æ”¾åœ¨æ–¹æ‹¬å·é‡Œé¢ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¤ºä¾‹ä¸€</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ToArray</span>&lt;<span class="title class_">Type</span>&gt; =</span><br><span class="line">  <span class="title class_">Type</span> <span class="keyword">extends</span> <span class="built_in">any</span> ? <span class="title class_">Type</span>[] : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// string[]|number[]</span></span><br><span class="line"><span class="keyword">type</span> T = <span class="title class_">ToArray</span>&lt;<span class="built_in">string</span>|<span class="built_in">number</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¤ºä¾‹äºŒ</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ToArray</span>&lt;<span class="title class_">Type</span>&gt; =</span><br><span class="line">  [<span class="title class_">Type</span>] <span class="keyword">extends</span> [<span class="built_in">any</span>] ? <span class="title class_">Type</span>[] : <span class="built_in">never</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// (string | number)[]</span></span><br><span class="line"><span class="keyword">type</span> T = <span class="title class_">ToArray</span>&lt;<span class="built_in">string</span>|<span class="built_in">number</span>&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸€ï¼Œä¼ å…¥<code>ToArray&lt;Type&gt;</code>çš„ç±»å‹å‚æ•°æ˜¯ä¸€ä¸ªè”åˆç±»å‹ï¼Œæ‰€ä»¥ä¼šè¢«å±•å¼€ï¼Œè¿”å›çš„ä¹Ÿæ˜¯è”åˆç±»å‹ã€‚ç¤ºä¾‹äºŒæ˜¯<code>extends</code>ä¸¤ä¾§çš„è¿ç®—æ•°éƒ½æ”¾åœ¨æ–¹æ‹¬å·é‡Œé¢ï¼Œæ‰€ä»¥ä¼ å…¥çš„è”åˆç±»å‹ä¸ä¼šå±•å¼€ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p><p>æ¡ä»¶è¿ç®—ç¬¦è¿˜å¯ä»¥åµŒå¥—ä½¿ç”¨ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">LiteralTypeName</span>&lt;T&gt; =</span><br><span class="line">  T <span class="keyword">extends</span> <span class="literal">undefined</span> ? <span class="string">&quot;undefined&quot;</span> :</span><br><span class="line">  T <span class="keyword">extends</span> <span class="literal">null</span> ? <span class="string">&quot;null&quot;</span> :</span><br><span class="line">  T <span class="keyword">extends</span> <span class="built_in">boolean</span> ? <span class="string">&quot;boolean&quot;</span> :</span><br><span class="line">  T <span class="keyword">extends</span> <span class="built_in">number</span> ? <span class="string">&quot;number&quot;</span> :</span><br><span class="line">  T <span class="keyword">extends</span> <span class="built_in">bigint</span> ? <span class="string">&quot;bigint&quot;</span> :</span><br><span class="line">  T <span class="keyword">extends</span> <span class="built_in">string</span> ? <span class="string">&quot;string&quot;</span> :</span><br><span class="line">  <span class="built_in">never</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹æ˜¯ä¸€ä¸ªå¤šé‡åˆ¤æ–­ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²çš„å€¼ç±»å‹ï¼Œå¯¹åº”å½“å‰ç±»å‹ã€‚ä¸‹é¢æ˜¯å®ƒçš„ç”¨æ³•ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// <span class="string">&quot;bigint&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">Result1 </span>= LiteralTypeName&lt;<span class="number">123</span>n&gt;;</span><br><span class="line"></span><br><span class="line">// <span class="string">&quot;string&quot;</span> | <span class="string">&quot;number&quot;</span> | <span class="string">&quot;boolean&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">Result2 </span>= LiteralTypeName&lt;<span class="literal">true</span> | <span class="number">1</span> | <span class="string">&#x27;a&#x27;</span>&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="infer-å…³é”®å­—">infer å…³é”®å­— <a href="about:blank#infer-%E5%85%B3%E9%94%AE%E5%AD%97">#</a></h2><p><code>infer</code>å…³é”®å­—ç”¨æ¥å®šä¹‰æ³›å‹é‡Œé¢æ¨æ–­å‡ºæ¥çš„ç±»å‹å‚æ•°ï¼Œè€Œä¸æ˜¯å¤–éƒ¨ä¼ å…¥çš„ç±»å‹å‚æ•°ã€‚</p><p>å®ƒé€šå¸¸è·Ÿæ¡ä»¶è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œç”¨åœ¨<code>extends</code>å…³é”®å­—åé¢çš„çˆ¶ç±»å‹ä¹‹ä¸­ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Flatten&lt;<span class="keyword">Type</span>&gt; </span>=</span><br><span class="line">  <span class="keyword">Type</span> <span class="type">extends </span><span class="keyword">Array</span>&lt;infer Item&gt; ? Item : <span class="type">Type</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>infer Item</code>è¡¨ç¤º<code>Item</code>è¿™ä¸ªå‚æ•°æ˜¯ TypeScript è‡ªå·±æ¨æ–­å‡ºæ¥çš„ï¼Œä¸ç”¨æ˜¾å¼ä¼ å…¥ï¼Œè€Œ<code>Flatten&lt;Type&gt;</code>åˆ™è¡¨ç¤º<code>Type</code>è¿™ä¸ªç±»å‹å‚æ•°æ˜¯å¤–éƒ¨ä¼ å…¥çš„ã€‚<code>Type extends Array&lt;infer Item&gt;</code>åˆ™è¡¨ç¤ºï¼Œå¦‚æœå‚æ•°<code>Type</code>æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå°±å°†è¯¥æ•°ç»„çš„æˆå‘˜ç±»å‹æ¨æ–­ä¸º<code>Item</code>ï¼Œå³<code>Item</code>æ˜¯ä»<code>Type</code>æ¨æ–­å‡ºæ¥çš„ã€‚</p><p>ä¸€æ—¦ä½¿ç”¨<code>Infer Item</code>å®šä¹‰äº†<code>Item</code>ï¼Œåé¢çš„ä»£ç å°±å¯ä»¥ç›´æ¥è°ƒç”¨<code>Item</code>äº†ã€‚ä¸‹é¢æ˜¯ä¸Šä¾‹çš„æ³›å‹<code>Flatten&lt;Type&gt;</code>çš„ç”¨æ³•ã€‚</p><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string</span></span><br><span class="line"><span class="built_in">type</span> <span class="built_in">Str</span> = <span class="built_in">Flatten</span>&lt;string[]&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// number</span></span><br><span class="line"><span class="built_in">type</span> Num = <span class="built_in">Flatten</span>&lt;number&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç¬¬ä¸€ä¸ªä¾‹å­<code>Flatten&lt;string[]&gt;</code>ä¼ å…¥çš„ç±»å‹å‚æ•°æ˜¯<code>string[]</code>ï¼Œå¯ä»¥æ¨æ–­å‡º<code>Item</code>çš„ç±»å‹æ˜¯<code>string</code>ï¼Œæ‰€ä»¥è¿”å›çš„æ˜¯<code>string</code>ã€‚ç¬¬äºŒä¸ªä¾‹å­<code>Flatten&lt;number&gt;</code>ä¼ å…¥çš„ç±»å‹å‚æ•°æ˜¯<code>number</code>ï¼Œå®ƒä¸æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥ç›´æ¥è¿”å›è‡ªèº«ã€‚</p><p>å¦‚æœä¸ç”¨<code>infer</code>å®šä¹‰ç±»å‹å‚æ•°ï¼Œé‚£ä¹ˆå°±è¦ä¼ å…¥ä¸¤ä¸ªç±»å‹å‚æ•°ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Flatten&lt;<span class="keyword">Type</span>, </span>Item&gt; =</span><br><span class="line">  <span class="keyword">Type</span> <span class="type">extends </span><span class="keyword">Array</span>&lt;Item&gt; ? Item : <span class="type">Type</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ä¸ä½¿ç”¨<code>infer</code>çš„å†™æ³•ï¼Œæ¯æ¬¡è°ƒç”¨<code>Flatten</code>çš„æ—¶å€™ï¼Œéƒ½è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œå°±æ¯”è¾ƒéº»çƒ¦ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨<code>infer</code>ï¼Œæ¨æ–­å‡½æ•°çš„å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ReturnPromise</span>&lt;T&gt; =</span><br><span class="line">  T <span class="keyword">extends</span> (...<span class="attr">args</span>: infer A) =&gt; infer R </span><br><span class="line">  ? <span class="function">(<span class="params">...args: A</span>) =&gt;</span> <span class="title class_">Promise</span>&lt;R&gt; </span><br><span class="line">  : T;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¦‚æœ<code>T</code>æ˜¯å‡½æ•°ï¼Œå°±è¿”å›è¿™ä¸ªå‡½æ•°çš„ Promise ç‰ˆæœ¬ï¼Œå¦åˆ™åŸæ ·è¿”å›ã€‚<code>infer A</code>è¡¨ç¤ºè¯¥å‡½æ•°çš„å‚æ•°ç±»å‹ä¸º<code>A</code>ï¼Œ<code>infer R</code>è¡¨ç¤ºè¯¥å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸º<code>R</code>ã€‚</p><p>å¦‚æœä¸ä½¿ç”¨<code>infer</code>ï¼Œå°±ä¸å¾—ä¸æŠŠ<code>ReturnPromise&lt;T&gt;</code>å†™æˆ<code>ReturnPromise&lt;T, A, R&gt;</code>ï¼Œè¿™æ ·å°±å¾ˆéº»çƒ¦ï¼Œç›¸å½“äºå¼€å‘è€…å¿…é¡»äººè‚‰æ¨æ–­ç¼–è¯‘å™¨å¯ä»¥å®Œæˆçš„å·¥ä½œã€‚</p><p>ä¸‹é¢æ˜¯<code>infer</code>æå–å¯¹è±¡æŒ‡å®šå±æ€§çš„ä¾‹å­ã€‚</p><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">MyType</span><span class="operator">&lt;</span>T<span class="operator">&gt;</span> <span class="operator">=</span></span><br><span class="line">  T <span class="keyword">extends</span> &#123;</span><br><span class="line">    a<span class="operator">:</span> infer M,</span><br><span class="line">    b<span class="operator">:</span> infer N</span><br><span class="line">  &#125; <span class="operator">?</span> [M, N] <span class="operator">:</span> never;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨æ³•ç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">T</span> <span class="operator">=</span> MyType<span class="operator">&lt;</span>&#123; a<span class="operator">:</span> <span class="type">string</span>; b<span class="operator">:</span> number &#125;<span class="operator">&gt;</span>;</span><br><span class="line"><span class="comment">// [string, number]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>infer</code>æå–äº†å‚æ•°å¯¹è±¡çš„å±æ€§<code>a</code>å’Œå±æ€§<code>b</code>çš„ç±»å‹ã€‚</p><p>ä¸‹é¢æ˜¯<code>infer</code>é€šè¿‡æ­£åˆ™åŒ¹é…æå–ç±»å‹å‚æ•°çš„ä¾‹å­ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Str</span> = <span class="string">&#x27;foo-bar&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">Bar</span> = <span class="title class_">Str</span> <span class="keyword">extends</span> <span class="string">`foo-<span class="subst">$&#123;infer rest&#125;</span>`</span> ? rest : <span class="built_in">never</span> <span class="comment">// &#x27;bar&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>rest</code>æ˜¯ä»æ¨¡æ¿å­—ç¬¦ä¸²æå–çš„ç±»å‹å‚æ•°ã€‚</p><h2 id="is-è¿ç®—ç¬¦">is è¿ç®—ç¬¦ <a href="about:blank#is-%E8%BF%90%E7%AE%97%E7%AC%A6">#</a></h2><p>å‡½æ•°è¿”å›å¸ƒå°”å€¼çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨<code>is</code>è¿ç®—ç¬¦ï¼Œé™å®šè¿”å›å€¼ä¸å‚æ•°ä¹‹é—´çš„å…³ç³»ã€‚</p><p><code>is</code>è¿ç®—ç¬¦ç”¨æ¥æè¿°è¿”å›å€¼å±äº<code>true</code>è¿˜æ˜¯<code>false</code>ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isFish</span><span class="params">(</span></span><br><span class="line"><span class="params">  pet: Fish|Bird</span></span><br><span class="line"><span class="params">)</span>:pet <span class="title function_">is</span> <span class="title function_">Fish</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (pet <span class="keyword">as</span> Fish).swim !== <span class="literal">undefined</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>isFish()</code>çš„è¿”å›å€¼ç±»å‹ä¸º<code>pet is Fish</code>ï¼Œè¡¨ç¤ºå¦‚æœå‚æ•°<code>pet</code>ç±»å‹ä¸º<code>Fish</code>ï¼Œåˆ™è¿”å›<code>true</code>ï¼Œå¦åˆ™è¿”å›<code>false</code>ã€‚</p><p><code>is</code>è¿ç®—ç¬¦æ€»æ˜¯ç”¨äºæè¿°å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼Œå†™æ³•é‡‡ç”¨<code>parameterName is Type</code>çš„å½¢å¼ï¼Œå³å·¦ä¾§ä¸ºå½“å‰å‡½æ•°çš„å‚æ•°åï¼Œå³ä¾§ä¸ºæŸä¸€ç§ç±»å‹ã€‚å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå·¦ä¾§å‚æ•°æ˜¯å¦å±äºå³ä¾§çš„ç±»å‹ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A </span>= &#123; a: string &#125;;</span><br><span class="line"><span class="keyword">type</span> <span class="type">B </span>= &#123; b: string &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title">isTypeA</span>(x: A|B): x <span class="keyword">is</span> A &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> x) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè¿”å›å€¼ç±»å‹<code>x is A</code>å¯ä»¥å‡†ç¡®æè¿°å‡½æ•°ä½“å†…éƒ¨çš„è¿ç®—é€»è¾‘ã€‚</p><p><code>is</code>è¿ç®—ç¬¦å¯ä»¥ç”¨äºç±»å‹ä¿æŠ¤ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isCat</span><span class="params">(a:any)</span>: a <span class="title function_">is</span> <span class="title function_">Cat</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a.name === <span class="string">&#x27;kitty&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let x:Cat|Dog;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (isCat(x)) &#123;</span><br><span class="line">  x.meow(); <span class="comment">// æ­£ç¡®ï¼Œå› ä¸º x è‚¯å®šæ˜¯ Cat ç±»å‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>isCat()</code>çš„è¿”å›ç±»å‹æ˜¯<code>a is Cat</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ã€‚åé¢çš„<code>if</code>è¯­å¥å°±ç”¨è¿™ä¸ªè¿”å›å€¼è¿›è¡Œåˆ¤æ–­ï¼Œä»è€Œèµ·åˆ°ç±»å‹ä¿æŠ¤çš„ä½œç”¨ï¼Œç¡®ä¿<code>x</code>æ˜¯ Cat ç±»å‹ï¼Œä»è€Œ<code>x.meow()</code>ä¸ä¼šæŠ¥é”™ï¼ˆå‡å®š<code>Cat</code>ç±»å‹æ‹¥æœ‰<code>meow()</code>æ–¹æ³•ï¼‰ã€‚</p><p><code>is</code>è¿ç®—ç¬¦è¿˜æœ‰ä¸€ç§ç‰¹æ®Šç”¨æ³•ï¼Œå°±æ˜¯ç”¨åœ¨ç±»ï¼ˆclassï¼‰çš„å†…éƒ¨ï¼Œæè¿°ç±»çš„æ–¹æ³•çš„è¿”å›å€¼ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span> &#123;</span><br><span class="line">  isStudent():<span class="keyword">this</span> <span class="keyword">is</span> Student &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">  isStudent():<span class="keyword">this</span> <span class="keyword">is</span> Student &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>isStudent()</code>æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼Œå–å†³äºè¯¥æ–¹æ³•å†…éƒ¨çš„<code>this</code>æ˜¯å¦ä¸º<code>Student</code>å¯¹è±¡ã€‚å¦‚æœæ˜¯çš„ï¼Œå°±è¿”å›å¸ƒå°”å€¼<code>true</code>ï¼Œå¦åˆ™è¿”å›<code>false</code>ã€‚</p><p>æ³¨æ„ï¼Œ<code>this is T</code>è¿™ç§å†™æ³•ï¼Œåªèƒ½ç”¨æ¥æè¿°æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼Œè€Œä¸èƒ½ç”¨æ¥æè¿°å±æ€§çš„ç±»å‹ã€‚</p><h2 id="æ¨¡æ¿å­—ç¬¦ä¸²">æ¨¡æ¿å­—ç¬¦ä¸² <a href="about:blank#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2">#</a></h2><p>TypeScript å…è®¸ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œæ„å»ºç±»å‹ã€‚</p><p>æ¨¡æ¿å­—ç¬¦ä¸²çš„æœ€å¤§ç‰¹ç‚¹ï¼Œå°±æ˜¯å†…éƒ¨å¯ä»¥å¼•ç”¨å…¶ä»–ç±»å‹ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">World</span> = &quot;world&quot;;</span><br><span class="line"></span><br><span class="line">// <span class="string">&quot;hello world&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">Greeting</span> = `hello $&#123;<span class="type">World</span>&#125;`;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>Greeting</code>æ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œé‡Œé¢å¼•ç”¨äº†å¦ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹<code>world</code>ï¼Œå› æ­¤<code>Greeting</code>å®é™…ä¸Šæ˜¯å­—ç¬¦ä¸²<code>hello world</code>ã€‚</p><p>æ³¨æ„ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥å¼•ç”¨çš„ç±»å‹ä¸€å…±7ç§ï¼Œåˆ†åˆ«æ˜¯ stringã€numberã€bigintã€booleanã€nullã€undefinedã€Enumã€‚å¼•ç”¨è¿™7ç§ä»¥å¤–çš„ç±»å‹ä¼šæŠ¥é”™ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Num</span> = 123;</span><br><span class="line"><span class="keyword">type</span> <span class="type">Obj</span> = &#123; n : 123 &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">T1</span> = `$&#123;<span class="type">Num</span>&#125; received`; // æ­£ç¡®</span><br><span class="line"><span class="keyword">type</span> <span class="type">T2</span> = `$&#123;<span class="type">Obj</span>&#125; received`; // æŠ¥é”™</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²å¼•ç”¨æ•°å€¼ç±»å‹çš„åˆ«å<code>Num</code>æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯å¼•ç”¨å¯¹è±¡ç±»å‹çš„åˆ«å<code>Obj</code>å°±ä¼šæŠ¥é”™ã€‚</p><p>æ¨¡æ¿å­—ç¬¦ä¸²é‡Œé¢å¼•ç”¨çš„ç±»å‹ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªè”åˆç±»å‹ï¼Œé‚£ä¹ˆå®ƒè¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªè”åˆç±»å‹ï¼Œå³æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥å±•å¼€è”åˆç±»å‹ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">T </span>= <span class="string">&#x27;A&#x27;</span>|<span class="string">&#x27;B&#x27;</span>;</span><br><span class="line"></span><br><span class="line">// <span class="string">&quot;A_id&quot;</span>|<span class="string">&quot;B_id&quot;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">U </span>= `$&#123;T&#125;_id`;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>U</code>æ˜¯ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ï¼Œé‡Œé¢å¼•ç”¨äº†ä¸€ä¸ªè”åˆç±»å‹<code>T</code>ï¼Œå¯¼è‡´æœ€åå¾—åˆ°çš„ä¹Ÿæ˜¯ä¸€ä¸ªè”åˆç±»å‹ã€‚</p><p>å¦‚æœæ¨¡æ¿å­—ç¬¦ä¸²å¼•ç”¨ä¸¤ä¸ªè”åˆç±»å‹ï¼Œå®ƒä¼šäº¤å‰å±•å¼€è¿™ä¸¤ä¸ªç±»å‹ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">T </span>= <span class="string">&#x27;A&#x27;</span>|<span class="string">&#x27;B&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">U </span>= <span class="string">&#x27;1&#x27;</span>|<span class="string">&#x27;2&#x27;</span>;</span><br><span class="line"></span><br><span class="line">// <span class="symbol">&#x27;A1</span><span class="string">&#x27;|&#x27;</span>A2<span class="string">&#x27;|&#x27;</span>B1<span class="string">&#x27;|&#x27;</span>B2&#x27;</span><br><span class="line"><span class="keyword">type</span> <span class="type">V </span>= `$&#123;T&#125;$&#123;U&#125;`;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>T</code>å’Œ<code>U</code>éƒ½æ˜¯è”åˆç±»å‹ï¼Œå„è‡ªæœ‰ä¸¤ä¸ªæˆå‘˜ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²é‡Œé¢å¼•ç”¨äº†è¿™ä¸¤ä¸ªç±»å‹ï¼Œæœ€åå¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ª4ä¸ªæˆå‘˜çš„è”åˆç±»å‹ã€‚</p><h2 id="satisfies-è¿ç®—ç¬¦">satisfies è¿ç®—ç¬¦ <a href="about:blank#satisfies-%E8%BF%90%E7%AE%97%E7%AC%A6">#</a></h2><p><code>satisfies</code>è¿ç®—ç¬¦ç”¨æ¥æ£€æµ‹æŸä¸ªå€¼æ˜¯å¦ç¬¦åˆæŒ‡å®šç±»å‹ã€‚æœ‰æ—¶å€™ï¼Œä¸æ–¹ä¾¿å°†æŸä¸ªå€¼æŒ‡å®šä¸ºæŸç§ç±»å‹ï¼Œä½†æ˜¯å¸Œæœ›è¿™ä¸ªå€¼ç¬¦åˆç±»å‹æ¡ä»¶ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨<code>satisfies</code>è¿ç®—ç¬¦å¯¹å…¶è¿›è¡Œæ£€æµ‹ã€‚<a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-9.html#the-satisfies-operator">TypeScript 4.9</a>æ·»åŠ äº†è¿™ä¸ªè¿ç®—ç¬¦ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªå¯¹è±¡çš„å±æ€§åæ‹¼å†™é”™è¯¯ã€‚</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const <span class="attr">palette</span> <span class="operator">=</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="symbol">  red:</span> [<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line"><span class="symbol">  green:</span> <span class="string">&quot;#00ff00&quot;</span>,</span><br><span class="line"><span class="symbol">  bleu:</span> [<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>] <span class="comment">// å±æ€§åæ‹¼å†™é”™è¯¯</span></span><br><span class="line"><span class="punctuation">&#125;;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¯¹è±¡<code>palette</code>çš„å±æ€§åæ‹¼å†™é”™äº†ï¼Œå°†<code>blue</code>æ‹¼æˆäº†<code>bleu</code>ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡æŒ‡å®šç±»å‹ï¼Œå‘ç°è¿™ä¸ªé”™è¯¯ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Colors</span> = <span class="string">&quot;red&quot;</span> | <span class="string">&quot;green&quot;</span> | <span class="string">&quot;blue&quot;</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">RGB</span> = [<span class="built_in">number</span>, <span class="built_in">number</span>, <span class="built_in">number</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">palette</span>: <span class="title class_">Record</span>&lt;<span class="title class_">Colors</span>, <span class="built_in">string</span>|<span class="variable constant_">RGB</span>&gt; = &#123;</span><br><span class="line">  <span class="attr">red</span>: [<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">  <span class="attr">green</span>: <span class="string">&quot;#00ff00&quot;</span>,</span><br><span class="line">  <span class="attr">bleu</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>] <span class="comment">// æŠ¥é”™</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>palette</code>çš„ç±»å‹è¢«æŒ‡å®šä¸º<code>Record&lt;Colors, string|RGB&gt;</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªç±»å‹å·¥å…·ï¼Œç”¨æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¦ç»†ä»‹ç»è§ã€Šç±»å‹å·¥å…·ã€‹ä¸€ç« ã€‚ç®€å•è¯´ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªç±»å‹å‚æ•°æŒ‡å®šå¯¹è±¡çš„å±æ€§åï¼Œç¬¬äºŒä¸ªç±»å‹å‚æ•°æŒ‡å®šå¯¹è±¡çš„å±æ€§å€¼ã€‚</p><p>æœ¬ä¾‹çš„<code>Record&lt;Colors, string|RGB&gt;</code>ï¼Œå°±è¡¨ç¤ºå˜é‡<code>palette</code>çš„å±æ€§ååº”è¯¥ç¬¦åˆç±»å‹<code>Colors</code>ï¼Œå±æ€§å€¼åº”è¯¥ç¬¦åˆç±»å‹<code>string|RGB</code>ï¼Œè¦ä¹ˆæ˜¯å­—ç¬¦ä¸²ï¼Œè¦ä¹ˆæ˜¯å…ƒç»„<code>RGB</code>ã€‚å±æ€§å<code>bleu</code>ä¸ç¬¦åˆç±»å‹<code>Colors</code>ï¼Œæ‰€ä»¥å°±æŠ¥é”™äº†ã€‚</p><p>è¿™æ ·çš„å†™æ³•ï¼Œè™½ç„¶å¯ä»¥å‘ç°å±æ€§åçš„æ‹¼å†™é”™è¯¯ï¼Œä½†æ˜¯å¸¦æ¥äº†æ–°çš„é—®é¢˜ã€‚</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> greenComponent = <span class="keyword">palette</span>.green.substring(1, 6); <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>palette.green</code>å±æ€§è°ƒç”¨<code>substring()</code>æ–¹æ³•ä¼šæŠ¥é”™ï¼ŒåŸå› æ˜¯è¿™ä¸ªæ–¹æ³•åªæœ‰å­—ç¬¦ä¸²æ‰æœ‰ï¼Œè€Œ<code>palette.green</code>çš„ç±»å‹æ˜¯<code>srting|RGB</code>ï¼Œé™¤äº†å­—ç¬¦ä¸²ï¼Œè¿˜å¯èƒ½æ˜¯å…ƒç»„<code>RGB</code>ï¼Œè€Œå…ƒç»„å¹¶ä¸å­˜åœ¨<code>substring()</code>æ–¹æ³•ï¼Œæ‰€ä»¥æŠ¥é”™äº†ã€‚</p><p>å¦‚æœè¦é¿å…æŠ¥é”™ï¼Œè¦ä¹ˆç²¾ç¡®ç»™å‡ºå˜é‡<code>palette</code>æ¯ä¸ªå±æ€§çš„ç±»å‹ï¼Œè¦ä¹ˆå¯¹<code>palette.green</code>çš„å€¼è¿›è¡Œç±»å‹ç¼©å°ã€‚ä¸¤ç§åšæ³•éƒ½æ¯”è¾ƒéº»çƒ¦ï¼Œä¹Ÿä¸æ˜¯å¾ˆæœ‰å¿…è¦ã€‚</p><p>è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨<code>satisfies</code>è¿ç®—ç¬¦ï¼Œå¯¹<code>palette</code>è¿›è¡Œç±»å‹æ£€æµ‹ï¼Œä½†æ˜¯ä¸æ”¹å˜ TypeScript å¯¹<code>palette</code>çš„ç±»å‹æ¨æ–­ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Colors</span> = <span class="string">&quot;red&quot;</span> | <span class="string">&quot;green&quot;</span> | <span class="string">&quot;blue&quot;</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="variable constant_">RGB</span> = [<span class="built_in">number</span>, <span class="built_in">number</span>, <span class="built_in">number</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> palette = &#123;</span><br><span class="line">  <span class="attr">red</span>: [<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">  <span class="attr">green</span>: <span class="string">&quot;#00ff00&quot;</span>,</span><br><span class="line">  <span class="attr">bleu</span>: [<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>] <span class="comment">// æŠ¥é”™</span></span><br><span class="line">&#125; satisfies <span class="title class_">Record</span>&lt;<span class="title class_">Colors</span>, <span class="built_in">string</span>|<span class="variable constant_">RGB</span>&gt;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> greenComponent = palette.<span class="property">green</span>.<span class="title function_">substring</span>(<span class="number">1</span>); <span class="comment">// ä¸æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>palette</code>çš„å€¼åé¢å¢åŠ äº†<code>satisfies Record&lt;Colors, string|RGB&gt;</code>ï¼Œè¡¨ç¤ºè¯¥å€¼å¿…é¡»æ»¡è¶³<code>Record&lt;Colors, string|RGB&gt;</code>è¿™ä¸ªæ¡ä»¶ï¼Œæ‰€ä»¥èƒ½å¤Ÿæ£€æµ‹å‡ºå±æ€§å<code>bleu</code>çš„æ‹¼å†™é”™è¯¯ã€‚åŒæ—¶ï¼Œå®ƒä¸ä¼šæ”¹å˜<code>palette</code>çš„ç±»å‹æ¨æ–­ï¼Œæ‰€ä»¥ï¼ŒTypeScript çŸ¥é“<code>palette.green</code>æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹å…¶è°ƒç”¨<code>substring()</code>æ–¹æ³•å°±ä¸ä¼šæŠ¥é”™ã€‚</p><p><code>satisfies</code>ä¹Ÿå¯ä»¥æ£€æµ‹å±æ€§å€¼ã€‚</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> palette = &#123;</span><br><span class="line">  <span class="built_in">red</span>: [<span class="number">255</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">  <span class="built_in">green</span>: <span class="string">&quot;#00ff00&quot;</span>,</span><br><span class="line">  <span class="built_in">blue</span>: [<span class="number">0</span>, <span class="number">0</span>] <span class="comment">// æŠ¥é”™</span></span><br><span class="line">&#125; satisfies Record&lt;Colors, string|RGB&gt;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå±æ€§<code>blue</code>çš„å€¼åªæœ‰ä¸¤ä¸ªæˆå‘˜ï¼Œä¸ç¬¦åˆå…ƒç»„<code>RGB</code>å¿…é¡»æœ‰ä¸‰ä¸ªæˆå‘˜çš„æ¡ä»¶ï¼Œä»è€ŒæŠ¥é”™äº†ã€‚</p><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/operator">https://wangdoc.com/typescript/operator</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript ç±»å‹è¿ç®—ç¬¦</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript d.ts ç±»å‹å£°æ˜æ–‡ä»¶</title>
    <link href="https://www.fomal.cc/posts/26.html"/>
    <id>https://www.fomal.cc/posts/26.html</id>
    <published>2023-06-20T10:50:00.000Z</published>
    <updated>2023-06-20T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>d.ts ç±»å‹å£°æ˜æ–‡ä»¶</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><h2 id="ç®€ä»‹">ç®€ä»‹ <a href="about:blank#%E7%AE%80%E4%BB%8B">#</a></h2><p>å•ç‹¬ä½¿ç”¨çš„æ¨¡å—ï¼Œä¸€èˆ¬ä¼šåŒæ—¶æä¾›ä¸€ä¸ªå•ç‹¬çš„ç±»å‹å£°æ˜æ–‡ä»¶ï¼ˆdeclaration fileï¼‰ï¼ŒæŠŠæœ¬æ¨¡å—çš„å¤–éƒ¨æ¥å£çš„æ‰€æœ‰ç±»å‹éƒ½å†™åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œä¾¿äºæ¨¡å—ä½¿ç”¨è€…äº†è§£æ¥å£ï¼Œä¹Ÿä¾¿äºç¼–è¯‘å™¨æ£€æŸ¥ä½¿ç”¨è€…çš„ç”¨æ³•æ˜¯å¦æ­£ç¡®ã€‚</p><p>ç±»å‹å£°æ˜æ–‡ä»¶é‡Œé¢åªæœ‰ç±»å‹ä»£ç ï¼Œæ²¡æœ‰å…·ä½“çš„ä»£ç å®ç°ã€‚å®ƒçš„æ–‡ä»¶åä¸€èˆ¬ä¸º<code>[æ¨¡å—å].d.ts</code>çš„å½¢å¼ï¼Œå…¶ä¸­çš„<code>d</code>è¡¨ç¤º declarationï¼ˆå£°æ˜ï¼‰ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªæ¨¡å—çš„ä»£ç å¦‚ä¸‹ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const maxInterval = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title">getArrayLength</span>(arr) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">arr.length</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  getArrayLength,</span><br><span class="line">  maxInterval,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å®ƒçš„ç±»å‹å£°æ˜æ–‡ä»¶å¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">export</span> function <span class="title">getArrayLength</span><span class="params">(arr: any[])</span>: number;</span></span><br><span class="line"><span class="keyword">export</span> <span class="type">const</span> maxInterval: <span class="number">12</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç±»å‹å£°æ˜æ–‡ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨<code>export =</code>å‘½ä»¤ï¼Œè¾“å‡ºå¯¹å¤–æ¥å£ã€‚ä¸‹é¢æ˜¯ moment æ¨¡å—çš„ç±»å‹å£°æ˜æ–‡ä»¶çš„ä¾‹å­ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;moment&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">moment</span>(<span class="params"></span>): <span class="built_in">any</span>;</span><br><span class="line">  <span class="keyword">export</span> = moment;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ¨¡å—<code>moment</code>å†…éƒ¨æœ‰ä¸€ä¸ªå‡½æ•°<code>moment()</code>ï¼Œè€Œ<code>export =</code>è¡¨ç¤º<code>module.exports</code>è¾“å‡ºçš„å°±æ˜¯è¿™ä¸ªå‡½æ•°ã€‚</p><p>é™¤äº†ä½¿ç”¨<code>export =</code>ï¼Œæ¨¡å—è¾“å‡ºåœ¨ç±»å‹å£°æ˜æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>export default</code>è¡¨ç¤ºã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¨¡å—è¾“å‡º</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="number">3.142</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»å‹è¾“å‡ºæ–‡ä»¶</span></span><br><span class="line"><span class="comment">// å†™æ³•ä¸€</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> <span class="attr">pi</span>: <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> pi;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•äºŒ</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> <span class="attr">pi</span>: <span class="built_in">number</span>;</span><br><span class="line"><span class="keyword">export</span>= pi;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨<code>export default</code>æˆ–<code>export =</code>è¡¨ç¤ºè¾“å‡ºè¿™ä¸ªå€¼ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¦‚ä½•ä½¿ç”¨ç±»å‹å£°æ˜æ–‡ä»¶çš„ç®€å•ä¾‹å­ã€‚æœ‰ä¸€ä¸ªç±»å‹å£°æ˜æ–‡ä»¶<code>types.d.ts</code>ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// types.d.ts</span></span><br><span class="line">export <span class="keyword">interface</span> <span class="symbol">Character</span> &#123;</span><br><span class="line">  catchphrase?: <span class="built_in">string</span>;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå°±å¯ä»¥åœ¨ TypeScript è„šæœ¬é‡Œé¢å¯¼å…¥è¯¥æ–‡ä»¶å£°æ˜çš„ç±»å‹ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// <span class="keyword">index</span>.ts</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="type">Character</span> &#125; <span class="keyword">from</span> &quot;./types&quot;;</span><br><span class="line"></span><br><span class="line">export const <span class="type">character</span>:<span class="type">Character</span> = &#123;</span><br><span class="line">  catchphrase: &quot;Yee-haw!&quot;,</span><br><span class="line">  <span class="type">name</span>: &quot;Sandy Cheeks&quot;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç±»å‹å£°æ˜æ–‡ä»¶ä¹Ÿå¯ä»¥åŒ…æ‹¬åœ¨é¡¹ç›®çš„ tsconfig.json æ–‡ä»¶é‡Œé¢ï¼Œè¿™æ ·çš„è¯ï¼Œç¼–è¯‘å™¨æ‰“åŒ…é¡¹ç›®æ—¶ï¼Œä¼šè‡ªåŠ¨å°†ç±»å‹å£°æ˜æ–‡ä»¶åŠ å…¥ç¼–è¯‘ï¼Œè€Œä¸å¿…åœ¨æ¯ä¸ªè„šæœ¬é‡Œé¢åŠ è½½ç±»å‹å£°æ˜æ–‡ä»¶ã€‚æ¯”å¦‚ï¼Œmoment æ¨¡å—çš„ç±»å‹å£°æ˜æ–‡ä»¶æ˜¯<code>moment.d.ts</code>ï¼Œä½¿ç”¨ moment æ¨¡å—çš„é¡¹ç›®å¯ä»¥å°†å…¶åŠ å…¥é¡¹ç›®çš„ tsconfig.json æ–‡ä»¶ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">&quot;files&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;src/index.ts&quot;</span>,</span><br><span class="line">    <span class="string">&quot;typings/moment.d.ts&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç±»å‹å£°æ˜æ–‡ä»¶çš„æ¥æº">ç±»å‹å£°æ˜æ–‡ä»¶çš„æ¥æº <a href="about:blank#%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6%E7%9A%84%E6%9D%A5%E6%BA%90">#</a></h2><p>ç±»å‹å£°æ˜æ–‡ä»¶ä¸»è¦æœ‰ä»¥ä¸‹ä¸‰ç§æ¥æºã€‚</p><ul><li>TypeScript ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆã€‚</li><li>TypeScript å†…ç½®ç±»å‹æ–‡ä»¶ã€‚</li><li>å¤–éƒ¨æ¨¡å—çš„ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œéœ€è¦è‡ªå·±å®‰è£…ã€‚</li></ul><h3 id="è‡ªåŠ¨ç”Ÿæˆ">è‡ªåŠ¨ç”Ÿæˆ <a href="about:blank#%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90">#</a></h3><p>åªè¦ä½¿ç”¨ç¼–è¯‘é€‰é¡¹<code>declaration</code>ï¼Œç¼–è¯‘å™¨å°±ä¼šåœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨ç”Ÿæˆå•ç‹¬çš„ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><p>ä¸‹é¢æ˜¯åœ¨<code>tsconfig.json</code>æ–‡ä»¶é‡Œé¢ï¼Œæ‰“å¼€è¿™ä¸ªé€‰é¡¹ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;declaration&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä½ ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡Œæ‰“å¼€è¿™ä¸ªé€‰é¡¹ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tsc <span class="comment">--declaration</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å†…ç½®å£°æ˜æ–‡ä»¶">å†…ç½®å£°æ˜æ–‡ä»¶ <a href="about:blank#%E5%86%85%E7%BD%AE%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6">#</a></h3><p>å®‰è£… TypeScript è¯­è¨€æ—¶ï¼Œä¼šåŒæ—¶å®‰è£…ä¸€äº›å†…ç½®çš„ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œä¸»è¦æ˜¯å†…ç½®çš„å…¨å±€å¯¹è±¡ï¼ˆJavaScript è¯­è¨€æ¥å£å’Œè¿è¡Œç¯å¢ƒ APIï¼‰çš„ç±»å‹å£°æ˜ã€‚</p><p>è¿™äº›å†…ç½®å£°æ˜æ–‡ä»¶ä½äº TypeScript è¯­è¨€å®‰è£…ç›®å½•çš„<code>lib</code>æ–‡ä»¶å¤¹å†…ï¼Œæ•°é‡å¤§æ¦‚æœ‰å‡ åä¸ªï¼Œä¸‹é¢æ˜¯å…¶ä¸­ä¸€äº›ä¸»è¦æ–‡ä»¶ã€‚</p><ul><li>lib.d.ts</li><li>lib.dom.d.ts</li><li>lib.es2015.d.ts</li><li>lib.es2016.d.ts</li><li>lib.es2017.d.ts</li><li>lib.es2018.d.ts</li><li>lib.es2019.d.ts</li><li>lib.es2020.d.ts</li><li>lib.es5.d.ts</li><li>lib.es6.d.ts</li></ul><p>è¿™äº›å†…ç½®å£°æ˜æ–‡ä»¶çš„æ–‡ä»¶åç»Ÿä¸€ä¸ºâ€œlib.[description].d.tsâ€çš„å½¢å¼ï¼Œå…¶ä¸­<code>description</code>éƒ¨åˆ†æè¿°äº†æ–‡ä»¶å†…å®¹ã€‚æ¯”å¦‚ï¼Œ<code>lib.dom.d.ts</code>è¿™ä¸ªæ–‡ä»¶å°±æè¿°äº† DOM ç»“æ„çš„ç±»å‹ã€‚</p><p>å¦‚æœå¼€å‘è€…æƒ³äº†è§£å…¨å±€å¯¹è±¡çš„ç±»å‹æ¥å£ï¼ˆæ¯”å¦‚ ES6 å…¨å±€å¯¹è±¡çš„ç±»å‹ï¼‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥å»æŸ¥çœ‹è¿™äº›å†…ç½®å£°æ˜æ–‡ä»¶ã€‚</p><p>TypeScript ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ ¹æ®ç¼–è¯‘ç›®æ ‡<code>target</code>çš„å€¼ï¼ŒåŠ è½½å¯¹åº”çš„å†…ç½®å£°æ˜æ–‡ä»¶ï¼Œæ‰€ä»¥ä¸éœ€è¦ç‰¹åˆ«çš„é…ç½®ã€‚ä½†æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨ç¼–è¯‘é€‰é¡¹<code>lib</code>ï¼ŒæŒ‡å®šåŠ è½½å“ªäº›å†…ç½®å£°æ˜æ–‡ä»¶ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;lib&quot;</span>: [<span class="string">&quot;dom&quot;</span>, <span class="string">&quot;es2021&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>lib</code>é€‰é¡¹æŒ‡å®šåŠ è½½<code>dom</code>å’Œ<code>es2021</code>è¿™ä¸¤ä¸ªå†…ç½®ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><p>ç¼–è¯‘é€‰é¡¹<code>noLib</code>ä¼šç¦æ­¢åŠ è½½ä»»ä½•å†…ç½®å£°æ˜æ–‡ä»¶ã€‚</p><h3 id="å¤–éƒ¨ç±»å‹å£°æ˜æ–‡ä»¶">å¤–éƒ¨ç±»å‹å£°æ˜æ–‡ä»¶ <a href="about:blank#%E5%A4%96%E9%83%A8%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6">#</a></h3><p>å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº†å¤–éƒ¨çš„æŸä¸ªç¬¬ä¸‰æ–¹ä»£ç åº“ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿™ä¸ªåº“çš„ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><p>è¿™æ—¶åˆåˆ†æˆä¸‰ç§æƒ…å†µã€‚</p><p>ï¼ˆ1ï¼‰è¿™ä¸ªåº“è‡ªå¸¦äº†ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœè¿™ä¸ªåº“çš„æºç åŒ…å«äº†<code>[vendor].d.ts</code>æ–‡ä»¶ï¼Œé‚£ä¹ˆå°±è‡ªå¸¦äº†ç±»å‹å£°æ˜æ–‡ä»¶ã€‚å…¶ä¸­çš„<code>vendor</code>è¡¨ç¤ºè¿™ä¸ªåº“çš„åå­—ï¼Œæ¯”å¦‚<code>moment</code>è¿™ä¸ªåº“å°±è‡ªå¸¦<code>moment.d.ts</code>ã€‚ä½¿ç”¨è¿™ä¸ªåº“å¯èƒ½éœ€è¦å•ç‹¬åŠ è½½å®ƒçš„ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><p>ï¼ˆ2ï¼‰è¿™ä¸ªåº“æ²¡æœ‰è‡ªå¸¦ï¼Œä½†æ˜¯å¯ä»¥æ‰¾åˆ°ç¤¾åŒºåˆ¶ä½œçš„ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><p>ç¬¬ä¸‰æ–¹åº“å¦‚æœæ²¡æœ‰æä¾›ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œç¤¾åŒºå¾€å¾€ä¼šæä¾›ã€‚TypeScript ç¤¾åŒºä¸»è¦ä½¿ç”¨ <a href="https://github.com/DefinitelyTyped/DefinitelyTyped">DefinitelyTyped ä»“åº“</a>ï¼Œå„ç§ç±»å‹å£°æ˜æ–‡ä»¶éƒ½ä¼šæäº¤åˆ°é‚£é‡Œï¼Œå·²ç»åŒ…å«äº†å‡ åƒä¸ªç¬¬ä¸‰æ–¹åº“ã€‚</p><p>è¿™äº›å£°æ˜æ–‡ä»¶éƒ½ä¼šä½œä¸ºä¸€ä¸ªå•ç‹¬çš„åº“ï¼Œå‘å¸ƒåˆ° npm çš„<code>@types</code>åç§°ç©ºé—´ä¹‹ä¸‹ã€‚æ¯”å¦‚ï¼ŒjQuery çš„ç±»å‹å£°æ˜æ–‡ä»¶å°±å‘å¸ƒæˆ<code>@types/jquery</code>è¿™ä¸ªåº“ï¼Œä½¿ç”¨æ—¶å®‰è£…è¿™ä¸ªåº“å°±å¯ä»¥äº†ã€‚</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">npm</span> install @types/jquery --save-dev</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œ<code>@types/jquery</code>è¿™ä¸ªåº“å°±å®‰è£…åˆ°é¡¹ç›®çš„<code>node_modules/@types/jquery</code>ç›®å½•ï¼Œé‡Œé¢çš„<code>index.d.ts</code>æ–‡ä»¶å°±æ˜¯ jQuery çš„ç±»å‹å£°æ˜æ–‡ä»¶ã€‚å¦‚æœç±»å‹å£°æ˜æ–‡ä»¶ä¸æ˜¯<code>index.d.ts</code>ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨<code>package.json</code>çš„<code>types</code>æˆ–<code>typings</code>å­—æ®µï¼ŒæŒ‡å®šç±»å‹å£°æ˜æ–‡ä»¶çš„æ–‡ä»¶åã€‚</p><p>TypeScript ä¼šè‡ªåŠ¨åŠ è½½<code>node_modules/@types</code>ç›®å½•ä¸‹çš„æ¨¡å—ï¼Œä½†å¯ä»¥ä½¿ç”¨ç¼–è¯‘é€‰é¡¹<code>typeRoots</code>æ”¹å˜è¿™ç§è¡Œä¸ºã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;typeRoots&quot;</span>: [<span class="string">&quot;./typings&quot;</span>, <span class="string">&quot;./vendor/types&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹è¡¨ç¤ºï¼ŒTypeScript ä¸å†å»<code>node_modules/@types</code>ç›®å½•ï¼Œè€Œæ˜¯å»è·Ÿå½“å‰<code>tsconfig.json</code>åŒçº§çš„<code>typings</code>å’Œ<code>vendor/types</code>å­ç›®å½•ï¼ŒåŠ è½½ç±»å‹æ¨¡å—äº†ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒTypeScript ä¼šè‡ªåŠ¨åŠ è½½<code>typeRoots</code>ç›®å½•é‡Œçš„æ‰€æœ‰æ¨¡å—ï¼Œç¼–è¯‘é€‰é¡¹<code>types</code>å¯ä»¥æŒ‡å®šåŠ è½½å“ªäº›æ¨¡å—ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;types&quot;</span> : [<span class="string">&quot;jquery&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è®¾ç½®ä¸­ï¼Œ<code>types</code>å±æ€§æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæˆå‘˜æ˜¯æ‰€è¦åŠ è½½çš„ç±»å‹æ¨¡å—ï¼Œè¦åŠ è½½å‡ ä¸ªæ¨¡å—ï¼Œè¿™ä¸ªæ•°ç»„å°±æœ‰å‡ ä¸ªæˆå‘˜ï¼Œæ¯ä¸ªç±»å‹æ¨¡å—åœ¨<code>typeRoots</code>ç›®å½•ä¸‹éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å­ç›®å½•ã€‚è¿™æ ·çš„è¯ï¼ŒTypeScript å°±ä¼šè‡ªåŠ¨å»<code>jquery</code>å­ç›®å½•ï¼ŒåŠ è½½ jQuery çš„ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><p>ï¼ˆ3ï¼‰æ‰¾ä¸åˆ°ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œéœ€è¦è‡ªå·±å†™ã€‚</p><p>æœ‰æ—¶å®åœ¨æ²¡æœ‰ç¬¬ä¸‰æ–¹åº“çš„ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œåˆå¾ˆéš¾å®Œæ•´ç»™å‡ºè¯¥åº“çš„ç±»å‹æè¿°ï¼Œè¿™æ—¶ä½ å¯ä»¥å‘Šè¯‰ TypeScript ç›¸å…³å¯¹è±¡çš„ç±»å‹æ˜¯<code>any</code>ã€‚æ¯”å¦‚ï¼Œä½¿ç”¨ jQuery çš„è„šæœ¬å¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">var</span> <span class="attr">$</span>:<span class="built_in">any</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">type</span> <span class="title class_">JQuery</span> = <span class="built_in">any</span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">var</span> <span class="attr">$</span>:<span class="title class_">JQuery</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼ŒjQuery çš„<code>$</code>å¯¹è±¡æ˜¯å¤–éƒ¨å¼•å…¥çš„ï¼Œç±»å‹æ˜¯<code>any</code>ï¼Œä¹Ÿå°±æ˜¯ TypeScript ä¸ç”¨å¯¹å®ƒè¿›è¡Œç±»å‹æ£€æŸ¥ã€‚</p><p>ä¹Ÿå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ï¼Œå°†æ•´ä¸ªå¤–éƒ¨æ¨¡å—çš„ç±»å‹è®¾ä¸º<code>any</code>ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">module</span> <span class="string">&#x27;æ¨¡å—å&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ‰äº†ä¸Šé¢çš„å‘½ä»¤ï¼ŒæŒ‡å®šæ¨¡å—çš„æ‰€æœ‰æ¥å£éƒ½å°†è§†ä¸º<code>any</code>ç±»å‹ã€‚</p><h2 id="declare-å…³é”®å­—">declare å…³é”®å­— <a href="about:blank#declare-%E5%85%B3%E9%94%AE%E5%AD%97">#</a></h2><p>ç±»å‹å£°æ˜æ–‡ä»¶åªåŒ…å«ç±»å‹æè¿°ï¼Œä¸åŒ…å«å…·ä½“å®ç°ï¼Œæ‰€ä»¥éå¸¸é€‚åˆä½¿ç”¨ declare è¯­å¥æ¥æè¿°ç±»å‹ã€‚declare å…³é”®å­—çš„å…·ä½“ç”¨æ³•ï¼Œè¯¦è§ã€Šdeclare å…³é”®å­—ã€‹ä¸€ç« ï¼Œè¿™é‡Œè®²è§£å¦‚ä½•åœ¨ç±»å‹å£°æ˜æ–‡ä»¶é‡Œé¢ä½¿ç”¨å®ƒã€‚</p><p>ç±»å‹å£°æ˜æ–‡ä»¶é‡Œé¢ï¼Œå˜é‡çš„ç±»å‹æè¿°å¿…é¡»ä½¿ç”¨<code>declare</code>å‘½ä»¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œå› ä¸ºå˜é‡å£°æ˜è¯­å¥æ˜¯å€¼ç›¸å…³ä»£ç ã€‚</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">let</span> foo:<span class="keyword">string</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>interface ç±»å‹æœ‰æ²¡æœ‰<code>declare</code>éƒ½å¯ä»¥ï¼Œå› ä¸º interface æ˜¯å®Œå…¨çš„ç±»å‹ä»£ç ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="symbol">Foo</span> &#123;&#125; <span class="comment">// æ­£ç¡®</span></span><br><span class="line">declare <span class="keyword">interface</span> <span class="symbol">Foo</span> &#123;&#125; <span class="comment">// æ­£ç¡®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç±»å‹å£°æ˜æ–‡ä»¶é‡Œé¢ï¼Œé¡¶å±‚å¯ä»¥ä½¿ç”¨<code>export</code>å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ï¼Œé™¤éä½¿ç”¨è€…è„šæœ¬ä¼šæ˜¾å¼ä½¿ç”¨<code>export</code>å‘½ä»¤è¾“å…¥ç±»å‹ã€‚</p><figure class="highlight d"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> Data &#123;</span><br><span class="line">  <span class="keyword">version</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ç±»å‹å£°æ˜æ–‡ä»¶çš„ä¸€äº›ä¾‹å­ã€‚å…ˆçœ‹ moment æ¨¡å—çš„ç±»å‹æè¿°æ–‡ä»¶<code>moment.d.ts</code>ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> module <span class="string">&#x27;moment&#x27;</span> &#123;</span><br><span class="line">  export <span class="class"><span class="keyword">interface</span> <span class="title">Moment</span> </span>&#123;</span><br><span class="line">    <span class="title function_ invoke__">format</span>(<span class="attr">format</span>:<span class="keyword">string</span>): <span class="keyword">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_ invoke__">add</span>(</span><br><span class="line">      <span class="attr">amount</span>: number,</span><br><span class="line">      <span class="attr">unit</span>: <span class="string">&#x27;days&#x27;</span> | <span class="string">&#x27;months&#x27;</span> | <span class="string">&#x27;years&#x27;</span></span><br><span class="line">    ): Moment;</span><br><span class="line"></span><br><span class="line">    <span class="title function_ invoke__">subtract</span>(</span><br><span class="line">      <span class="attr">amount</span>:number,</span><br><span class="line">      <span class="attr">unit</span>:<span class="string">&#x27;days&#x27;</span> | <span class="string">&#x27;months&#x27;</span> | <span class="string">&#x27;years&#x27;</span></span><br><span class="line">    ): Moment;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">moment</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    input?: <span class="keyword">string</span> | Date</span></span></span><br><span class="line"><span class="params"><span class="function">  </span>): <span class="title">Moment</span></span>;</span><br><span class="line"></span><br><span class="line">  export <span class="keyword">default</span> moment;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¯ä»¥æ³¨æ„ä¸€ä¸‹é»˜è®¤æ¥å£<code>moment()</code>çš„å†™æ³•ã€‚</p><p>ä¸‹é¢æ˜¯ D3 åº“çš„ç±»å‹å£°æ˜æ–‡ä»¶<code>D3.d.ts</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> D3 &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">Selectors</span> &#123;</span><br><span class="line">    <span class="attr">select</span>: &#123;</span><br><span class="line">      (<span class="attr">selector</span>: <span class="built_in">string</span>): <span class="title class_">Selection</span>;</span><br><span class="line">      (<span class="attr">element</span>: <span class="title class_">EventTarget</span>): <span class="title class_">Selection</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">Event</span> &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="built_in">number</span>;</span><br><span class="line">    <span class="attr">y</span>: <span class="built_in">number</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">Base</span> <span class="keyword">extends</span> <span class="title class_">Selectors</span> &#123;</span><br><span class="line">    <span class="attr">event</span>: <span class="title class_">Event</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">var</span> <span class="attr">d3</span>: <span class="variable constant_">D3</span>.<span class="property">Base</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ¨¡å—å‘å¸ƒ">æ¨¡å—å‘å¸ƒ <a href="about:blank#%E6%A8%A1%E5%9D%97%E5%8F%91%E5%B8%83">#</a></h2><p>å½“å‰æ¨¡å—å¦‚æœåŒ…å«è‡ªå·±çš„ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œå¯ä»¥åœ¨ package.json æ–‡ä»¶é‡Œé¢æ·»åŠ ä¸€ä¸ª<code>types</code>å­—æ®µæˆ–<code>typings</code>å­—æ®µï¼ŒæŒ‡æ˜ç±»å‹å£°æ˜æ–‡ä»¶çš„ä½ç½®ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;awesome&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Vandelay Industries&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./lib/main.js&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;types&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./lib/main.d.ts&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>types</code>å­—æ®µç»™å‡ºäº†ç±»å‹å£°æ˜æ–‡ä»¶çš„ä½ç½®ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœç±»å‹å£°æ˜æ–‡ä»¶åä¸º<code>index.d.ts</code>ï¼Œä¸”åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ï¼Œé‚£å°±ä¸éœ€è¦åœ¨<code>package.json</code>é‡Œé¢æ³¨æ˜äº†ã€‚</p><p>æœ‰æ—¶ï¼Œç±»å‹å£°æ˜æ–‡ä»¶ä¼šå•ç‹¬å‘å¸ƒæˆä¸€ä¸ª npm æ¨¡å—ï¼Œè¿™æ—¶ç”¨æˆ·å°±å¿…é¡»åŒæ—¶åŠ è½½è¯¥æ¨¡å—ã€‚</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;browserify-typescript-extension&quot;</span>,</span><br><span class="line">  <span class="string">&quot;author&quot;</span>: <span class="string">&quot;Vandelay Industries&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;./lib/main.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;types&quot;</span>: <span class="string">&quot;./lib/main.d.ts&quot;</span>,</span><br><span class="line">  <span class="string">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;browserify&quot;</span>: <span class="string">&quot;latest&quot;</span>,</span><br><span class="line">    <span class="string">&quot;@types/browserify&quot;</span>: <span class="string">&quot;latest&quot;</span>,</span><br><span class="line">    <span class="string">&quot;typescript&quot;</span>: <span class="string">&quot;next&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹æ˜¯ä¸€ä¸ªæ¨¡å—çš„ package.json æ–‡ä»¶ï¼Œè¯¥æ¨¡å—éœ€è¦ browserify æ¨¡å—ã€‚ç”±äºåè€…çš„ç±»å‹å£°æ˜æ–‡ä»¶æ˜¯ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—<code>@types/browserify</code>ï¼Œæ‰€ä»¥è¿˜éœ€è¦åŠ è½½é‚£ä¸ªæ¨¡å—ã€‚</p><h2 id="ä¸‰æ–œæ å‘½ä»¤">ä¸‰æ–œæ å‘½ä»¤ <a href="about:blank#%E4%B8%89%E6%96%9C%E6%9D%A0%E5%91%BD%E4%BB%A4">#</a></h2><p>å¦‚æœç±»å‹å£°æ˜æ–‡ä»¶çš„å†…å®¹éå¸¸å¤šï¼Œå¯ä»¥æ‹†åˆ†æˆå¤šä¸ªæ–‡ä»¶ï¼Œç„¶åå…¥å£æ–‡ä»¶ä½¿ç”¨ä¸‰æ–œæ å‘½ä»¤ï¼ŒåŠ è½½å…¶ä»–æ‹†åˆ†åçš„æ–‡ä»¶ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå…¥å£æ–‡ä»¶æ˜¯<code>main.d.ts</code>ï¼Œé‡Œé¢çš„æ¥å£å®šä¹‰åœ¨<code>interfaces.d.ts</code>ï¼Œå‡½æ•°å®šä¹‰åœ¨<code>functions.d.ts</code>ã€‚é‚£ä¹ˆï¼Œ<code>main.d.ts</code>é‡Œé¢å¯ä»¥ç”¨ä¸‰æ–œæ å‘½ä»¤ï¼ŒåŠ è½½åé¢ä¸¤ä¸ªæ–‡ä»¶ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;reference path<span class="operator">=</span><span class="string">&quot;./interfaces.d.ts&quot;</span> /&gt;</span><br><span class="line">/// &lt;reference path<span class="operator">=</span><span class="string">&quot;./functions.d.ts&quot;</span> /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸‰æ–œæ å‘½ä»¤ï¼ˆ<code>///</code>ï¼‰æ˜¯ä¸€ä¸ª TypeScript ç¼–è¯‘å™¨å‘½ä»¤ï¼Œç”¨æ¥æŒ‡å®šç¼–è¯‘å™¨è¡Œä¸ºã€‚å®ƒåªèƒ½ç”¨åœ¨æ–‡ä»¶çš„å¤´éƒ¨ï¼Œå¦‚æœç”¨åœ¨å…¶ä»–åœ°æ–¹ï¼Œä¼šè¢«å½“ä½œæ™®é€šçš„æ³¨é‡Šã€‚å¦å¤–ï¼Œè‹¥ä¸€ä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨äº†ä¸‰æ–œçº¿å‘½ä»¤ï¼Œé‚£ä¹ˆåœ¨ä¸‰æ–œçº¿å‘½ä»¤ä¹‹å‰åªå…è®¸ä½¿ç”¨å•è¡Œæ³¨é‡Šã€å¤šè¡Œæ³¨é‡Šå’Œå…¶ä»–ä¸‰æ–œçº¿å‘½ä»¤ï¼Œå¦åˆ™ä¸‰æ–œæ å‘½ä»¤ä¹Ÿä¼šè¢«å½“ä½œæ™®é€šçš„æ³¨é‡Šã€‚</p><p>é™¤äº†æ‹†åˆ†ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œä¸‰æ–œæ å‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºæ™®é€šè„šæœ¬åŠ è½½ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><p>ä¸‰æ–œæ å‘½ä»¤ä¸»è¦åŒ…å«ä¸‰ä¸ªå‚æ•°ï¼Œä»£è¡¨ä¸‰ç§ä¸åŒçš„å‘½ä»¤ã€‚</p><ul><li>path</li><li>types</li><li>lib</li></ul><p>ä¸‹é¢ä¾æ¬¡è¿›è¡Œè®²è§£ã€‚</p><h3 id="reference-path"><code>/// &lt;reference path=&quot;&quot; /&gt;</code> <a href="about:blank#-reference-path-">#</a></h3><p><code>/// &lt;reference path=&quot;&quot; /&gt;</code>æ˜¯æœ€å¸¸è§çš„ä¸‰æ–œæ å‘½ä»¤ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æ—¶éœ€è¦åŒ…æ‹¬çš„æ–‡ä»¶ï¼Œå¸¸ç”¨æ¥å£°æ˜å½“å‰è„šæœ¬ä¾èµ–çš„ç±»å‹æ–‡ä»¶ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;reference path=&quot;./lib.ts&quot; /&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> count = <span class="keyword">add</span>(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹è¡¨ç¤ºï¼Œå½“å‰è„šæœ¬ä¾èµ–äº<code>./lib.ts</code>ï¼Œé‡Œé¢æ˜¯<code>add()</code>çš„å®šä¹‰ã€‚ç¼–è¯‘å½“å‰è„šæœ¬æ—¶ï¼Œè¿˜ä¼šåŒæ—¶ç¼–è¯‘<code>./lib.ts</code>ã€‚ç¼–è¯‘äº§ç‰©ä¼šæœ‰ä¸¤ä¸ª JS æ–‡ä»¶ï¼Œä¸€ä¸ªå½“å‰è„šæœ¬ï¼Œå¦ä¸€ä¸ªå°±æ˜¯<code>./lib.js</code>ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ˜¯å½“å‰è„šæœ¬ä¾èµ–äº Node.js ç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;reference path<span class="operator">=</span><span class="string">&quot;node.d.ts&quot;</span>/&gt;</span><br><span class="line">import * as URL from <span class="string">&quot;url&quot;</span><span class="comment">;</span></span><br><span class="line">let myUrl <span class="operator">=</span> URL.parse(<span class="string">&quot;https://www.typescriptlang.org&quot;</span>)<span class="comment">;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å™¨ä¼šåœ¨é¢„å¤„ç†é˜¶æ®µï¼Œæ‰¾å‡ºæ‰€æœ‰ä¸‰æ–œæ å¼•ç”¨çš„æ–‡ä»¶ï¼Œå°†å…¶æ·»åŠ åˆ°ç¼–è¯‘åˆ—è¡¨ä¸­ï¼Œç„¶åä¸€èµ·ç¼–è¯‘ã€‚</p><p><code>path</code>å‚æ•°æŒ‡å®šäº†æ‰€å¼•å…¥æ–‡ä»¶çš„è·¯å¾„ã€‚å¦‚æœè¯¥è·¯å¾„æ˜¯ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼Œåˆ™åŸºäºå½“å‰è„šæœ¬çš„è·¯å¾„è¿›è¡Œè®¡ç®—ã€‚</p><p>ä½¿ç”¨è¯¥å‘½ä»¤æ—¶ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ³¨æ„äº‹é¡¹ã€‚</p><ul><li><code>path</code>å‚æ•°å¿…é¡»æŒ‡å‘ä¸€ä¸ªå­˜åœ¨çš„æ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶ä¸å­˜åœ¨ä¼šæŠ¥é”™ã€‚</li><li><code>path</code>å‚æ•°ä¸å…è®¸æŒ‡å‘å½“å‰æ–‡ä»¶ã€‚</li></ul><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªä¸‰æ–œæ å‘½ä»¤å¼•å…¥çš„è„šæœ¬ï¼Œéƒ½ä¼šç¼–è¯‘æˆå•ç‹¬çš„ JS æ–‡ä»¶ã€‚å¦‚æœå¸Œæœ›ç¼–è¯‘ååªäº§å‡ºä¸€ä¸ªåˆå¹¶æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ç¼–è¯‘é€‰é¡¹<code>outFile</code>ã€‚ä½†æ˜¯ï¼Œ<code>outFile</code>ç¼–è¯‘é€‰é¡¹ä¸æ”¯æŒåˆå¹¶ CommonJS æ¨¡å—å’Œ ES æ¨¡å—ï¼Œåªæœ‰å½“ç¼–è¯‘å‚æ•°<code>module</code>çš„å€¼è®¾ä¸º Noneã€System æˆ– AMD æ—¶ï¼Œæ‰èƒ½ç¼–è¯‘æˆä¸€ä¸ªæ–‡ä»¶ã€‚</p><p>å¦‚æœæ‰“å¼€äº†ç¼–è¯‘å‚æ•°<code>noResolve</code>ï¼Œåˆ™å¿½ç•¥ä¸‰æ–œæ æŒ‡ä»¤ã€‚å°†å…¶å½“ä½œä¸€èˆ¬çš„æ³¨é‡Šï¼ŒåŸæ ·ä¿ç•™åœ¨ç¼–è¯‘äº§ç‰©ä¸­ã€‚</p><h3 id="reference-types"><code>/// &lt;reference types=&quot;&quot; /&gt;</code> <a href="about:blank#-reference-types-">#</a></h3><p>types å‚æ•°ç”¨æ¥å‘Šè¯‰ç¼–è¯‘å™¨å½“å‰è„šæœ¬ä¾èµ–æŸä¸ª DefinitelyTyped ç±»å‹åº“ï¼Œé€šå¸¸å®‰è£…åœ¨<code>node_modules/@types</code>ç›®å½•ã€‚</p><p>types å‚æ•°çš„å€¼æ˜¯ç±»å‹åº“çš„åç§°ï¼Œä¹Ÿå°±æ˜¯å®‰è£…åˆ°<code>node_modules/@types</code>ç›®å½•ä¸­çš„å­ç›®å½•çš„åå­—ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;reference types<span class="operator">=</span><span class="string">&quot;node&quot;</span> /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè¿™ä¸ªä¸‰æ–œæ å‘½ä»¤è¡¨ç¤ºç¼–è¯‘æ—¶æ·»åŠ  Node.js çš„ç±»å‹åº“ï¼Œå®é™…æ·»åŠ çš„è„šæœ¬æ˜¯<code>node_modules</code>ç›®å½•é‡Œé¢çš„<code>@types/node/index.d.ts</code>ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªå‘½ä»¤çš„ä½œç”¨ç±»ä¼¼äº<code>import</code>å‘½ä»¤ã€‚</p><p>æ³¨æ„ï¼Œè¿™ä¸ªå‘½ä»¤åªåœ¨ä½ è‡ªå·±æ‰‹å†™ç±»å‹å£°æ˜æ–‡ä»¶ï¼ˆ<code>.d.ts</code>æ–‡ä»¶ï¼‰æ—¶ï¼Œæ‰æœ‰å¿…è¦ç”¨åˆ°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªåº”è¯¥ç”¨åœ¨<code>.d.ts</code>æ–‡ä»¶ä¸­ï¼Œæ™®é€šçš„<code>.ts</code>è„šæœ¬æ–‡ä»¶ä¸éœ€è¦å†™è¿™ä¸ªå‘½ä»¤ã€‚å¦‚æœæ˜¯æ™®é€šçš„<code>.ts</code>è„šæœ¬ï¼Œå¯ä»¥ä½¿ç”¨<code>tsconfig.json</code>æ–‡ä»¶çš„<code>types</code>å±æ€§æŒ‡å®šä¾èµ–çš„ç±»å‹åº“ã€‚</p><h3 id="reference-lib"><code>/// &lt;reference lib=&quot;&quot; /&gt;</code> <a href="about:blank#-reference-lib-">#</a></h3><p><code>/// &lt;reference lib=&quot;...&quot; /&gt;</code>å‘½ä»¤å…è®¸è„šæœ¬æ–‡ä»¶æ˜¾å¼åŒ…å«å†…ç½® lib åº“ï¼Œç­‰åŒäºåœ¨<code>tsconfig.json</code>æ–‡ä»¶é‡Œé¢ä½¿ç”¨<code>lib</code>å±æ€§æŒ‡å®š lib åº“ã€‚</p><p>å‰æ–‡è¯´è¿‡ï¼Œå®‰è£… TypeScript è½¯ä»¶åŒ…æ—¶ï¼Œä¼šåŒæ—¶å®‰è£…ä¸€äº›å†…ç½®çš„ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œå³å†…ç½®çš„ lib åº“ã€‚è¿™äº›åº“æ–‡ä»¶ä½äº TypeScript å®‰è£…ç›®å½•çš„<code>lib</code>æ–‡ä»¶å¤¹ä¸­ï¼Œå®ƒä»¬æè¿°äº† JavaScript è¯­è¨€å’Œå¼•æ“çš„æ ‡å‡† APIã€‚</p><p>åº“æ–‡ä»¶å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œä¼šéšç€ TypeScript ç‰ˆæœ¬çš„å‡çº§è€Œæ›´æ–°ã€‚åº“æ–‡ä»¶ç»Ÿä¸€ä½¿ç”¨â€œlib.[description].d.tsâ€çš„å‘½åæ–¹å¼ï¼Œè€Œ<code>/// &lt;reference lib=&quot;&quot; /&gt;</code>é‡Œé¢çš„<code>lib</code>å±æ€§çš„å€¼å°±æ˜¯åº“æ–‡ä»¶åçš„<code>description</code>éƒ¨åˆ†ï¼Œæ¯”å¦‚<code>lib=&quot;es2015&quot;</code>å°±è¡¨ç¤ºåŠ è½½åº“æ–‡ä»¶<code>lib.es2015.d.ts</code>ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;reference lib<span class="operator">=</span><span class="string">&quot;es2017.string&quot;</span> /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>es2017.string</code>å¯¹åº”çš„åº“æ–‡ä»¶å°±æ˜¯<code>lib.es2017.string.d.ts</code>ã€‚</p><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/d.ts">https://wangdoc.com/typescript/d.ts</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript d.ts ç±»å‹å£°æ˜æ–‡ä»¶</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript declare å…³é”®å­—</title>
    <link href="https://www.fomal.cc/posts/25.html"/>
    <id>https://www.fomal.cc/posts/25.html</id>
    <published>2023-06-19T10:50:00.000Z</published>
    <updated>2023-06-19T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>declare å…³é”®å­—</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><h2 id="ç®€ä»‹">ç®€ä»‹ <a href="about:blank#%E7%AE%80%E4%BB%8B">#</a></h2><p>declare å…³é”®å­—ç”¨æ¥å‘Šè¯‰ç¼–è¯‘å™¨ï¼ŒæŸä¸ªç±»å‹æ˜¯å­˜åœ¨çš„ï¼Œå¯ä»¥åœ¨å½“å‰æ–‡ä»¶ä¸­ä½¿ç”¨ã€‚</p><p>å®ƒçš„ä¸»è¦ä½œç”¨ï¼Œå°±æ˜¯è®©å½“å‰æ–‡ä»¶å¯ä»¥ä½¿ç”¨å…¶ä»–æ–‡ä»¶å£°æ˜çš„ç±»å‹ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œè‡ªå·±çš„è„šæœ¬ä½¿ç”¨å¤–éƒ¨åº“å®šä¹‰çš„å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šå› ä¸ºä¸çŸ¥é“å¤–éƒ¨å‡½æ•°çš„ç±»å‹å®šä¹‰è€ŒæŠ¥é”™ï¼Œè¿™æ—¶å°±å¯ä»¥åœ¨è‡ªå·±çš„è„šæœ¬é‡Œé¢ä½¿ç”¨<code>declare</code>å…³é”®å­—ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨å¤–éƒ¨å‡½æ•°çš„ç±»å‹ã€‚è¿™æ ·çš„è¯ï¼Œç¼–è¯‘å•ä¸ªè„šæœ¬å°±ä¸ä¼šå› ä¸ºä½¿ç”¨äº†å¤–éƒ¨ç±»å‹è€ŒæŠ¥é”™ã€‚</p><p>declare å…³é”®å­—å¯ä»¥æè¿°ä»¥ä¸‹ç±»å‹ã€‚</p><ul><li>å˜é‡ï¼ˆconstã€letã€var å‘½ä»¤å£°æ˜ï¼‰</li><li>type æˆ–è€… interface å‘½ä»¤å£°æ˜çš„ç±»å‹</li><li>class</li><li>enum</li><li>å‡½æ•°ï¼ˆfunctionï¼‰</li><li>æ¨¡å—ï¼ˆmoduleï¼‰</li><li>å‘½åç©ºé—´ï¼ˆnamespaceï¼‰</li></ul><p>declare å…³é”®å­—çš„é‡è¦ç‰¹ç‚¹æ˜¯ï¼Œå®ƒåªæ˜¯é€šçŸ¥ç¼–è¯‘å™¨æŸä¸ªç±»å‹æ˜¯å­˜åœ¨çš„ï¼Œä¸ç”¨ç»™å‡ºå…·ä½“å®ç°ã€‚æ¯”å¦‚ï¼Œåªæè¿°å‡½æ•°çš„ç±»å‹ï¼Œä¸ç»™å‡ºå‡½æ•°çš„å®ç°ï¼Œå¦‚æœä¸ä½¿ç”¨<code>declare</code>ï¼Œè¿™æ˜¯åšä¸åˆ°çš„ã€‚</p><p>declare åªèƒ½ç”¨æ¥æè¿°å·²ç»å­˜åœ¨çš„å˜é‡å’Œæ•°æ®ç»“æ„ï¼Œä¸èƒ½ç”¨æ¥å£°æ˜æ–°çš„å˜é‡å’Œæ•°æ®ç»“æ„ã€‚å¦å¤–ï¼Œæ‰€æœ‰ declare è¯­å¥éƒ½ä¸ä¼šå‡ºç°åœ¨ç¼–è¯‘åçš„æ–‡ä»¶é‡Œé¢ã€‚</p><h2 id="declare-variable">declare variable <a href="about:blank#declare-variable">#</a></h2><p>declare å…³é”®å­—å¯ä»¥ç»™å‡ºå¤–éƒ¨å˜é‡çš„ç±»å‹æè¿°ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå½“å‰è„šæœ¬ä½¿ç”¨äº†å…¶ä»–è„šæœ¬å®šä¹‰çš„å…¨å±€å˜é‡<code>x</code>ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">x</span> <span class="operator">=</span> <span class="number">123</span><span class="comment">; // æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>x</code>æ˜¯å…¶ä»–è„šæœ¬å®šä¹‰çš„ï¼Œå½“å‰è„šæœ¬ä¸çŸ¥é“å®ƒçš„ç±»å‹ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚</p><p>è¿™æ—¶ä½¿ç”¨ declare å‘½ä»¤ç»™å‡ºå®ƒçš„ç±»å‹ï¼Œå°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> let <span class="keyword">x</span>:number<span class="comment">;</span></span><br><span class="line"><span class="keyword">x</span> <span class="operator">=</span> <span class="number">1</span><span class="comment">;</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure><p>å¦‚æœ declare å…³é”®å­—æ²¡æœ‰ç»™å‡ºå˜é‡çš„å…·ä½“ç±»å‹ï¼Œé‚£ä¹ˆå˜é‡ç±»å‹å°±æ˜¯<code>any</code>ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">declare let x<span class="comment">;</span></span><br><span class="line"><span class="attribute">x</span> <span class="operator">=</span> <span class="number">1</span><span class="comment">;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>x</code>çš„ç±»å‹ä¸º<code>any</code>ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ˜¯è„šæœ¬ä½¿ç”¨æµè§ˆå™¨å…¨å±€å¯¹è±¡<code>document</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">var</span> <span class="variable language_">document</span>;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;Hello&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œdeclare å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå˜é‡<code>document</code>çš„ç±»å‹æ˜¯å¤–éƒ¨å®šä¹‰çš„ï¼ˆå…·ä½“å®šä¹‰åœ¨ TypeScript å†…ç½®æ–‡ä»¶<code>lib.d.ts</code>ï¼‰ã€‚</p><p>å¦‚æœ TypeScript æ²¡æœ‰æ‰¾åˆ°<code>document</code>çš„å¤–éƒ¨å®šä¹‰ï¼Œè¿™é‡Œå°±ä¼šå‡å®šå®ƒçš„ç±»å‹æ˜¯<code>any</code>ã€‚</p><p>æ³¨æ„ï¼Œdeclare å…³é”®å­—åªç”¨æ¥ç»™å‡ºç±»å‹æè¿°ï¼Œæ˜¯çº¯çš„ç±»å‹ä»£ç ï¼Œä¸å…è®¸è®¾ç½®å˜é‡çš„åˆå§‹å€¼ï¼Œå³ä¸èƒ½æ¶‰åŠå€¼ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">let</span> <span class="attr">x</span>:<span class="built_in">number</span> = <span class="number">1</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œdeclare è®¾ç½®äº†å˜é‡çš„åˆå§‹å€¼ï¼Œç»“æœå°±æŠ¥é”™äº†ã€‚</p><h2 id="declare-function">declare function <a href="about:blank#declare-function">#</a></h2><p>declare å…³é”®å­—å¯ä»¥ç»™å‡ºå¤–éƒ¨å‡½æ•°çš„ç±»å‹æè¿°ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">declare <span class="function"><span class="keyword">function</span> <span class="title">sayHello</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">  <span class="keyword">name</span>:<span class="keyword">string</span></span></span></span><br><span class="line"><span class="params"><span class="function">)</span>:</span>void;</span><br><span class="line"></span><br><span class="line">sayHello(<span class="string">&#x27;å¼ ä¸‰&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œdeclare å‘½ä»¤ç»™å‡ºäº†<code>sayHello()</code>çš„ç±»å‹æè¿°ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒã€‚</p><p>æ³¨æ„ï¼Œè¿™ç§å•ç‹¬çš„å‡½æ•°ç±»å‹å£°æ˜è¯­å¥ï¼Œåªèƒ½ç”¨äº<code>declare</code>å‘½ä»¤åé¢ã€‚ä¸€æ–¹é¢ï¼ŒTypeScript ä¸æ”¯æŒå•ç‹¬çš„å‡½æ•°ç±»å‹å£°æ˜è¯­å¥ï¼›å¦ä¸€æ–¹é¢ï¼Œdeclare å…³é”®å­—åé¢ä¹Ÿä¸èƒ½å¸¦æœ‰å‡½æ•°çš„å…·ä½“å®ç°ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span><span class="params">(</span></span><br><span class="line"><span class="params">  name:string</span></span><br><span class="line"><span class="params">)</span>:void;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayHello</span><span class="params">(name)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;ä½ å¥½ï¼Œ&#x27;</span> + name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå•ç‹¬å†™å‡½æ•°çš„ç±»å‹å£°æ˜å°±ä¼šæŠ¥é”™ã€‚</p><h2 id="declare-class">declare class <a href="about:blank#declare-class">#</a></h2><p>declare ç»™å‡º class ç±»å‹æè¿°çš„å†™æ³•å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span></span>);</span><br><span class="line">  <span class="title function_">eat</span>():<span class="built_in">void</span>;</span><br><span class="line">  <span class="title function_">sleep</span>():<span class="built_in">void</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„ä¾‹å­ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">class</span> <span class="title class_">C</span> &#123;</span><br><span class="line">  <span class="comment">// é™æ€æˆå‘˜</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="title function_">s0</span>():<span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="attr">s1</span>:<span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å±æ€§</span></span><br><span class="line">  <span class="keyword">public</span> <span class="attr">a</span>:<span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">b</span>:<span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">arg:<span class="built_in">number</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ–¹æ³•</span></span><br><span class="line">  <span class="title function_">m</span>(<span class="attr">x</span>:<span class="built_in">number</span>, <span class="attr">y</span>:<span class="built_in">number</span>):<span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å­˜å–å™¨</span></span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">c</span>():<span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">set</span> <span class="title function_">c</span>(<span class="params">value:<span class="built_in">number</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ç´¢å¼•ç­¾å</span></span><br><span class="line">  [<span class="attr">index</span>:<span class="built_in">string</span>]:<span class="built_in">any</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œdeclare åé¢ä¸èƒ½ç»™å‡º Class çš„å…·ä½“å®ç°æˆ–åˆå§‹å€¼ã€‚</p><h2 id="declare-moduleï¼Œdeclare-namespace">declare moduleï¼Œdeclare namespace <a href="about:blank#declare-moduledeclare-namespace">#</a></h2><p>å¦‚æœæƒ³æŠŠå˜é‡ã€å‡½æ•°ã€ç±»ç»„ç»‡åœ¨ä¸€èµ·ï¼Œå¯ä»¥å°† declare ä¸ module æˆ– namespace ä¸€èµ·ä½¿ç”¨ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> <span class="title class_">AnimalLib</span> &#123;</span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span></span>);</span><br><span class="line">    <span class="title function_">eat</span>():<span class="built_in">void</span>;</span><br><span class="line">    <span class="title function_">sleep</span>():<span class="built_in">void</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">type</span> <span class="title class_">Animals</span> = <span class="string">&#x27;Fish&#x27;</span> | <span class="string">&#x27;Dog&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="title class_">AnimalLib</span> &#123;</span><br><span class="line">  <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name:<span class="built_in">string</span></span>);</span><br><span class="line">    <span class="title function_">eat</span>(): <span class="built_in">void</span>;</span><br><span class="line">    <span class="title function_">sleep</span>(): <span class="built_in">void</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">type</span> <span class="title class_">Animals</span> = <span class="string">&#x27;Fish&#x27;</span> | <span class="string">&#x27;Dog&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œdeclare å…³é”®å­—ç»™å‡ºäº† module æˆ– namespace çš„ç±»å‹æè¿°ã€‚</p><p>declare module å’Œ declare namespace é‡Œé¢ï¼ŒåŠ ä¸åŠ  export å…³é”®å­—éƒ½å¯ä»¥ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> <span class="title class_">Foo</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">var</span> <span class="attr">a</span>: <span class="built_in">boolean</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;io&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">readFile</span>(<span class="params">filename:<span class="built_in">string</span></span>):<span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œnamespace å’Œ module é‡Œé¢ä½¿ç”¨äº† export å…³é”®å­—ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ˜¯å½“å‰è„šæœ¬ä½¿ç”¨äº†<code>myLib</code>è¿™ä¸ªå¤–éƒ¨åº“ï¼Œå®ƒæœ‰æ–¹æ³•<code>makeGreeting()</code>å’Œå±æ€§<code>numberOfGreetings</code>ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let result = myLib.makeGreeting(<span class="string">&#x27;ä½ å¥½&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;æ¬¢è¿è¯ï¼š&#x27;</span> + result);</span><br><span class="line"></span><br><span class="line">let <span class="built_in">count</span> = myLib.numberOfGreetings;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>myLib</code>çš„ç±»å‹æè¿°å°±å¯ä»¥è¿™æ ·å†™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> myLib &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">makeGreeting</span>(<span class="params">s:<span class="built_in">string</span></span>): <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">let</span> <span class="attr">numberOfGreetings</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>declare å…³é”®å­—çš„å¦ä¸€ä¸ªç”¨é€”ï¼Œæ˜¯ä¸ºå¤–éƒ¨æ¨¡å—æ·»åŠ å±æ€§å’Œæ–¹æ³•æ—¶ï¼Œç»™å‡ºæ–°å¢éƒ¨åˆ†çš„ç±»å‹æè¿°ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Foo</span> <span class="keyword">as</span> <span class="title class_">Bar</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;moduleA&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;moduleA&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">Foo</span> &#123;</span><br><span class="line">    <span class="attr">custom</span>: &#123;</span><br><span class="line">      <span class="attr">prop1</span>: <span class="built_in">string</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œä»æ¨¡å—<code>moduleA</code>å¯¼å…¥äº†ç±»å‹<code>Foo</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¥å£ï¼ˆinterfaceï¼‰ï¼Œå¹¶å°†å…¶é‡å‘½åä¸º<code>Bar</code>ï¼Œç„¶åç”¨ declare å…³é”®å­—ä¸º<code>Foo</code>å¢åŠ ä¸€ä¸ªå±æ€§<code>custom</code>ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶æ¥å£<code>Foo</code>æ”¹åä¸º<code>Bar</code>ï¼Œä½†æ˜¯æ‰©å……ç±»å‹æ—¶ï¼Œè¿˜æ˜¯æ‰©å……åŸå§‹çš„æ¥å£<code>Foo</code>ï¼Œå› ä¸ºåŒå interface ä¼šè‡ªåŠ¨åˆå¹¶ç±»å‹å£°æ˜ã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚ä¸€ä¸ªé¡¹ç›®æœ‰å¤šä¸ªæ¨¡å—ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œå¯¹å¦ä¸€ä¸ªæ¨¡å—çš„æ¥å£è¿›è¡Œç±»å‹æ‰©å±•ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> A &#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; A &#125; <span class="keyword">from</span> <span class="string">&#x27;./a&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;./a&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">interface</span> A &#123;</span><br><span class="line">    <span class="attr">y</span>: <span class="built_in">number</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">a</span>:A = &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè„šæœ¬<code>a.ts</code>å®šä¹‰äº†ä¸€ä¸ªæ¥å£<code>A</code>ï¼Œè„šæœ¬<code>b.ts</code>ä¸ºè¿™ä¸ªæ¥å£æ·»åŠ äº†å±æ€§<code>y</code>ã€‚<code>declare module './a' &#123;&#125;</code>è¡¨ç¤ºå¯¹<code>a.ts</code>é‡Œé¢çš„æ¨¡å—ï¼Œè¿›è¡Œç±»å‹å£°æ˜ï¼Œè€ŒåŒå interface ä¼šè‡ªåŠ¨åˆå¹¶ï¼Œæ‰€ä»¥ç­‰åŒäºæ‰©å±•ç±»å‹ã€‚</p><p>ä½¿ç”¨è¿™ç§è¯­æ³•è¿›è¡Œæ¨¡å—çš„ç±»å‹æ‰©å±•æ—¶ï¼Œæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼š</p><p>ï¼ˆ1ï¼‰<code>declare module NAME</code>è¯­æ³•é‡Œé¢çš„æ¨¡å—å<code>NAME</code>ï¼Œè·Ÿ import å’Œ export çš„æ¨¡å—åè§„åˆ™æ˜¯ä¸€æ ·çš„ï¼Œä¸”å¿…é¡»è·Ÿå½“å‰æ–‡ä»¶åŠ è½½è¯¥æ¨¡å—çš„è¯­å¥å†™æ³•ï¼ˆä¸Šä¾‹<code>import &#123; A &#125; from './a'</code>ï¼‰ä¿æŒä¸€è‡´ã€‚</p><p>ï¼ˆ2ï¼‰ä¸èƒ½åˆ›å»ºæ–°çš„é¡¶å±‚ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½å¯¹<code>a.ts</code>æ¨¡å—ä¸­å·²ç»å­˜åœ¨çš„ç±»å‹è¿›è¡Œæ‰©å±•ï¼Œä¸å…è®¸å¢åŠ æ–°çš„é¡¶å±‚ç±»å‹ï¼Œæ¯”å¦‚æ–°å®šä¹‰ä¸€ä¸ªæ¥å£<code>B</code>ã€‚</p><p>ï¼ˆ3ï¼‰ä¸èƒ½å¯¹é»˜è®¤çš„<code>default</code>æ¥å£è¿›è¡Œæ‰©å±•ï¼Œåªèƒ½å¯¹ export å‘½ä»¤è¾“å‡ºçš„å‘½åæ¥å£è¿›è¡Œæ‰©å……ã€‚è¿™æ˜¯å› ä¸ºåœ¨è¿›è¡Œç±»å‹æ‰©å±•æ—¶ï¼Œéœ€è¦ä¾èµ–è¾“å‡ºçš„æ¥å£åã€‚</p><p>æŸäº›ç¬¬ä¸‰æ–¹æ¨¡å—ï¼ŒåŸå§‹ä½œè€…æ²¡æœ‰æä¾›æ¥å£ç±»å‹ï¼Œè¿™æ—¶å¯ä»¥åœ¨è‡ªå·±çš„è„šæœ¬é¡¶éƒ¨åŠ ä¸Šä¸‹é¢ä¸€è¡Œå‘½ä»¤ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&quot;æ¨¡å—å&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾‹å­</span></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&quot;hot-new-module&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŠ ä¸Šä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œå¤–éƒ¨æ¨¡å—å³ä½¿æ²¡æœ‰ç±»å‹å£°æ˜ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç¼–è¯‘ã€‚ä½†æ˜¯ï¼Œä»è¯¥æ¨¡å—è¾“å…¥çš„æ‰€æœ‰æ¥å£éƒ½å°†ä¸º<code>any</code>ç±»å‹ã€‚</p><p>declare module æè¿°çš„æ¨¡å—åå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&#x27;my-plugin-*&#x27;</span> &#123;</span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">PluginOptions</span> &#123;</span><br><span class="line">    <span class="attr">enabled</span>: <span class="built_in">boolean</span>;</span><br><span class="line">    <span class="attr">priority</span>: <span class="built_in">number</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">initialize</span>(<span class="params">options: PluginOptions</span>): <span class="built_in">void</span>;</span><br><span class="line">  <span class="keyword">export</span> = initialize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ¨¡å—å<code>my-plugin-*</code>è¡¨ç¤ºé€‚é…æ‰€æœ‰ä»¥<code>my-plugin-</code>å¼€å¤´çš„æ¨¡å—åï¼ˆæ¯”å¦‚<code>my-plugin-logger</code>ï¼‰ã€‚</p><h2 id="declare-global">declare global <a href="about:blank#declare-global">#</a></h2><p>å¦‚æœè¦ä¸º JavaScript å¼•æ“çš„åŸç”Ÿå¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨<code>declare global &#123;&#125;</code>è¯­æ³•ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">global</span> &#123;</span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">String</span> &#123;</span><br><span class="line">    <span class="title function_">toSmallString</span>(): <span class="built_in">string</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toSmallString</span> = ():<span class="function"><span class="params">string</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// å…·ä½“å®ç°</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œä¸º JavaScript åŸç”Ÿçš„<code>String</code>å¯¹è±¡æ·»åŠ äº†<code>toSmallString()</code>æ–¹æ³•ã€‚declare global ç»™å‡ºè¿™ä¸ªæ–°å¢æ–¹æ³•çš„ç±»å‹æè¿°ã€‚</p><p>è¿™ä¸ªç¤ºä¾‹ç¬¬ä¸€è¡Œçš„ç©ºå¯¼å‡ºè¯­å¥<code>export &#123;&#125;</code>ï¼Œä½œç”¨æ˜¯å¼ºåˆ¶ç¼–è¯‘å™¨å°†è¿™ä¸ªè„šæœ¬å½“ä½œæ¨¡å—å¤„ç†ã€‚è¿™æ˜¯å› ä¸º<code>declare global</code>å¿…é¡»ç”¨åœ¨æ¨¡å—é‡Œé¢ã€‚</p><p>ä¸‹é¢çš„ç¤ºä¾‹æ˜¯ä¸º window å¯¹è±¡ï¼ˆç±»å‹æ¥å£ä¸º<code>Window</code>ï¼‰æ·»åŠ ä¸€ä¸ªå±æ€§<code>myAppConfig</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">global</span> &#123;</span><br><span class="line">  <span class="keyword">interface</span> <span class="title class_">Window</span> &#123;</span><br><span class="line">    <span class="attr">myAppConfig</span>:<span class="built_in">object</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = <span class="variable language_">window</span>.<span class="property">myAppConfig</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>declare global åªèƒ½æ‰©å……ç°æœ‰å¯¹è±¡çš„ç±»å‹æè¿°ï¼Œä¸èƒ½å¢åŠ æ–°çš„é¡¶å±‚ç±»å‹ã€‚</p><h2 id="declare-enum">declare enum <a href="about:blank#declare-enum">#</a></h2><p>declare å…³é”®å­—ç»™å‡º enum ç±»å‹æè¿°çš„ä¾‹å­å¦‚ä¸‹ï¼Œä¸‹é¢çš„å†™æ³•éƒ½æ˜¯å…è®¸çš„ã€‚</p><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="keyword">enum</span> E1 &#123;</span><br><span class="line">  A,</span><br><span class="line">  B,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">enum</span> E2 &#123;</span><br><span class="line">  A = <span class="number">0</span>,</span><br><span class="line">  B = <span class="number">1</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> <span class="keyword">enum</span> E3 &#123;</span><br><span class="line">  A,</span><br><span class="line">  B,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> <span class="keyword">enum</span> E4 &#123;</span><br><span class="line">  A = <span class="number">0</span>,</span><br><span class="line">  B = <span class="number">1</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="declare-module-ç”¨äºç±»å‹å£°æ˜æ–‡ä»¶">declare module ç”¨äºç±»å‹å£°æ˜æ–‡ä»¶ <a href="about:blank#declare-module-%E7%94%A8%E4%BA%8E%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E6%96%87%E4%BB%B6">#</a></h2><p>æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸ªæ¨¡å—è„šæœ¬ï¼Œå®šä¹‰ä¸€ä¸ª<code>.d.ts</code>æ–‡ä»¶ï¼ŒæŠŠè¯¥è„šæœ¬ç”¨åˆ°çš„ç±»å‹å®šä¹‰éƒ½æ”¾åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢ã€‚ä½†æ˜¯ï¼Œæ›´æ–¹ä¾¿çš„åšæ³•æ˜¯ä¸ºæ•´ä¸ªé¡¹ç›®ï¼Œå®šä¹‰ä¸€ä¸ªå¤§çš„<code>.d.ts</code>æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢ä½¿ç”¨<code>declare module</code>å®šä¹‰æ¯ä¸ªæ¨¡å—è„šæœ¬çš„ç±»å‹ã€‚</p><p>ä¸‹é¢çš„ç¤ºä¾‹æ˜¯<code>node.d.ts</code>æ–‡ä»¶çš„ä¸€éƒ¨åˆ†ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&quot;url&quot;</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">interface</span> <span class="title class_">Url</span> &#123;</span><br><span class="line">    protocol?: <span class="built_in">string</span>;</span><br><span class="line">    hostname?: <span class="built_in">string</span>;</span><br><span class="line">    pathname?: <span class="built_in">string</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">parse</span>(<span class="params"></span></span><br><span class="line"><span class="params">    urlStr: <span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">    parseQueryString?,</span></span><br><span class="line"><span class="params">    slashesDenoteHost?</span></span><br><span class="line"><span class="params">  </span>): <span class="title class_">Url</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&quot;path&quot;</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">normalize</span>(<span class="params">p: <span class="built_in">string</span></span>): <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">join</span>(<span class="params">...paths: <span class="built_in">any</span>[]</span>): <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">var</span> <span class="attr">sep</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>url</code>å’Œ<code>path</code>éƒ½æ˜¯å•ç‹¬çš„æ¨¡å—è„šæœ¬ï¼Œä½†æ˜¯å®ƒä»¬çš„ç±»å‹éƒ½å®šä¹‰åœ¨<code>node.d.ts</code>è¿™ä¸ªæ–‡ä»¶é‡Œé¢ã€‚</p><p>ä½¿ç”¨æ—¶ï¼Œè‡ªå·±çš„è„šæœ¬ä½¿ç”¨ä¸‰æ–œæ å‘½ä»¤ï¼ŒåŠ è½½è¿™ä¸ªç±»å‹å£°æ˜æ–‡ä»¶ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;reference path<span class="operator">=</span><span class="string">&quot;node.d.ts&quot;</span>/&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰ä¸Šé¢è¿™ä¸€è¡Œå‘½ä»¤ï¼Œè‡ªå·±çš„è„šæœ¬ä½¿ç”¨å¤–éƒ¨æ¨¡å—æ—¶ï¼Œå°±éœ€è¦åœ¨è„šæœ¬é‡Œé¢ä½¿ç”¨ declare å‘½ä»¤å•ç‹¬ç»™å‡ºå¤–éƒ¨æ¨¡å—çš„ç±»å‹ã€‚</p><h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ <a href="about:blank#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">#</a></h2><ul><li><a href="https://timmousk.com/blog/typescript-declare/">How Does The Declare Keyword Work In TypeScript?</a>, Tim Mouskhelichvili</li></ul><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/declare">https://wangdoc.com/typescript/declare</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript declare å…³é”®å­—</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript è£…é¥°å™¨ï¼ˆæ—§è¯­æ³•ï¼‰</title>
    <link href="https://www.fomal.cc/posts/24.html"/>
    <id>https://www.fomal.cc/posts/24.html</id>
    <published>2023-06-18T10:50:00.000Z</published>
    <updated>2023-06-18T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>è£…é¥°å™¨ï¼ˆæ—§è¯­æ³•ï¼‰</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><p>ä¸Šä¸€ç« ä»‹ç»äº†è£…é¥°å™¨çš„æ ‡å‡†è¯­æ³•ï¼Œé‚£æ˜¯åœ¨2022å¹´é€šè¿‡æˆä¸ºæ ‡å‡†çš„ã€‚ä½†æ˜¯åœ¨æ­¤ä¹‹å‰ï¼ŒTypeScript æ—©åœ¨2014å¹´å°±æ”¯æŒè£…é¥°å™¨ï¼Œä¸è¿‡ä½¿ç”¨çš„æ˜¯æ—§è¯­æ³•ã€‚</p><p>è£…é¥°å™¨çš„æ—§è¯­æ³•ä¸æ ‡å‡†è¯­æ³•ï¼Œæœ‰ç›¸å½“å¤§çš„å·®å¼‚ã€‚æ—§è¯­æ³•ä»¥åä¼šè¢«æ·˜æ±°ï¼Œä½†æ˜¯ç›®å‰å¤§é‡ç°æœ‰é¡¹ç›®ä¾ç„¶åœ¨ä½¿ç”¨å®ƒï¼Œæœ¬ç« å°±ä»‹ç»æ—§è¯­æ³•ä¸‹çš„è£…é¥°å™¨ã€‚</p><h2 id="experimentalDecorators-ç¼–è¯‘é€‰é¡¹">experimentalDecorators ç¼–è¯‘é€‰é¡¹ <a href="about:blank#experimentaldecorators-%E7%BC%96%E8%AF%91%E9%80%89%E9%A1%B9">#</a></h2><p>ä½¿ç”¨è£…é¥°å™¨çš„æ—§è¯­æ³•ï¼Œéœ€è¦æ‰“å¼€<code>--experimentalDecorators</code>ç¼–è¯‘é€‰é¡¹ã€‚</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">$ tsc</span> <span class="literal">--</span><span class="comment">target ES5</span> <span class="literal">--</span><span class="comment">experimentalDecorators</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œè¿˜æœ‰å¦å¤–ä¸€ä¸ªç¼–è¯‘é€‰é¡¹<code>--emitDecoratorMetadata</code>ï¼Œç”¨æ¥äº§ç”Ÿä¸€äº›è£…é¥°å™¨çš„å…ƒæ•°æ®ï¼Œä¾›å…¶ä»–å·¥å…·æˆ–æŸäº›æ¨¡å—ï¼ˆæ¯”å¦‚ reflect-metadata ï¼‰ä½¿ç”¨ã€‚</p><p>è¿™ä¸¤ä¸ªç¼–è¯‘é€‰é¡¹å¯ä»¥åœ¨å‘½ä»¤è¡Œè®¾ç½®ï¼Œä¹Ÿå¯ä»¥åœ¨<code>tsconfig.json</code>æ–‡ä»¶é‡Œé¢è¿›è¡Œè®¾ç½®ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ES6&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;experimentalDecorators&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;emitDecoratorMetadata&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è£…é¥°å™¨çš„ç§ç±»">è£…é¥°å™¨çš„ç§ç±» <a href="about:blank#%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E7%A7%8D%E7%B1%BB">#</a></h2><p>æŒ‰ç…§æ‰€è£…é¥°çš„ä¸åŒå¯¹è±¡ï¼Œè£…é¥°å™¨å¯ä»¥åˆ†æˆäº”ç±»ã€‚</p><blockquote><ul><li>ç±»è£…é¥°å™¨ï¼ˆClass Decoratorsï¼‰ï¼šç”¨äºç±»ã€‚</li><li>å±æ€§è£…é¥°å™¨ï¼ˆProperty Decoratorsï¼‰ï¼šç”¨äºå±æ€§ã€‚</li><li>æ–¹æ³•è£…é¥°å™¨ï¼ˆMethod Decoratorsï¼‰ï¼šç”¨äºæ–¹æ³•ã€‚</li><li>å­˜å–å™¨è£…é¥°å™¨ï¼ˆAccessor Decoratorsï¼‰ï¼šç”¨äºç±»çš„ set æˆ– get æ–¹æ³•ã€‚</li><li>å‚æ•°è£…é¥°å™¨ï¼ˆParameter Decoratorsï¼‰ï¼šç”¨äºæ–¹æ³•çš„å‚æ•°ã€‚</li></ul></blockquote><p>ä¸‹é¢æ˜¯è¿™äº”ç§è£…é¥°å™¨ä¸€èµ·ä½¿ç”¨çš„ä¸€ä¸ªç¤ºä¾‹ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@ClassDecorator</span>() <span class="comment">// ï¼ˆAï¼‰</span></span><br><span class="line">class A &#123;</span><br><span class="line"></span><br><span class="line">  <span class="variable">@PropertyDecorator</span>() <span class="comment">// ï¼ˆBï¼‰</span></span><br><span class="line">  <span class="attribute">name</span>: string;</span><br><span class="line"></span><br><span class="line">  <span class="variable">@MethodDecorator</span>() <span class="comment">//ï¼ˆCï¼‰</span></span><br><span class="line">  <span class="built_in">fly</span>(</span><br><span class="line">    <span class="variable">@ParameterDecorator</span>() <span class="comment">// ï¼ˆDï¼‰</span></span><br><span class="line">    <span class="attribute">meters</span>: number</span><br><span class="line">  ) &#123;</span><br><span class="line">    <span class="comment">// code</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable">@AccessorDecorator</span>() <span class="comment">// ï¼ˆEï¼‰</span></span><br><span class="line">  get <span class="built_in">egg</span>() &#123;</span><br><span class="line">    <span class="comment">// code</span></span><br><span class="line">  &#125;</span><br><span class="line">  set <span class="built_in">egg</span>(e) &#123;</span><br><span class="line">    <span class="comment">// code</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒA æ˜¯ç±»è£…é¥°å™¨ï¼ŒB æ˜¯å±æ€§è£…é¥°å™¨ï¼ŒC æ˜¯æ–¹æ³•è£…é¥°å™¨ï¼ŒD æ˜¯å‚æ•°è£…é¥°å™¨ï¼ŒE æ˜¯å­˜å–å™¨è£…é¥°å™¨ã€‚</p><p>æ³¨æ„ï¼Œæ„é€ æ–¹æ³•æ²¡æœ‰æ–¹æ³•è£…é¥°å™¨ï¼Œåªæœ‰å‚æ•°è£…é¥°å™¨ã€‚ç±»è£…é¥°å™¨å…¶å®å°±æ˜¯åœ¨è£…é¥°æ„é€ æ–¹æ³•ã€‚</p><p>å¦å¤–ï¼Œè£…é¥°å™¨åªèƒ½ç”¨äºç±»ï¼Œè¦ä¹ˆåº”ç”¨äºç±»çš„æ•´ä½“ï¼Œè¦ä¹ˆåº”ç”¨äºç±»çš„å†…éƒ¨æˆå‘˜ï¼Œä¸èƒ½ç”¨äºç‹¬ç«‹çš„å‡½æ•°ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Decorator</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;In Decorator&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Decorator <span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">decorated</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;in decorated&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè£…é¥°å™¨ç”¨äºä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œè¿™æ˜¯æ— æ•ˆçš„ï¼Œç»“æœæŠ¥é”™ã€‚</p><h2 id="ç±»è£…é¥°å™¨">ç±»è£…é¥°å™¨ <a href="about:blank#%E7%B1%BB%E8%A3%85%E9%A5%B0%E5%99%A8">#</a></h2><p>ç±»è£…é¥°å™¨åº”ç”¨äºç±»ï¼ˆclassï¼‰ï¼Œä½†å®é™…ä¸Šæ˜¯åº”ç”¨äºç±»çš„æ„é€ æ–¹æ³•ã€‚</p><p>ç±»è£…é¥°å™¨æœ‰å”¯ä¸€å‚æ•°ï¼Œå°±æ˜¯æ„é€ æ–¹æ³•ï¼Œå¯ä»¥åœ¨è£…é¥°å™¨å†…éƒ¨ï¼Œå¯¹æ„é€ æ–¹æ³•è¿›è¡Œå„ç§æ”¹é€ ã€‚å¦‚æœç±»è£…é¥°å™¨æœ‰è¿”å›å€¼ï¼Œå°±ä¼šæ›¿æ¢æ‰åŸæ¥çš„æ„é€ æ–¹æ³•ã€‚</p><p>ç±»è£…é¥°å™¨çš„ç±»å‹å®šä¹‰å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ClassDecorator</span> = &lt;<span class="title class_">TFunction</span> <span class="keyword">extends</span> <span class="title class_">Function</span>&gt;</span><br><span class="line">  <span class="function">(<span class="params">target: TFunction</span>) =&gt;</span> <span class="title class_">TFunction</span> | <span class="built_in">void</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢å®šä¹‰ä¸­ï¼Œç±»å‹å‚æ•°<code>TFunction</code>å¿…é¡»æ˜¯å‡½æ•°ï¼Œå®é™…ä¸Šå°±æ˜¯æ„é€ æ–¹æ³•ã€‚ç±»è£…é¥°å™¨çš„è¿”å›å€¼ï¼Œè¦ä¹ˆæ˜¯è¿”å›å¤„ç†åçš„åŸå§‹æ„é€ æ–¹æ³•ï¼Œè¦ä¹ˆè¿”å›ä¸€ä¸ªæ–°çš„æ„é€ æ–¹æ³•ã€‚</p><p>ä¸‹é¢å°±æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">function <span class="title">f</span><span class="params">(<span class="keyword">target</span>:any)</span> </span>&#123;</span><br><span class="line">  console.log(<span class="string">&#x27;apply decorator&#x27;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">target</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@f</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºï¼šapply decorator</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨äº†è£…é¥°å™¨<code>@f</code>ï¼Œå› æ­¤ç±»<code>A</code>çš„æ„é€ æ–¹æ³•ä¼šè‡ªåŠ¨ä¼ å…¥<code>f</code>ã€‚</p><p>ç±»<code>A</code>ä¸éœ€è¦æ–°å»ºå®ä¾‹ï¼Œè£…é¥°å™¨ä¹Ÿä¼šæ‰§è¡Œã€‚è£…é¥°å™¨ä¼šåœ¨ä»£ç åŠ è½½é˜¶æ®µæ‰§è¡Œï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶æ‰§è¡Œï¼Œè€Œä¸”åªä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</p><p>ç”±äº TypeScript å­˜åœ¨ç¼–è¯‘é˜¶æ®µï¼Œæ‰€ä»¥è£…é¥°å™¨å¯¹ç±»çš„è¡Œä¸ºçš„æ”¹å˜ï¼Œå®é™…ä¸Šå‘ç”Ÿåœ¨ç¼–è¯‘é˜¶æ®µã€‚è¿™æ„å‘³ç€ï¼ŒTypeScript è£…é¥°å™¨èƒ½åœ¨ç¼–è¯‘é˜¶æ®µè¿è¡Œä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒæœ¬è´¨å°±æ˜¯ç¼–è¯‘æ—¶æ‰§è¡Œçš„å‡½æ•°ã€‚</p><p>ä¸‹é¢å†çœ‹ä¸€ä¸ªç¤ºä¾‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@sealed</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BugReport</span> &#123;</span><br><span class="line">  <span class="keyword">type</span> = <span class="string">&quot;report&quot;</span>;</span><br><span class="line">  <span class="attr">title</span>: <span class="built_in">string</span>;</span><br><span class="line"> </span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">t:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">title</span> = t;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sealed</span>(<span class="params">constructor: <span class="built_in">Function</span></span>) &#123;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">seal</span>(constructor);</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">seal</span>(constructor.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè£…é¥°å™¨<code>@sealed()</code>ä¼šé”å®š<code>BugReport</code>è¿™ä¸ªç±»ï¼Œä½¿å¾—å®ƒæ— æ³•æ–°å¢æˆ–åˆ é™¤é™æ€æˆå‘˜å’Œå®ä¾‹æˆå‘˜ã€‚</p><p>å¦‚æœé™¤äº†æ„é€ æ–¹æ³•ï¼Œç±»è£…é¥°å™¨è¿˜éœ€è¦å…¶ä»–å‚æ•°ï¼Œå¯ä»¥é‡‡å–â€œå·¥å‚æ¨¡å¼â€ï¼Œå³æŠŠè£…é¥°å™¨å†™åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œè¯¥å‡½æ•°å¯ä»¥æ¥å—å…¶ä»–å‚æ•°ï¼Œæ‰§è¡Œåè¿”å›è£…é¥°å™¨ã€‚ä½†æ˜¯ï¼Œè¿™æ ·å°±éœ€è¦è°ƒç”¨è£…é¥°å™¨çš„æ—¶å€™ï¼Œå…ˆæ‰§è¡Œä¸€æ¬¡å·¥å‚å‡½æ•°ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">factory</span>(<span class="params">info:string</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;received: &#x27;</span>, info);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">target:any</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;apply decorator&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@factory(<span class="string">&#x27;log something&#x27;</span>)</span><br><span class="line">class A &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>factory()</code>çš„è¿”å›å€¼æ‰æ˜¯è£…é¥°å™¨ï¼Œæ‰€ä»¥åŠ è½½è£…é¥°å™¨çš„æ—¶å€™ï¼Œè¦å…ˆæ‰§è¡Œä¸€æ¬¡<code>@factory('log something')</code>ï¼Œæ‰èƒ½å¾—åˆ°è£…é¥°å™¨ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥åŠ å…¥é¢å¤–çš„å‚æ•°ï¼Œæœ¬ä¾‹æ˜¯å‚æ•°<code>info</code>ã€‚</p><p>æ€»ä¹‹ï¼Œ<code>@</code>åé¢è¦ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°åï¼Œè¦ä¹ˆæ˜¯å‡½æ•°è¡¨è¾¾å¼ï¼Œç”šè‡³å¯ä»¥å†™å‡ºä¸‹é¢è¿™æ ·çš„ä»£ç ã€‚</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@((<span class="function"><span class="keyword">constructor</span>:</span> <span class="function"><span class="keyword">Function</span>) =&gt; <span class="comment">&#123;</span></span></span><br><span class="line"><span class="comment"><span class="function">  console.log(&#x27;log something&#x27;);</span></span></span><br><span class="line"><span class="comment"><span class="function">&#125;</span>)</span></span><br><span class="line"><span class="function"><span class="title">class</span> <span class="title">InlineDecoratorExample</span> <span class="comment">&#123;</span></span></span><br><span class="line"><span class="comment"><span class="function">  // ...</span></span></span><br><span class="line"><span class="comment"><span class="function">&#125;</span></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>@</code>åé¢æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œè¿™ä¹Ÿæ˜¯åˆæ³•çš„ã€‚</p><p>ç±»è£…é¥°å™¨å¯ä»¥æ²¡æœ‰è¿”å›å€¼ï¼Œå¦‚æœæœ‰è¿”å›å€¼ï¼Œå°±ä¼šæ›¿ä»£æ‰€è£…é¥°çš„ç±»çš„æ„é€ å‡½æ•°ã€‚ç”±äº JavaScript çš„ç±»ç­‰åŒäºæ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼Œæ‰€ä»¥è£…é¥°å™¨é€šå¸¸è¿”å›ä¸€ä¸ªæ–°çš„ç±»ï¼Œå¯¹åŸæœ‰çš„ç±»è¿›è¡Œä¿®æ”¹æˆ–æ‰©å±•ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function decorator(target:any) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">target</span> </span>&#123;</span><br><span class="line">    value = <span class="number">123</span>;  </span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  value = <span class="number">456</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const foo = <span class="keyword">new</span> <span class="type">Foo</span>();</span><br><span class="line">console.log(foo.value); <span class="comment">// 123</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè£…é¥°å™¨<code>decorator</code>è¿”å›ä¸€ä¸ªæ–°çš„ç±»ï¼Œæ›¿ä»£äº†åŸæ¥çš„ç±»ã€‚</p><p>ä¸Šä¾‹çš„è£…é¥°å™¨å‚æ•°<code>target</code>ç±»å‹æ˜¯<code>any</code>ï¼Œå¯ä»¥æ”¹æˆæ„é€ æ–¹æ³•ï¼Œè¿™æ ·å°±æ›´å‡†ç¡®äº†ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">type</span> <span class="title">Constructor</span> </span>= &#123;</span><br><span class="line">  <span class="keyword">new</span>(...args: any[]): &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">function decorator&lt;<span class="type">T</span> <span class="keyword">extends</span> <span class="type">Constructor</span>&gt; (</span><br><span class="line">  target: <span class="type">T</span></span><br><span class="line">) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">target</span> </span>&#123;</span><br><span class="line">    value = <span class="number">123</span>;  </span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ—¶ï¼Œè£…é¥°å™¨çš„è¡Œä¸ºå°±æ˜¯ä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="title class_"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="title class_"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</span><br><span class="line">A = decorator(A) || A;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œè£…é¥°å™¨è¦ä¹ˆè¿”å›ä¸€ä¸ªæ–°çš„ç±»<code>A</code>ï¼Œè¦ä¹ˆä¸è¿”å›ä»»ä½•å€¼ï¼Œ<code>A</code>ä¿æŒè£…é¥°å™¨å¤„ç†åçš„çŠ¶æ€ã€‚</p><h2 id="æ–¹æ³•è£…é¥°å™¨">æ–¹æ³•è£…é¥°å™¨ <a href="about:blank#%E6%96%B9%E6%B3%95%E8%A3%85%E9%A5%B0%E5%99%A8">#</a></h2><p>æ–¹æ³•è£…é¥°å™¨ç”¨æ¥è£…é¥°ç±»çš„æ–¹æ³•ï¼Œå®ƒçš„ç±»å‹å®šä¹‰å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">MethodDecorator</span> = &lt;T&gt;<span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  target: <span class="built_in">Object</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  propertyKey: <span class="built_in">string</span>|<span class="built_in">symbol</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  descriptor: TypedPropertyDescriptor&lt;T&gt;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="title class_">TypedPropertyDescriptor</span>&lt;T&gt; | <span class="built_in">void</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ–¹æ³•è£…é¥°å™¨ä¸€å…±å¯ä»¥æ¥å—ä¸‰ä¸ªå‚æ•°ã€‚</p><ul><li>targetï¼šï¼ˆå¯¹äºç±»çš„é™æ€æ–¹æ³•ï¼‰ç±»çš„æ„é€ å‡½æ•°ï¼Œæˆ–è€…ï¼ˆå¯¹äºç±»çš„å®ä¾‹æ–¹æ³•ï¼‰ç±»çš„åŸå‹ã€‚</li><li>propertyKeyï¼šæ‰€è£…é¥°æ–¹æ³•çš„æ–¹æ³•åï¼Œç±»å‹ä¸º<code>string|symbol</code>ã€‚</li><li>descriptorï¼šæ‰€è£…é¥°æ–¹æ³•çš„æè¿°å¯¹è±¡ã€‚</li></ul><p>æ–¹æ³•è£…é¥°å™¨çš„è¿”å›å€¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå°±æ˜¯ä¿®æ”¹åçš„è¯¥æ–¹æ³•çš„æè¿°å¯¹è±¡ï¼Œå¯ä»¥è¦†ç›–åŸå§‹æ–¹æ³•çš„æè¿°å¯¹è±¡ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">enumerable</span>(<span class="params">value: <span class="built_in">boolean</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span></span><br><span class="line"><span class="params">    target: <span class="built_in">any</span>,</span></span><br><span class="line"><span class="params">    propertyKey: <span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">    descriptor: PropertyDescriptor</span></span><br><span class="line"><span class="params">  </span>) &#123;</span><br><span class="line">    descriptor.<span class="property">enumerable</span> = value;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Greeter</span> &#123;</span><br><span class="line">  <span class="attr">greeting</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">message:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">greeting</span> = message;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="meta">@enumerable</span>(<span class="literal">false</span>)</span><br><span class="line">  <span class="title function_">greet</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;Hello, &#x27;</span> + <span class="variable language_">this</span>.<span class="property">greeting</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ–¹æ³•è£…é¥°å™¨<code>@enumerable()</code>è£…é¥° Greeter ç±»çš„<code>greet()</code>æ–¹æ³•ï¼Œä½œç”¨æ˜¯ä¿®æ”¹è¯¥æ–¹æ³•çš„æè¿°å¯¹è±¡çš„å¯éå†æ€§å±æ€§<code>enumerable</code>ã€‚<code>@enumerable(false)</code>è¡¨ç¤ºå°†è¯¥æ–¹æ³•ä¿®æ”¹æˆä¸å¯éå†ã€‚</p><p>ä¸‹é¢å†çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">logger</span><span class="params">(</span></span><br><span class="line"><span class="params">  target: any,</span></span><br><span class="line"><span class="params">  propertyKey: string,</span></span><br><span class="line"><span class="params">  descriptor: PropertyDescriptor</span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> original = descriptor.value;</span><br><span class="line"></span><br><span class="line">  descriptor.value = <span class="keyword">function</span> <span class="params">(<span class="rest_arg">...args</span>)</span> &#123;</span><br><span class="line">    console.log(<span class="string">&#x27;params: &#x27;</span>, ...args);</span><br><span class="line">    <span class="keyword">const</span> result = original.call(<span class="keyword">this</span>, ...args);</span><br><span class="line">    console.log(<span class="string">&#x27;result: &#x27;</span>, result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> &#123;</span><br><span class="line">  @logger</span><br><span class="line">  add(x: number, y:number ) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">new</span> C()).add(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment">// params:  1 2</span></span><br><span class="line"><span class="comment">// result:  3</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ–¹æ³•è£…é¥°å™¨<code>@logger</code>ç”¨æ¥è£…é¥°<code>add()</code>æ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯è®©è¯¥æ–¹æ³•è¾“å‡ºæ—¥å¿—ã€‚æ¯å½“<code>add()</code>è°ƒç”¨ä¸€æ¬¡ï¼Œæ§åˆ¶å°å°±ä¼šæ‰“å°å‡ºå‚æ•°å’Œè¿è¡Œç»“æœã€‚</p><h2 id="å±æ€§è£…é¥°å™¨">å±æ€§è£…é¥°å™¨ <a href="about:blank#%E5%B1%9E%E6%80%A7%E8%A3%85%E9%A5%B0%E5%99%A8">#</a></h2><p>å±æ€§è£…é¥°å™¨ç”¨æ¥è£…é¥°å±æ€§ï¼Œç±»å‹å®šä¹‰å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">PropertyDecorator</span> =</span><br><span class="line">  <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    target: <span class="built_in">Object</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    propertyKey: <span class="built_in">string</span>|<span class="built_in">symbol</span></span></span></span><br><span class="line"><span class="params"><span class="function">  </span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å±æ€§è£…é¥°å™¨å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ã€‚</p><ul><li>targetï¼šï¼ˆå¯¹äºå®ä¾‹å±æ€§ï¼‰ç±»çš„åŸå‹å¯¹è±¡ï¼ˆprototypeï¼‰ï¼Œæˆ–è€…ï¼ˆå¯¹äºé™æ€å±æ€§ï¼‰ç±»çš„æ„é€ å‡½æ•°ã€‚</li><li>propertyKeyï¼šæ‰€è£…é¥°å±æ€§çš„å±æ€§åï¼Œæ³¨æ„ç±»å‹æœ‰å¯èƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ Symbol å€¼ã€‚</li></ul><p>å±æ€§è£…é¥°å™¨ä¸éœ€è¦è¿”å›å€¼ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œä¹Ÿä¼šè¢«å¿½ç•¥ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ValidRange</span>(<span class="params">min:<span class="built_in">number</span>, max:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">target:<span class="built_in">Object</span>, key:<span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(target, key, &#123;</span><br><span class="line">      <span class="attr">set</span>: <span class="keyword">function</span>(<span class="params">v:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (v &lt; min || v &gt; max) &#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`Not allowed value <span class="subst">$&#123;v&#125;</span>`</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡º Installing ValidRange on year</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">  <span class="meta">@ValidRange</span>(<span class="number">1920</span>, <span class="number">2020</span>)</span><br><span class="line">  year!: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> stud = <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™ Not allowed value 2022 </span></span><br><span class="line">stud.<span class="property">year</span> = <span class="number">2022</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè£…é¥°å™¨<code>ValidRange</code>å¯¹å±æ€§<code>year</code>è®¾ç«‹äº†ä¸€ä¸ªä¸Šä¸‹é™æ£€æŸ¥å™¨ï¼Œåªè¦è¯¥å±æ€§èµ‹å€¼æ—¶ï¼Œè¶…è¿‡äº†ä¸Šä¸‹é™ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><p>æ³¨æ„ï¼Œå±æ€§è£…é¥°å™¨çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¯¹äºå®ä¾‹å±æ€§æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼Œè€Œä¸æ˜¯å®ä¾‹å¯¹è±¡ï¼ˆå³ä¸æ˜¯<code>this</code>å¯¹è±¡ï¼‰ã€‚è¿™æ˜¯å› ä¸ºè£…é¥°å™¨æ‰§è¡Œæ—¶ï¼Œç±»è¿˜æ²¡æœ‰æ–°å»ºå®ä¾‹ï¼Œæ‰€ä»¥å®ä¾‹å¯¹è±¡ä¸å­˜åœ¨ã€‚</p><p>ç”±äºæ‹¿ä¸åˆ°<code>this</code>ï¼Œæ‰€ä»¥å±æ€§è£…é¥°å™¨æ— æ³•è·å¾—å®ä¾‹å±æ€§çš„å€¼ã€‚è¿™ä¹Ÿæ˜¯å®ƒæ²¡æœ‰åœ¨å‚æ•°é‡Œé¢æä¾›å±æ€§æè¿°å¯¹è±¡çš„åŸå› ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">logProperty</span>(<span class="params">target: <span class="built_in">Object</span>, member: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> prop = <span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(target, member);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Property <span class="subst">$&#123;member&#125;</span> <span class="subst">$&#123;prop&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PropertyExample</span> &#123;</span><br><span class="line">  <span class="meta">@logProperty</span></span><br><span class="line">  <span class="attr">name</span>:<span class="built_in">string</span> = <span class="string">&#x27;Foo&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡º Property name undefined</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå±æ€§è£…é¥°å™¨<code>@logProperty</code>å†…éƒ¨æƒ³è¦è·å–å®ä¾‹å±æ€§<code>name</code>çš„å±æ€§æè¿°å¯¹è±¡ï¼Œç»“æœæ‹¿åˆ°çš„æ˜¯<code>undefined</code>ã€‚å› ä¸ºä¸Šä¾‹çš„<code>target</code>æ˜¯ç±»çš„åŸå‹å¯¹è±¡ï¼Œä¸æ˜¯å®ä¾‹å¯¹è±¡ï¼Œæ‰€ä»¥æ‹¿ä¸åˆ°<code>name</code>å±æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´<code>target.name</code>æ˜¯ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥æ‹¿åˆ°çš„æ˜¯<code>undefined</code>ã€‚åªæœ‰é€šè¿‡<code>this.name</code>æ‰èƒ½æ‹¿åˆ°<code>name</code>å±æ€§ï¼Œä½†æ˜¯è¿™æ—¶<code>this</code>è¿˜ä¸å­˜åœ¨ã€‚</p><p>å±æ€§è£…é¥°å™¨ä¸ä»…æ— æ³•è·å¾—å®ä¾‹å±æ€§çš„å€¼ï¼Œä¹Ÿä¸èƒ½åˆå§‹åŒ–æˆ–ä¿®æ”¹å®ä¾‹å±æ€§ï¼Œè€Œä¸”å®ƒçš„è¿”å›å€¼ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚å› æ­¤ï¼Œå®ƒçš„ä½œç”¨å¾ˆæœ‰é™ã€‚</p><p>ä¸è¿‡ï¼Œå¦‚æœå±æ€§è£…é¥°å™¨è®¾ç½®äº†å½“å‰å±æ€§çš„å­˜å–å™¨ï¼ˆgetter/setterï¼‰ï¼Œç„¶ååœ¨æ„é€ å‡½æ•°é‡Œé¢å°±å¯ä»¥å¯¹å®ä¾‹å±æ€§è¿›è¡Œè¯»å†™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Min</span>(<span class="params">limit:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span></span><br><span class="line"><span class="params">    target: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="params">    propertyKey: <span class="built_in">string</span></span></span><br><span class="line"><span class="params">  </span>) &#123; </span><br><span class="line">    <span class="keyword">let</span> <span class="attr">value</span>: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> getter = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> value;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> setter = <span class="keyword">function</span>(<span class="params">newVal:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(newVal.<span class="property">length</span> &lt; limit) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`Your password should be bigger than <span class="subst">$&#123;limit&#125;</span>`</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        value = newVal;</span><br><span class="line">      &#125;      </span><br><span class="line">    &#125;; </span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(target, propertyKey, &#123;</span><br><span class="line">      <span class="attr">get</span>: getter,</span><br><span class="line">      <span class="attr">set</span>: setter</span><br><span class="line">    &#125;); </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">  <span class="attr">username</span>: <span class="built_in">string</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Min</span>(<span class="number">8</span>)</span><br><span class="line">  <span class="attr">password</span>: <span class="built_in">string</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">username: <span class="built_in">string</span>, password: <span class="built_in">string</span></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">username</span> = username;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">password</span> = password;</span><br><span class="line">  &#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> u = <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&#x27;Foo&#x27;</span>, <span class="string">&#x27;pass&#x27;</span>); </span><br><span class="line"><span class="comment">// æŠ¥é”™ Your password should be bigger than 8 </span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå±æ€§è£…é¥°å™¨<code>@Min</code>é€šè¿‡è®¾ç½®å­˜å–å™¨ï¼Œæ‹¿åˆ°äº†å®ä¾‹å±æ€§çš„å€¼ã€‚</p><h2 id="å­˜å–å™¨è£…é¥°å™¨">å­˜å–å™¨è£…é¥°å™¨ <a href="about:blank#%E5%AD%98%E5%8F%96%E5%99%A8%E8%A3%85%E9%A5%B0%E5%99%A8">#</a></h2><p>å­˜å–å™¨è£…é¥°å™¨ç”¨æ¥è£…é¥°ç±»çš„å­˜å–å™¨ï¼ˆaccessorï¼‰ã€‚æ‰€è°“â€œå­˜å–å™¨â€æŒ‡çš„æ˜¯æŸä¸ªå±æ€§çš„å–å€¼å™¨ï¼ˆgetterï¼‰å’Œå­˜å€¼å™¨ï¼ˆsetterï¼‰ã€‚</p><p>å­˜å–å™¨è£…é¥°å™¨çš„ç±»å‹å®šä¹‰ï¼Œä¸æ–¹æ³•è£…é¥°å™¨ä¸€è‡´ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">AccessorDecorator</span> = &lt;T&gt;<span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  target: <span class="built_in">Object</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  propertyKey: <span class="built_in">string</span>|<span class="built_in">symbol</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  descriptor: TypedPropertyDescriptor&lt;T&gt;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="title class_">TypedPropertyDescriptor</span>&lt;T&gt; | <span class="built_in">void</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å­˜å–å™¨è£…é¥°å™¨æœ‰ä¸‰ä¸ªå‚æ•°ã€‚</p><ul><li>targetï¼šï¼ˆå¯¹äºé™æ€å±æ€§çš„å­˜å–å™¨ï¼‰ç±»çš„æ„é€ å‡½æ•°ï¼Œæˆ–è€…ï¼ˆå¯¹äºå®ä¾‹å±æ€§çš„å­˜å–å™¨ï¼‰ç±»çš„åŸå‹ã€‚</li><li>propertyKeyï¼šå­˜å–å™¨çš„å±æ€§åã€‚</li><li>descriptorï¼šå­˜å–å™¨çš„å±æ€§æè¿°å¯¹è±¡ã€‚</li></ul><p>å­˜å–å™¨è£…é¥°å™¨çš„è¿”å›å€¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œä¼šä½œä¸ºè¯¥å±æ€§æ–°çš„æè¿°å¯¹è±¡ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">configurable</span>(<span class="params">value: <span class="built_in">boolean</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span></span><br><span class="line"><span class="params">    target: <span class="built_in">any</span>,</span></span><br><span class="line"><span class="params">    propertyKey: <span class="built_in">string</span>,</span></span><br><span class="line"><span class="params">    descriptor: PropertyDescriptor</span></span><br><span class="line"><span class="params">  </span>) &#123;</span><br><span class="line">    descriptor.<span class="property">configurable</span> = value;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">_x</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="keyword">private</span> <span class="attr">_y</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x:<span class="built_in">number</span>, y:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_x</span> = x;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_y</span> = y;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="meta">@configurable</span>(<span class="literal">false</span>)</span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">x</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_x</span>;</span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="meta">@configurable</span>(<span class="literal">false</span>)</span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">y</span>() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_y</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè£…é¥°å™¨<code>@configurable(false)</code>å…³é—­äº†æ‰€è£…é¥°å±æ€§ï¼ˆ<code>x</code>å’Œ<code>y</code>ï¼‰çš„å±æ€§æè¿°å¯¹è±¡çš„<code>configurable</code>é”®ï¼ˆå³å…³é—­äº†å±æ€§çš„å¯é…ç½®æ€§ï¼‰ã€‚</p><p>ä¸‹é¢çš„ç¤ºä¾‹æ˜¯å°†è£…é¥°å™¨ç”¨æ¥éªŒè¯å±æ€§å€¼ï¼Œå¦‚æœèµ‹å€¼ä¸æ»¡è¶³æ¡ä»¶å°±æŠ¥é”™ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">function <span class="title">validator</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  target: Object,</span></span></span><br><span class="line"><span class="params"><span class="function">  propertyKey: <span class="built_in">string</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  descriptor: PropertyDescriptor</span></span></span><br><span class="line"><span class="params"><span class="function"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> originalGet = descriptor.<span class="keyword">get</span>;</span><br><span class="line">  <span class="keyword">const</span> originalSet = descriptor.<span class="keyword">set</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (originalSet) &#123;</span><br><span class="line">    descriptor.<span class="keyword">set</span> = function (val) &#123;</span><br><span class="line">      <span class="keyword">if</span> (val &gt; <span class="number">100</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Error(`Invalid <span class="keyword">value</span> <span class="keyword">for</span> $&#123;propertyKey&#125;`);</span><br><span class="line">      &#125;</span><br><span class="line">      originalSet.call(<span class="keyword">this</span>, val);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">C</span> &#123;</span><br><span class="line">  <span class="meta">#foo!: number;</span></span><br><span class="line"></span><br><span class="line">  @validator</span><br><span class="line">  <span class="function"><span class="keyword">set</span> <span class="title">foo</span>(<span class="params">v</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.<span class="meta">#foo = v;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">get</span> <span class="title">foo</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="meta">#foo;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = <span class="keyword">new</span> C();</span><br><span class="line">c.foo = <span class="number">150</span>;</span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè£…é¥°å™¨ç”¨è‡ªå·±å®šä¹‰çš„å­˜å€¼å™¨ï¼Œå–ä»£äº†åŸæ¥çš„å­˜å€¼å™¨ï¼ŒåŠ å…¥äº†éªŒè¯æ¡ä»¶ã€‚</p><p>TypeScript ä¸å…è®¸å¯¹åŒä¸€ä¸ªå±æ€§çš„å­˜å–å™¨ï¼ˆgetter å’Œ setterï¼‰ä½¿ç”¨åŒä¸€ä¸ªè£…é¥°å™¨ï¼Œä¹Ÿå°±æ˜¯è¯´åªèƒ½è£…é¥°ä¸¤ä¸ªå­˜å–å™¨é‡Œé¢çš„ä¸€ä¸ªï¼Œä¸”å¿…é¡»æ˜¯æ’åœ¨å‰é¢çš„é‚£ä¸€ä¸ªï¼Œå¦åˆ™æŠ¥é”™ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span><br><span class="line">  <span class="meta">#name:string;</span></span><br><span class="line"></span><br><span class="line">  @Decorator</span><br><span class="line">  <span class="function"><span class="keyword">set</span> <span class="title">name</span>(<span class="params">n:<span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.<span class="meta">#name = n;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Decorator <span class="comment">// æŠ¥é”™</span></span><br><span class="line">  <span class="function"><span class="keyword">get</span> <span class="title">name</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="meta">#name;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>@Decorator</code>åŒæ—¶è£…é¥°<code>name</code>å±æ€§çš„å­˜å€¼å™¨å’Œå–å€¼å™¨ï¼Œæ‰€ä»¥æŠ¥é”™ã€‚</p><p>ä½†æ˜¯ï¼Œä¸‹é¢çš„å†™æ³•ä¸ä¼šæŠ¥é”™ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">Person</span> &#123;</span><br><span class="line">  <span class="meta">#name:string;</span></span><br><span class="line"></span><br><span class="line">  @Decorator</span><br><span class="line">  <span class="function"><span class="keyword">set</span> <span class="title">name</span>(<span class="params">n:<span class="built_in">string</span></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.<span class="meta">#name = n;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">get</span> <span class="title">name</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="meta">#name;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>@Decorator</code>åªè£…é¥°å®ƒåé¢ç¬¬ä¸€ä¸ªå‡ºç°çš„å­˜å€¼å™¨ï¼ˆ<code>set name()</code>ï¼‰ï¼Œå¹¶ä¸è£…é¥°å–å€¼å™¨ï¼ˆ<code>get name()</code>ï¼‰ï¼Œæ‰€ä»¥ä¸æŠ¥é”™ã€‚</p><p>è£…é¥°å™¨ä¹‹æ‰€ä»¥ä¸èƒ½åŒæ—¶ç”¨äºåŒä¸€ä¸ªå±æ€§çš„å­˜å€¼å™¨å’Œå–å€¼å™¨ï¼ŒåŸå› æ˜¯è£…é¥°å™¨å¯ä»¥ä»å±æ€§æè¿°å¯¹è±¡ä¸Šé¢ï¼ŒåŒæ—¶æ‹¿åˆ°å–å€¼å™¨å’Œå­˜å€¼å™¨ï¼Œå› æ­¤åªè°ƒç”¨ä¸€æ¬¡å°±å¤Ÿäº†ã€‚</p><h2 id="å‚æ•°è£…é¥°å™¨">å‚æ•°è£…é¥°å™¨ <a href="about:blank#%E5%8F%82%E6%95%B0%E8%A3%85%E9%A5%B0%E5%99%A8">#</a></h2><p>å‚æ•°è£…é¥°å™¨ç”¨æ¥è£…é¥°æ„é€ æ–¹æ³•æˆ–è€…å…¶ä»–æ–¹æ³•çš„å‚æ•°ã€‚å®ƒçš„ç±»å‹å®šä¹‰å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ParameterDecorator</span> = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  target: <span class="built_in">Object</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  propertyKey: <span class="built_in">string</span>|<span class="built_in">symbol</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  parameterIndex: <span class="built_in">number</span></span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å‚æ•°è£…é¥°å™¨æ¥å—ä¸‰ä¸ªå‚æ•°ã€‚</p><ul><li>targetï¼šï¼ˆå¯¹äºé™æ€æ–¹æ³•ï¼‰ç±»çš„æ„é€ å‡½æ•°ï¼Œæˆ–è€…ï¼ˆå¯¹äºç±»çš„å®ä¾‹æ–¹æ³•ï¼‰ç±»çš„åŸå‹å¯¹è±¡ã€‚</li><li>propertyKeyï¼šæ‰€è£…é¥°çš„æ–¹æ³•çš„åå­—ï¼Œç±»å‹ä¸º<code>string|symbol</code>ã€‚</li><li>parameterIndexï¼šå½“å‰å‚æ•°åœ¨æ–¹æ³•çš„å‚æ•°åºåˆ—çš„ä½ç½®ï¼ˆä»0å¼€å§‹ï¼‰ã€‚</li></ul><p>è¯¥è£…é¥°å™¨ä¸éœ€è¦è¿”å›å€¼ï¼Œå¦‚æœæœ‰çš„è¯ä¼šè¢«å¿½ç•¥ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params"></span></span><br><span class="line"><span class="params">  target: <span class="built_in">Object</span>,</span></span><br><span class="line"><span class="params">  propertyKey: <span class="built_in">string</span>|<span class="built_in">symbol</span>,</span></span><br><span class="line"><span class="params">  parameterIndex: <span class="built_in">number</span></span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;<span class="built_in">String</span>(propertyKey)&#125;</span> NO.<span class="subst">$&#123;parameterIndex&#125;</span> Parameter`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> &#123;</span><br><span class="line">  <span class="title function_">member</span>(<span class="params"></span></span><br><span class="line"><span class="params">    <span class="meta">@log</span> x:<span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">    <span class="meta">@log</span> y:<span class="built_in">number</span></span></span><br><span class="line"><span class="params">  </span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`member Parameters: <span class="subst">$&#123;x&#125;</span> <span class="subst">$&#123;y&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> c = <span class="keyword">new</span> <span class="title function_">C</span>();</span><br><span class="line">c.<span class="title function_">member</span>(<span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line"><span class="comment">// member NO.1 Parameter</span></span><br><span class="line"><span class="comment">// member NO.0 Parameter </span></span><br><span class="line"><span class="comment">// member Parameters: 5 5 </span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‚æ•°è£…é¥°å™¨ä¼šè¾“å‡ºå‚æ•°çš„ä½ç½®åºå·ã€‚æ³¨æ„ï¼Œåé¢çš„å‚æ•°ä¼šå…ˆè¾“å‡ºã€‚</p><p>è·Ÿå…¶ä»–è£…é¥°å™¨ä¸åŒï¼Œå‚æ•°è£…é¥°å™¨ä¸»è¦ç”¨äºè¾“å‡ºä¿¡æ¯ï¼Œæ²¡æœ‰åŠæ³•ä¿®æ”¹ç±»çš„è¡Œä¸ºã€‚</p><h2 id="è£…é¥°å™¨çš„æ‰§è¡Œé¡ºåº">è£…é¥°å™¨çš„æ‰§è¡Œé¡ºåº <a href="about:blank#%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F">#</a></h2><p>å‰é¢è¯´è¿‡ï¼Œè£…é¥°å™¨åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå°±æ˜¯åœ¨ä»£ç è§£ææ—¶æ‰§è¡Œï¼Œå“ªæ€•æ ¹æœ¬æ²¡æœ‰è°ƒç”¨ç±»æ–°å»ºå®ä¾‹ï¼Œä¹Ÿä¼šæ‰§è¡Œï¼Œè€Œä¸”ä»æ­¤å°±ä¸å†æ‰§è¡Œäº†ã€‚</p><p>æ‰§è¡Œè£…é¥°å™¨æ—¶ï¼ŒæŒ‰ç…§å¦‚ä¸‹é¡ºåºæ‰§è¡Œã€‚</p><ol><li>å®ä¾‹ç›¸å…³çš„è£…é¥°å™¨ã€‚</li><li>é™æ€ç›¸å…³çš„è£…é¥°å™¨ã€‚</li><li>æ„é€ æ–¹æ³•çš„å‚æ•°è£…é¥°å™¨ã€‚</li><li>ç±»è£…é¥°å™¨ã€‚</li></ol><p>è¯·çœ‹ä¸‹é¢çš„ç¤ºä¾‹ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">function</span> <span class="selector-tag">f</span>(<span class="attribute">key</span>:string):<span class="selector-tag">any</span> &#123;</span><br><span class="line">  <span class="selector-tag">return</span> <span class="selector-tag">function</span> () &#123;</span><br><span class="line">    <span class="selector-tag">console</span><span class="selector-class">.log</span>(<span class="string">&#x27;æ‰§è¡Œï¼š&#x27;</span>, key);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="selector-tag">f</span>(<span class="string">&#x27;ç±»è£…é¥°å™¨&#x27;</span>)</span><br><span class="line"><span class="selector-tag">class</span> <span class="selector-tag">C</span> &#123;</span><br><span class="line">  <span class="variable">@f</span>(<span class="string">&#x27;é™æ€æ–¹æ³•&#x27;</span>)</span><br><span class="line">  static <span class="built_in">method</span>() &#123;&#125;</span><br><span class="line">  </span><br><span class="line">  <span class="variable">@f</span>(<span class="string">&#x27;å®ä¾‹æ–¹æ³•&#x27;</span>)</span><br><span class="line">  <span class="built_in">method</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">constructor</span>(<span class="variable">@f</span>(<span class="string">&#x27;æ„é€ æ–¹æ³•å‚æ•°&#x27;</span>) <span class="attribute">foo</span>:any) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŠ è½½ä¸Šé¢çš„ç¤ºä¾‹ï¼Œè¾“å‡ºå¦‚ä¸‹ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ‰§è¡Œï¼š å®ä¾‹æ–¹æ³•</span><br><span class="line">æ‰§è¡Œï¼š é™æ€æ–¹æ³•</span><br><span class="line">æ‰§è¡Œï¼š æ„é€ æ–¹æ³•å‚æ•°</span><br><span class="line">æ‰§è¡Œï¼š ç±»è£…é¥°å™¨</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŒä¸€çº§è£…é¥°å™¨çš„æ‰§è¡Œé¡ºåºï¼Œæ˜¯æŒ‰ç…§å®ƒä»¬çš„ä»£ç é¡ºåºã€‚ä½†æ˜¯ï¼Œå‚æ•°è£…é¥°å™¨çš„æ‰§è¡Œæ€»æ˜¯æ—©äºæ–¹æ³•è£…é¥°å™¨ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">function</span> <span class="selector-tag">f</span>(<span class="attribute">key</span>:string):<span class="selector-tag">any</span> &#123;</span><br><span class="line">  <span class="selector-tag">return</span> <span class="selector-tag">function</span> () &#123;</span><br><span class="line">    <span class="selector-tag">console</span><span class="selector-class">.log</span>(<span class="string">&#x27;æ‰§è¡Œï¼š&#x27;</span>, key);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">class</span> <span class="selector-tag">C</span> &#123;</span><br><span class="line">  <span class="variable">@f</span>(<span class="string">&#x27;æ–¹æ³•1&#x27;</span>)</span><br><span class="line">  <span class="built_in">m1</span>(<span class="variable">@f</span>(<span class="string">&#x27;å‚æ•°1&#x27;</span>) <span class="attribute">foo</span>:any) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable">@f</span>(<span class="string">&#x27;å±æ€§1&#x27;</span>)</span><br><span class="line">  <span class="attribute">p1</span>: number;</span><br><span class="line"></span><br><span class="line">  <span class="variable">@f</span>(<span class="string">&#x27;æ–¹æ³•2&#x27;</span>)</span><br><span class="line">  <span class="built_in">m2</span>(<span class="variable">@f</span>(<span class="string">&#x27;å‚æ•°2&#x27;</span>) <span class="attribute">foo</span>:any) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable">@f</span>(<span class="string">&#x27;å±æ€§2&#x27;</span>)</span><br><span class="line">  <span class="attribute">p2</span>: number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŠ è½½ä¸Šé¢çš„ç¤ºä¾‹ï¼Œè¾“å‡ºå¦‚ä¸‹ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">æ‰§è¡Œï¼š å‚æ•°1</span><br><span class="line">æ‰§è¡Œï¼š æ–¹æ³•1</span><br><span class="line">æ‰§è¡Œï¼š å±æ€§1</span><br><span class="line">æ‰§è¡Œï¼š å‚æ•°2</span><br><span class="line">æ‰§è¡Œï¼š æ–¹æ³•2</span><br><span class="line">æ‰§è¡Œï¼š å±æ€§2</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå®ä¾‹è£…é¥°å™¨çš„æ‰§è¡Œé¡ºåºï¼Œå®Œå…¨æ˜¯æŒ‰ç…§ä»£ç é¡ºåºçš„ã€‚ä½†æ˜¯ï¼ŒåŒä¸€ä¸ªæ–¹æ³•çš„å‚æ•°è£…é¥°å™¨ï¼Œæ€»æ˜¯æ—©äºè¯¥æ–¹æ³•çš„æ–¹æ³•è£…é¥°å™¨æ‰§è¡Œã€‚</p><p>å¦‚æœåŒä¸€ä¸ªæ–¹æ³•æˆ–å±æ€§æœ‰å¤šä¸ªè£…é¥°å™¨ï¼Œé‚£ä¹ˆè£…é¥°å™¨å°†é¡ºåºåŠ è½½ã€é€†åºæ‰§è¡Œã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">function</span> <span class="selector-tag">f</span>(<span class="attribute">key</span>:string):<span class="selector-tag">any</span> &#123;</span><br><span class="line">  <span class="selector-tag">console</span><span class="selector-class">.log</span>(<span class="string">&#x27;åŠ è½½ï¼š&#x27;</span>, key);</span><br><span class="line">  <span class="selector-tag">return</span> <span class="selector-tag">function</span> () &#123;</span><br><span class="line">    <span class="selector-tag">console</span><span class="selector-class">.log</span>(<span class="string">&#x27;æ‰§è¡Œï¼š&#x27;</span>, key);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">class</span> <span class="selector-tag">C</span> &#123;</span><br><span class="line">  <span class="variable">@f</span>(<span class="string">&#x27;A&#x27;</span>)</span><br><span class="line">  <span class="variable">@f</span>(<span class="string">&#x27;B&#x27;</span>)</span><br><span class="line">  <span class="variable">@f</span>(<span class="string">&#x27;C&#x27;</span>)</span><br><span class="line">  <span class="built_in">m1</span>() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åŠ è½½ï¼š A</span></span><br><span class="line"><span class="comment">// åŠ è½½ï¼š B</span></span><br><span class="line"><span class="comment">// åŠ è½½ï¼š C</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œï¼š C</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œï¼š B</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œï¼š A</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœåŒä¸€ä¸ªæ–¹æ³•æœ‰å¤šä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå‚æ•°ä¹Ÿæ˜¯é¡ºåºåŠ è½½ã€é€†åºæ‰§è¡Œã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">function</span> <span class="selector-tag">f</span>(<span class="attribute">key</span>:string):<span class="selector-tag">any</span> &#123;</span><br><span class="line">  <span class="selector-tag">console</span><span class="selector-class">.log</span>(<span class="string">&#x27;åŠ è½½ï¼š&#x27;</span>, key);</span><br><span class="line">  <span class="selector-tag">return</span> <span class="selector-tag">function</span> () &#123;</span><br><span class="line">    <span class="selector-tag">console</span><span class="selector-class">.log</span>(<span class="string">&#x27;æ‰§è¡Œï¼š&#x27;</span>, key);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">class</span> <span class="selector-tag">C</span> &#123;</span><br><span class="line">  <span class="selector-tag">method</span>(</span><br><span class="line">    <span class="variable">@f</span>(<span class="string">&#x27;A&#x27;</span>) <span class="attribute">a</span>:any,</span><br><span class="line">    <span class="variable">@f</span>(<span class="string">&#x27;B&#x27;</span>) <span class="attribute">b</span>:any,</span><br><span class="line">    <span class="variable">@f</span>(<span class="string">&#x27;C&#x27;</span>) <span class="attribute">c</span>:any,</span><br><span class="line">  ) &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åŠ è½½ï¼š A</span></span><br><span class="line"><span class="comment">// åŠ è½½ï¼š B</span></span><br><span class="line"><span class="comment">// åŠ è½½ï¼š C</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œï¼š C</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œï¼š B</span></span><br><span class="line"><span class="comment">// æ‰§è¡Œï¼š A</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ä¸ºä»€ä¹ˆè£…é¥°å™¨ä¸èƒ½ç”¨äºå‡½æ•°ï¼Ÿ">ä¸ºä»€ä¹ˆè£…é¥°å™¨ä¸èƒ½ç”¨äºå‡½æ•°ï¼Ÿ <a href="about:blank#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A3%85%E9%A5%B0%E5%99%A8%E4%B8%8D%E8%83%BD%E7%94%A8%E4%BA%8E%E5%87%BD%E6%95%B0">#</a></h2><p>è£…é¥°å™¨åªèƒ½ç”¨äºç±»å’Œç±»çš„æ–¹æ³•ï¼Œä¸èƒ½ç”¨äºå‡½æ•°ï¼Œä¸»è¦åŸå› æ˜¯å­˜åœ¨å‡½æ•°æå‡ã€‚</p><p>JavaScript çš„å‡½æ•°ä¸ç®¡åœ¨ä»£ç çš„ä»€ä¹ˆä½ç½®ï¼Œéƒ½ä¼šæå‡åˆ°ä»£ç é¡¶éƒ¨ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">addOne(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">function</span> <span class="title">addOne</span>(n:number) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">n</span> + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>addOne()</code>ä¸ä¼šå› ä¸ºåœ¨å®šä¹‰ä¹‹å‰æ‰§è¡Œè€ŒæŠ¥é”™ï¼ŒåŸå› å°±æ˜¯å‡½æ•°å­˜åœ¨æå‡ï¼Œä¼šè‡ªåŠ¨æå‡åˆ°ä»£ç é¡¶éƒ¨ã€‚</p><p>å¦‚æœå…è®¸è£…é¥°å™¨å¯ä»¥ç”¨äºæ™®é€šå‡½æ•°ï¼Œé‚£ä¹ˆå°±æœ‰å¯èƒ½å¯¼è‡´æ„æƒ³ä¸åˆ°çš„æƒ…å†µã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> add = <span class="keyword">function</span> (<span class="params">target:any</span>) &#123;</span><br><span class="line">  counter++;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">@add</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæœ¬æ¥çš„æ„å›¾æ˜¯è£…é¥°å™¨<code>@add</code>æ¯ä½¿ç”¨ä¸€æ¬¡ï¼Œå˜é‡<code>counter</code>å°±åŠ <code>1</code>ï¼Œä½†æ˜¯å®é™…ä¸Šä¼šæŠ¥é”™ï¼Œå› ä¸ºå‡½æ•°æå‡çš„å­˜åœ¨ï¼Œä½¿å¾—å®é™…æ‰§è¡Œçš„ä»£ç æ˜¯ä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@add <span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> counter = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> add = <span class="keyword">function</span> (<span class="params">target:any</span>) &#123;</span><br><span class="line">  counter++;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>@add</code>è¿˜æ²¡æœ‰å®šä¹‰å°±è°ƒç”¨äº†ï¼Œä»è€ŒæŠ¥é”™ã€‚</p><p>æ€»ä¹‹ï¼Œç”±äºå­˜åœ¨å‡½æ•°æå‡ï¼Œä½¿å¾—è£…é¥°å™¨ä¸èƒ½ç”¨äºå‡½æ•°ã€‚ç±»æ˜¯ä¸ä¼šæå‡çš„ï¼Œæ‰€ä»¥å°±æ²¡æœ‰è¿™æ–¹é¢çš„é—®é¢˜ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œå¦‚æœä¸€å®šè¦è£…é¥°å‡½æ•°ï¼Œå¯ä»¥é‡‡ç”¨é«˜é˜¶å‡½æ•°çš„å½¢å¼ç›´æ¥æ‰§è¡Œï¼Œæ²¡å¿…è¦å†™æˆè£…é¥°å™¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Hello, &#x27;</span> + name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loggingDecorator</span>(<span class="params">wrapped</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Starting&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> result = wrapped.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Finished&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> wrapped = <span class="title function_">loggingDecorator</span>(doSomething);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>loggingDecorator()</code>æ˜¯ä¸€ä¸ªè£…é¥°å™¨ï¼Œåªè¦æŠŠåŸå§‹å‡½æ•°ä¼ å…¥å®ƒæ‰§è¡Œï¼Œå°±èƒ½èµ·åˆ°è£…é¥°å™¨çš„æ•ˆæœã€‚</p><h2 id="å¤šä¸ªè£…é¥°å™¨çš„åˆæˆ">å¤šä¸ªè£…é¥°å™¨çš„åˆæˆ <a href="about:blank#%E5%A4%9A%E4%B8%AA%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E5%90%88%E6%88%90">#</a></h2><p>å¤šä¸ªè£…é¥°å™¨å¯ä»¥åº”ç”¨äºåŒä¸€ä¸ªç›®æ ‡å¯¹è±¡ï¼Œå¯ä»¥å†™åœ¨ä¸€è¡Œã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@f</span> <span class="variable">@g</span> x</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè£…é¥°å™¨<code>@f</code>å’Œ<code>@g</code>åŒæ—¶è£…é¥°ç›®æ ‡å¯¹è±¡<code>x</code>ã€‚</p><p>å¤šä¸ªè£…é¥°å™¨ä¹Ÿå¯ä»¥å†™æˆå¤šè¡Œã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@f</span></span><br><span class="line"><span class="variable">@g</span></span><br><span class="line">x</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¤šä¸ªè£…é¥°å™¨çš„æ•ˆæœï¼Œç±»ä¼¼äºå‡½æ•°çš„åˆæˆï¼ŒæŒ‰ç…§ä»é‡Œåˆ°å¤–çš„é¡ºåºæ‰§è¡Œã€‚å¯¹äºä¸Šä¾‹æ¥è¯´ï¼Œå°±æ˜¯æ‰§è¡Œ<code>f(g(x))</code>ã€‚</p><p>å‰é¢ä¹Ÿè¯´è¿‡ï¼Œå¦‚æœ<code>f</code>å’Œ<code>g</code>æ˜¯è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆéœ€è¦å…ˆä»å¤–åˆ°é‡Œæ±‚å€¼ã€‚</p><h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ <a href="about:blank#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">#</a></h2><ul><li><a href="https://saul-mirone.github.io/a-complete-guide-to-typescript-decorator/">A Complete Guide to TypeScript Decorators</a>, by Saul Mirone</li><li><a href="https://techsparx.com/nodejs/typescript/decorators/introduction.html">Deep introduction to using and implementing TypeScript decorators</a>, by David Herron</li><li><a href="https://techsparx.com/nodejs/typescript/decorators/properties.html">Deep introduction to property decorators in TypeScript</a>, by David Herron</li><li><a href="https://techsparx.com/nodejs/typescript/decorators/accessors.html">Deep introduction to accessor decorators in TypeScript</a>, by David Herron</li><li><a href="https://dev.to/danywalls/using-property-decorators-in-typescript-with-a-real-example-44e">Using Property Decorators in Typescript with a real example</a>, by Dany Paredes</li></ul><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/decorator-legacy">https://wangdoc.com/typescript/decorator-legacy</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript è£…é¥°å™¨ï¼ˆæ—§è¯­æ³•ï¼‰</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript è£…é¥°å™¨</title>
    <link href="https://www.fomal.cc/posts/23.html"/>
    <id>https://www.fomal.cc/posts/23.html</id>
    <published>2023-06-17T10:50:00.000Z</published>
    <updated>2023-06-17T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>TypeScript è£…é¥°å™¨</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><h2 id="ç®€ä»‹">ç®€ä»‹ <a href="about:blank#%E7%AE%80%E4%BB%8B">#</a></h2><p>è£…é¥°å™¨ï¼ˆDecoratorï¼‰æ˜¯ä¸€ç§è¯­æ³•ç»“æ„ï¼Œç”¨æ¥åœ¨å®šä¹‰æ—¶ä¿®æ”¹ç±»ï¼ˆclassï¼‰çš„è¡Œä¸ºã€‚</p><p>åœ¨è¯­æ³•ä¸Šï¼Œè£…é¥°å™¨æœ‰å¦‚ä¸‹å‡ ä¸ªç‰¹å¾ã€‚</p><p>ï¼ˆ1ï¼‰ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼ˆæˆ–è€…è¯´å‰ç¼€ï¼‰æ˜¯<code>@</code>ï¼Œåé¢æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚</p><p>ï¼ˆ2ï¼‰<code>@</code>åé¢çš„è¡¨è¾¾å¼ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆæˆ–è€…æ‰§è¡Œåå¯ä»¥å¾—åˆ°ä¸€ä¸ªå‡½æ•°ï¼‰ã€‚</p><p>ï¼ˆ3ï¼‰è¿™ä¸ªå‡½æ•°æ¥å—æ‰€ä¿®é¥°å¯¹è±¡çš„ä¸€äº›ç›¸å…³å€¼ä½œä¸ºå‚æ•°ã€‚</p><p>ï¼ˆ4ï¼‰è¿™ä¸ªå‡½æ•°è¦ä¹ˆä¸è¿”å›å€¼ï¼Œè¦ä¹ˆè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡å–ä»£æ‰€ä¿®é¥°çš„ç›®æ ‡å¯¹è±¡ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªå‡½æ•°<code>Injectable()</code>å½“ä½œè£…é¥°å™¨ä½¿ç”¨ï¼Œé‚£ä¹ˆéœ€è¦å†™æˆ<code>@Injectable</code>ï¼Œç„¶åæ”¾åœ¨æŸä¸ªç±»çš„å‰é¢ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Injectable</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç”±äºæœ‰äº†è£…é¥°å™¨<code>@Injectable</code>ï¼Œç±»<code>A</code>çš„è¡Œä¸ºåœ¨è¿è¡Œæ—¶å°±ä¼šå‘ç”Ÿæ”¹å˜ã€‚</p><p>ä¸‹é¢å°±æ˜¯ä¸€ä¸ªæœ€ç®€å•çš„è£…é¥°å™¨ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">simpleDecorator</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.<span class="built_in">log</span>(<span class="string">&#x27;hi&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@simpleDecorator</span><br><span class="line">class A &#123;&#125; <span class="comment">// &quot;hi&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>simpleDecorator()</code>ç”¨ä½œè£…é¥°å™¨ï¼Œé™„åŠ åœ¨ç±»<code>A</code>ä¹‹ä¸Šï¼Œåè€…åœ¨ä»£ç è§£ææ—¶å°±ä¼šæ‰“å°ä¸€è¡Œæ—¥å¿—ã€‚</p><p>ç¼–è¯‘ä¸Šé¢çš„ä»£ç ä¼šæŠ¥é”™ï¼Œæç¤ºæ²¡æœ‰ç”¨åˆ°è£…é¥°å™¨çš„å‚æ•°ã€‚ç°åœ¨å°±ä¸ºè£…é¥°å™¨åŠ ä¸Šå‚æ•°ï¼Œè®©å®ƒæ›´åƒæ­£å¼è¿è¡Œçš„ä»£ç ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">simpleDecorator</span>(<span class="params"></span></span><br><span class="line"><span class="params">  value:<span class="built_in">any</span>,</span></span><br><span class="line"><span class="params">  context:<span class="built_in">any</span></span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`hi, this is <span class="subst">$&#123;context.kind&#125;</span> <span class="subst">$&#123;context.name&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@simpleDecorator</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;&#125; <span class="comment">// &quot;hi, this is class A&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç å°±å¯ä»¥é¡ºåˆ©é€šè¿‡ç¼–è¯‘äº†ï¼Œä»£ç å«ä¹‰è¿™é‡Œå…ˆä¸è§£é‡Šã€‚å¤§å®¶åªè¦ç†è§£ï¼Œç±»<code>A</code>åœ¨æ‰§è¡Œå‰ä¼šå…ˆæ‰§è¡Œè£…é¥°å™¨<code>simpleDecorator()</code>ï¼Œå¹¶ä¸”ä¼šå‘è£…é¥°å™¨è‡ªåŠ¨ä¼ å…¥å‚æ•°å°±å¯ä»¥äº†ã€‚</p><p>è£…é¥°å™¨æœ‰å¤šç§å½¢å¼ï¼ŒåŸºæœ¬ä¸Šåªè¦åœ¨<code>@</code>ç¬¦å·åé¢æ·»åŠ è¡¨è¾¾å¼éƒ½æ˜¯å¯ä»¥çš„ã€‚ä¸‹é¢éƒ½æ˜¯åˆæ³•çš„è£…é¥°å™¨ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@myFunc</span></span><br><span class="line"><span class="variable">@myFuncFactory</span>(arg1, arg2)</span><br><span class="line"></span><br><span class="line"><span class="variable">@libraryModule</span>.prop</span><br><span class="line"><span class="variable">@someObj</span>.<span class="built_in">method</span>(<span class="number">123</span>)</span><br><span class="line"></span><br><span class="line">@(<span class="built_in">wrap</span>(dict[<span class="string">&#x27;prop&#x27;</span>]))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œ<code>@</code>åé¢çš„è¡¨è¾¾å¼ï¼Œæœ€ç»ˆæ‰§è¡Œåå¾—åˆ°çš„åº”è¯¥æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p><p>ç›¸æ¯”ä½¿ç”¨å­ç±»æ”¹å˜çˆ¶ç±»ï¼Œè£…é¥°å™¨æ›´åŠ ç®€æ´ä¼˜é›…ï¼Œç¼ºç‚¹æ˜¯ä¸é‚£ä¹ˆç›´è§‚ï¼ŒåŠŸèƒ½ä¹Ÿå—åˆ°ä¸€äº›é™åˆ¶ã€‚æ‰€ä»¥ï¼Œè£…é¥°å™¨ä¸€èˆ¬åªç”¨æ¥ä¸ºç±»æ·»åŠ æŸç§ç‰¹å®šè¡Œä¸ºã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@frozen</span> class Foo &#123;</span><br><span class="line"></span><br><span class="line">  <span class="variable">@configurable</span>(false)</span><br><span class="line">  <span class="variable">@enumerable</span>(true)</span><br><span class="line">  <span class="built_in">method</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable">@throttle</span>(<span class="number">500</span>)</span><br><span class="line">  <span class="built_in">expensiveMethod</span>() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œä¸€å…±æœ‰å››ä¸ªè£…é¥°å™¨ï¼Œä¸€ä¸ªç”¨åœ¨ç±»æœ¬èº«ï¼ˆ<code>@frozen</code>ï¼‰ï¼Œå¦å¤–ä¸‰ä¸ªç”¨åœ¨ç±»çš„æ–¹æ³•ï¼ˆ<code>@configurable</code>ã€<code>@enumerable</code>ã€<code>@throttle</code>ï¼‰ã€‚å®ƒä»¬ä¸ä»…å¢åŠ äº†ä»£ç çš„å¯è¯»æ€§ï¼Œæ¸…æ™°åœ°è¡¨è¾¾äº†æ„å›¾ï¼Œè€Œä¸”æä¾›ä¸€ç§æ–¹ä¾¿çš„æ‰‹æ®µï¼Œå¢åŠ æˆ–ä¿®æ”¹ç±»çš„åŠŸèƒ½ã€‚</p><h2 id="è£…é¥°å™¨çš„ç‰ˆæœ¬">è£…é¥°å™¨çš„ç‰ˆæœ¬ <a href="about:blank#%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E7%89%88%E6%9C%AC">#</a></h2><p>TypeScript ä»æ—©æœŸå¼€å§‹ï¼Œå°±æ”¯æŒè£…é¥°å™¨ã€‚ä½†æ˜¯ï¼Œè£…é¥°å™¨çš„è¯­æ³•åæ¥å‘ç”Ÿäº†å˜åŒ–ã€‚ECMAScript æ ‡å‡†å§”å‘˜ä¼šæœ€ç»ˆé€šè¿‡çš„è¯­æ³•æ ‡å‡†ï¼Œä¸ TypeScript æ—©æœŸä½¿ç”¨çš„è¯­æ³•æœ‰å¾ˆå¤§å·®å¼‚ã€‚</p><p>ç›®å‰ï¼ŒTypeScript 5.0 åŒæ—¶æ”¯æŒä¸¤ç§è£…é¥°å™¨è¯­æ³•ã€‚æ ‡å‡†è¯­æ³•å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä¼ ç»Ÿè¯­æ³•éœ€è¦æ‰“å¼€<code>--experimentalDecorators</code>ç¼–è¯‘å‚æ•°ã€‚</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">$ tsc</span> <span class="literal">--</span><span class="comment">target ES5</span> <span class="literal">--</span><span class="comment">experimentalDecorators</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ¬ç« ä»‹ç»è£…é¥°å™¨çš„æ ‡å‡†è¯­æ³•ï¼Œä¸‹ä¸€ç« ä»‹ç»ä¼ ç»Ÿè¯­æ³•ã€‚</p><h2 id="è£…é¥°å™¨çš„ç»“æ„">è£…é¥°å™¨çš„ç»“æ„ <a href="about:blank#%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E7%BB%93%E6%9E%84">#</a></h2><p>è£…é¥°å™¨å‡½æ•°çš„ç±»å‹å®šä¹‰å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Decorator</span> = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  value: DecoratedValue,</span></span></span><br><span class="line"><span class="params"><span class="function">  context: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    kind: <span class="built_in">string</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    name: <span class="built_in">string</span> | <span class="built_in">symbol</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    addInitializer?(initializer: () =&gt; <span class="built_in">void</span>): <span class="built_in">void</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">static</span>?: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span>?: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    access: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">      get?(): <span class="built_in">unknown</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">      set?(value: <span class="built_in">unknown</span>): <span class="built_in">void</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="built_in">void</span> | <span class="title class_">ReplacementValue</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>Decorator</code>æ˜¯è£…é¥°å™¨çš„ç±»å‹å®šä¹‰ã€‚å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨æ—¶ä¼šæ¥æ”¶åˆ°<code>value</code>å’Œ<code>context</code>ä¸¤ä¸ªå‚æ•°ã€‚</p><ul><li><code>value</code>ï¼šæ‰€è£…é¥°çš„å¯¹è±¡ã€‚</li><li><code>context</code>ï¼šä¸Šä¸‹æ–‡å¯¹è±¡ï¼ŒTypeScript æä¾›ä¸€ä¸ªåŸç”Ÿæ¥å£<code>ClassMethodDecoratorContext</code>ï¼Œæè¿°è¿™ä¸ªå¯¹è±¡ã€‚</li></ul><figure class="highlight wren"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">function</span> <span class="title function_">decorator</span>(</span><br><span class="line">  <span class="params">value</span>:<span class="params">any</span>,</span><br><span class="line">  <span class="params">context</span>:<span class="params">ClassMethodDecoratorContext</span></span><br><span class="line">) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ä¸€ä¸ªè£…é¥°å™¨å‡½æ•°ï¼Œå…¶ä¸­ç¬¬äºŒä¸ªå‚æ•°<code>context</code>çš„ç±»å‹å°±å¯ä»¥å†™æˆ<code>ClassMethodDecoratorContext</code>ã€‚</p><p><code>context</code>å¯¹è±¡çš„å±æ€§ï¼Œæ ¹æ®æ‰€è£…é¥°å¯¹è±¡çš„ä¸åŒè€Œä¸åŒï¼Œå…¶ä¸­åªæœ‰ä¸¤ä¸ªå±æ€§ï¼ˆ<code>kind</code>å’Œ<code>name</code>ï¼‰æ˜¯å¿…æœ‰çš„ï¼Œå…¶ä»–éƒ½æ˜¯å¯é€‰çš„ã€‚</p><p>ï¼ˆ1ï¼‰<code>kind</code>ï¼šå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæ‰€è£…é¥°å¯¹è±¡çš„ç±»å‹ï¼Œå¯èƒ½å–ä»¥ä¸‹çš„å€¼ã€‚</p><ul><li>â€˜classâ€™</li><li>â€˜methodâ€™</li><li>â€˜getterâ€™</li><li>â€˜setterâ€™</li><li>â€˜fieldâ€™</li><li>â€˜accessorâ€™</li></ul><p>è¿™è¡¨ç¤ºä¸€å…±æœ‰å…­ç§ç±»å‹çš„è£…é¥°å™¨ã€‚</p><p>ï¼ˆ2ï¼‰<code>name</code>ï¼šå­—ç¬¦ä¸²æˆ–è€… Symbol å€¼ï¼Œæ‰€è£…é¥°å¯¹è±¡çš„åå­—ï¼Œæ¯”å¦‚ç±»åã€å±æ€§åç­‰ã€‚</p><p>ï¼ˆ3ï¼‰<code>addInitializer()</code>ï¼šå‡½æ•°ï¼Œç”¨æ¥æ·»åŠ ç±»çš„åˆå§‹åŒ–é€»è¾‘ã€‚ä»¥å‰ï¼Œè¿™äº›é€»è¾‘é€šå¸¸æ”¾åœ¨æ„é€ å‡½æ•°é‡Œé¢ï¼Œå¯¹æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ï¼Œç°åœ¨æ”¹æˆä»¥å‡½æ•°å½¢å¼ä¼ å…¥<code>addInitializer()</code>æ–¹æ³•ã€‚æ³¨æ„ï¼Œ<code>addInitializer()</code>æ²¡æœ‰è¿”å›å€¼ã€‚</p><p>ï¼ˆ4ï¼‰<code>private</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ‰€è£…é¥°çš„å¯¹è±¡æ˜¯å¦ä¸ºç±»çš„ç§æœ‰æˆå‘˜ã€‚</p><p>ï¼ˆ5ï¼‰<code>static</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ‰€è£…é¥°çš„å¯¹è±¡æ˜¯å¦ä¸ºç±»çš„é™æ€æˆå‘˜ã€‚</p><p>ï¼ˆ6ï¼‰<code>access</code>ï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«äº†æŸä¸ªå€¼çš„ get å’Œ set æ–¹æ³•ã€‚</p><h2 id="ç±»è£…é¥°å™¨">ç±»è£…é¥°å™¨ <a href="about:blank#%E7%B1%BB%E8%A3%85%E9%A5%B0%E5%99%A8">#</a></h2><p>ç±»è£…é¥°å™¨çš„ç±»å‹æè¿°å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ClassDecorator</span> = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  value: <span class="built_in">Function</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  context: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    kind: <span class="string">&#x27;class&#x27;</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    name: <span class="built_in">string</span> | <span class="literal">undefined</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    addInitializer(initializer: () =&gt; <span class="built_in">void</span>): <span class="built_in">void</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="title class_">Function</span> | <span class="built_in">void</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç±»è£…é¥°å™¨æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š<code>value</code>ï¼ˆå½“å‰ç±»æœ¬èº«ï¼‰å’Œ<code>context</code>ï¼ˆä¸Šä¸‹æ–‡å¯¹è±¡ï¼‰ã€‚å…¶ä¸­ï¼Œ<code>context</code>å¯¹è±¡çš„<code>kind</code>å±æ€§å›ºå®šä¸ºå­—ç¬¦ä¸²<code>class</code>ã€‚</p><p>ç±»è£…é¥°å™¨ä¸€èˆ¬ç”¨æ¥å¯¹ç±»è¿›è¡Œæ“ä½œï¼Œå¯ä»¥ä¸è¿”å›ä»»ä½•å€¼ï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Greeter</span>(<span class="params">value, context</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (context.<span class="property">kind</span> === <span class="string">&#x27;class&#x27;</span>) &#123;</span><br><span class="line">    value.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">greet</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ä½ å¥½&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="title class_">Greeter</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> u = <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">u.<span class="title function_">greet</span>(); <span class="comment">// &quot;ä½ å¥½&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»è£…é¥°å™¨<code>@Greeter</code>åœ¨ç±»<code>User</code>çš„åŸå‹å¯¹è±¡ä¸Šï¼Œæ·»åŠ äº†ä¸€ä¸ª<code>greet()</code>æ–¹æ³•ï¼Œå®ä¾‹å°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¯¥æ–¹æ³•ã€‚</p><p>ç±»è£…é¥°å™¨å¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ›¿ä»£å½“å‰ç±»çš„æ„é€ æ–¹æ³•ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">countInstances</span><span class="params">(value:any, context:any)</span> &#123;</span><br><span class="line">  let instanceCount = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> wrapper = <span class="keyword">function</span> <span class="params">(<span class="rest_arg">...args</span>:any[])</span> &#123;</span><br><span class="line">    instanceCount++;</span><br><span class="line">    <span class="keyword">const</span> instance = <span class="keyword">new</span> value(...args);</span><br><span class="line">    instance.count = instanceCount;</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  &#125; <span class="keyword">as</span> unknown <span class="keyword">as</span> <span class="keyword">typeof</span> MyClass;</span><br><span class="line"></span><br><span class="line">  wrapper.prototype = value.prototype; <span class="comment">// A</span></span><br><span class="line">  <span class="keyword">return</span> wrapper;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@countInstances</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> inst1 = <span class="keyword">new</span> MyClass();</span><br><span class="line">inst1 <span class="keyword">instanceof</span> MyClass <span class="comment">// true</span></span><br><span class="line">inst1.count <span class="comment">// 1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»è£…é¥°å™¨<code>@countInstances</code>è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œæ›¿æ¢äº†ç±»<code>MyClass</code>çš„æ„é€ æ–¹æ³•ã€‚æ–°çš„æ„é€ æ–¹æ³•å®ç°äº†å®ä¾‹çš„è®¡æ•°ï¼Œæ¯æ–°å»ºä¸€ä¸ªå®ä¾‹ï¼Œè®¡æ•°å™¨å°±ä¼šåŠ ä¸€ï¼Œå¹¶ä¸”å¯¹å®ä¾‹æ·»åŠ <code>count</code>å±æ€§ï¼Œè¡¨ç¤ºå½“å‰å®ä¾‹çš„ç¼–å·ã€‚</p><p>æ³¨æ„ï¼Œä¸Šä¾‹ä¸ºäº†ç¡®ä¿æ–°æ„é€ æ–¹æ³•ç»§æ‰¿å®šä¹‰åœ¨<code>MyClass</code>çš„åŸå‹ä¹‹ä¸Šçš„æˆå‘˜ï¼Œç‰¹åˆ«åŠ å…¥<code>A</code>è¡Œï¼Œç¡®ä¿ä¸¤è€…çš„åŸå‹å¯¹è±¡æ˜¯ä¸€è‡´çš„ã€‚å¦åˆ™ï¼Œæ–°çš„æ„é€ å‡½æ•°<code>wrapper</code>çš„åŸå‹å¯¹è±¡ï¼Œä¸<code>MyClass</code>ä¸åŒï¼Œé€šä¸è¿‡<code>instanceof</code>è¿ç®—ç¬¦ã€‚</p><p>ç±»è£…é¥°å™¨ä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªæ–°çš„ç±»ï¼Œæ›¿ä»£åŸæ¥æ‰€è£…é¥°çš„ç±»ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function countInstances(value:any, context:any) &#123;</span><br><span class="line">  let instanceCount = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="keyword">extends</span> <span class="title">value</span> </span>&#123;</span><br><span class="line">    constructor(...args:any[]) &#123;</span><br><span class="line">      <span class="keyword">super</span>(...args);</span><br><span class="line">      instanceCount++;</span><br><span class="line">      <span class="keyword">this</span>.count = instanceCount;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@countInstances</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">const inst1 = <span class="keyword">new</span> <span class="type">MyClass</span>();</span><br><span class="line">inst1 instanceof <span class="type">MyClass</span> <span class="comment">// true</span></span><br><span class="line">inst1.count <span class="comment">// 1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>@countInstances</code>è¿”å›ä¸€ä¸ª<code>MyClass</code>çš„å­ç±»ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ˜¯é€šè¿‡ç±»è£…é¥°å™¨ï¼Œç¦æ­¢ä½¿ç”¨<code>new</code>å‘½ä»¤æ–°å»ºç±»çš„å®ä¾‹ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">functionCallable</span><span class="params">(</span></span><br><span class="line"><span class="params">  value:any, &#123;kind&#125;:any</span></span><br><span class="line"><span class="params">)</span>:any &#123;</span><br><span class="line">  <span class="keyword">if</span> (kind === <span class="string">&#x27;class&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> <span class="params">(<span class="rest_arg">...args</span>:any)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">new</span>.target !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> TypeError(<span class="string">&#x27;This function canâ€™t be new-invoked&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> value(...args);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@functionCallable</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  name:string;</span><br><span class="line">  constructor(name:string) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// @ts-ignore</span></span><br><span class="line"><span class="keyword">const</span> robin = Person(<span class="string">&#x27;Robin&#x27;</span>);</span><br><span class="line">robin.name <span class="comment">// &#x27;Robin&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»è£…é¥°å™¨<code>@functionCallable</code>è¿”å›ä¸€ä¸ªæ–°çš„æ„é€ æ–¹æ³•ï¼Œé‡Œé¢åˆ¤æ–­<code>new.target</code>æ˜¯å¦ä¸ä¸ºç©ºï¼Œå¦‚æœæ˜¯çš„ï¼Œå°±è¡¨ç¤ºé€šè¿‡<code>new</code>å‘½ä»¤è°ƒç”¨ï¼Œä»è€ŒæŠ¥é”™ã€‚</p><p>ç±»è£…é¥°å™¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡<code>context</code>çš„<code>addInitializer()</code>æ–¹æ³•ï¼Œç”¨æ¥å®šä¹‰ä¸€ä¸ªç±»çš„åˆå§‹åŒ–å‡½æ•°ï¼Œåœ¨ç±»å®Œå…¨å®šä¹‰ç»“æŸåæ‰§è¡Œã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">customElement</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &lt;<span class="title class_">Input</span> <span class="keyword">extends</span> <span class="keyword">new</span> (...<span class="attr">args</span>: <span class="built_in">any</span>) =&gt; <span class="built_in">any</span>&gt;<span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    value: Input,</span></span></span><br><span class="line"><span class="params"><span class="function">    context: ClassDecoratorContext</span></span></span><br><span class="line"><span class="params"><span class="function">  </span>) =&gt;</span> &#123;</span><br><span class="line">    context.<span class="title function_">addInitializer</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      customElements.<span class="title function_">define</span>(name, value);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@customElement</span>(<span class="string">&quot;hello-world&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyComponent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">HTMLElement</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">connectedCallback</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">innerHTML</span> = <span class="string">`&lt;h1&gt;Hello World&lt;/h1&gt;`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»<code>MyComponent</code>å®šä¹‰å®Œæˆåï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œç±»è£…é¥°å™¨<code>@customElement()</code>ç»™å‡ºçš„åˆå§‹åŒ–å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šå°†å½“å‰ç±»æ³¨å†Œä¸ºæŒ‡å®šåç§°ï¼ˆæœ¬ä¾‹ä¸º<code>&lt;hello-world&gt;</code>ï¼‰çš„è‡ªå®šä¹‰ HTML å…ƒç´ ã€‚</p><h2 id="æ–¹æ³•è£…é¥°å™¨">æ–¹æ³•è£…é¥°å™¨ <a href="about:blank#%E6%96%B9%E6%B3%95%E8%A3%85%E9%A5%B0%E5%99%A8">#</a></h2><p>æ–¹æ³•è£…é¥°å™¨ç”¨æ¥è£…é¥°ç±»çš„æ–¹æ³•ï¼ˆmethodï¼‰ã€‚å®ƒçš„ç±»å‹æè¿°å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ClassMethodDecorator</span> = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  value: <span class="built_in">Function</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  context: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    kind: <span class="string">&#x27;method&#x27;</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    name: <span class="built_in">string</span> | <span class="built_in">symbol</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">static</span>: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span>: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    access: &#123; get: () =&gt; <span class="built_in">unknown</span> &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">    addInitializer(initializer: () =&gt; <span class="built_in">void</span>): <span class="built_in">void</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="title class_">Function</span> | <span class="built_in">void</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ ¹æ®ä¸Šé¢çš„ç±»å‹ï¼Œæ–¹æ³•è£…é¥°å™¨æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š<code>value</code>å’Œ<code>context</code>ã€‚</p><p>å‚æ•°<code>value</code>æ˜¯æ–¹æ³•æœ¬èº«ï¼Œå‚æ•°<code>context</code>æ˜¯ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œæœ‰ä»¥ä¸‹å±æ€§ã€‚</p><ul><li><code>kind</code>ï¼šå€¼å›ºå®šä¸ºå­—ç¬¦ä¸²<code>method</code>ï¼Œè¡¨ç¤ºå½“å‰ä¸ºæ–¹æ³•è£…é¥°å™¨ã€‚</li><li><code>name</code>ï¼šæ‰€è£…é¥°çš„æ–¹æ³•åï¼Œç±»å‹ä¸ºå­—ç¬¦ä¸²æˆ– Symbol å€¼ã€‚</li><li><code>static</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦ä¸ºé™æ€æ–¹æ³•ã€‚è¯¥å±æ€§ä¸ºåªè¯»å±æ€§ã€‚</li><li><code>private</code>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦ä¸ºç§æœ‰æ–¹æ³•ã€‚è¯¥å±æ€§ä¸ºåªè¯»å±æ€§ã€‚</li><li><code>access</code>ï¼šå¯¹è±¡ï¼ŒåŒ…å«äº†æ–¹æ³•çš„å­˜å–å™¨ï¼Œä½†æ˜¯åªæœ‰<code>get()</code>æ–¹æ³•ç”¨æ¥å–å€¼ï¼Œæ²¡æœ‰<code>set()</code>æ–¹æ³•è¿›è¡Œèµ‹å€¼ã€‚</li><li><code>addInitializer()</code>ï¼šä¸ºæ–¹æ³•å¢åŠ åˆå§‹åŒ–å‡½æ•°ã€‚</li></ul><p>æ–¹æ³•è£…é¥°å™¨ä¼šæ”¹å†™ç±»çš„åŸå§‹æ–¹æ³•ï¼Œå®è´¨ç­‰åŒäºä¸‹é¢çš„æ“ä½œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">trace</span>(<span class="params">decoratedMethod</span>) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> &#123;</span><br><span class="line">  @trace</span><br><span class="line">  <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;C&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// `@trace` ç­‰åŒäº</span></span><br><span class="line"><span class="comment">// C.prototype.toString = trace(C.prototype.toString);</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>@trace</code>æ˜¯æ–¹æ³•<code>toString()</code>çš„è£…é¥°å™¨ï¼Œå®ƒçš„æ•ˆæœç­‰åŒäºæœ€åä¸€è¡Œå¯¹<code>toString()</code>çš„æ”¹å†™ã€‚</p><p>å¦‚æœæ–¹æ³•è£…é¥°å™¨è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œå°±ä¼šæ›¿ä»£æ‰€è£…é¥°çš„åŸå§‹å‡½æ•°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">replaceMethod</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`How are you, <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>?`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @replaceMethod</span><br><span class="line">  <span class="title function_">hello</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`Hi <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>!`</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> robin = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Robin&#x27;</span>);</span><br><span class="line"></span><br><span class="line">robin.<span class="title function_">hello</span>() <span class="comment">// &#x27;How are you, Robin?&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè£…é¥°å™¨<code>@replaceMethod</code>è¿”å›çš„å‡½æ•°ï¼Œå°±æˆä¸ºäº†æ–°çš„<code>hello()</code>æ–¹æ³•ã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@log</span></span><br><span class="line">  <span class="title function_">greet</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello, my name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">originalMethod:<span class="built_in">any</span>, context:ClassMethodDecoratorContext</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> methodName = <span class="title class_">String</span>(context.<span class="property">name</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">replacementMethod</span>(<span class="params"><span class="variable language_">this</span>: <span class="built_in">any</span>, ...args: <span class="built_in">any</span>[]</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`LOG: Entering method &#x27;<span class="subst">$&#123;methodName&#125;</span>&#x27;.`</span>)</span><br><span class="line">    <span class="keyword">const</span> result = originalMethod.<span class="title function_">call</span>(<span class="variable language_">this</span>, ...args);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`LOG: Exiting method &#x27;<span class="subst">$&#123;methodName&#125;</span>&#x27;.`</span>)</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> replacementMethod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å¼ ä¸‰&#x27;</span>);</span><br><span class="line">person.<span class="title function_">greet</span>()</span><br><span class="line"><span class="comment">// &quot;LOG: Entering method &#x27;greet&#x27;.&quot;</span></span><br><span class="line"><span class="comment">// &quot;Hello, my name is å¼ ä¸‰.&quot;</span></span><br><span class="line"><span class="comment">// &quot;LOG: Exiting method &#x27;greet&#x27;.&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè£…é¥°å™¨<code>@log</code>çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°<code>replacementMethod</code>ï¼Œæ›¿ä»£äº†åŸå§‹æ–¹æ³•<code>greet()</code>ã€‚åœ¨<code>replacementMethod()</code>å†…éƒ¨ï¼Œé€šè¿‡æ‰§è¡Œ<code>originalMethod.call()</code>å®Œæˆäº†å¯¹åŸå§‹æ–¹æ³•çš„è°ƒç”¨ã€‚</p><p>åˆ©ç”¨æ–¹æ³•è£…é¥°å™¨ï¼Œå¯ä»¥å°†ç±»çš„æ–¹æ³•å˜æˆå»¶è¿Ÿæ‰§è¡Œã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">delay</span><span class="params">(milliseconds: number = 0)</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> <span class="params">(value, context)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (context.kind === <span class="string">&quot;method&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">function</span> <span class="params">(<span class="rest_arg">...args</span>: any[])</span> &#123;</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">          value.apply(<span class="keyword">this</span>, args);</span><br><span class="line">        &#125;, milliseconds);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span> &#123;</span><br><span class="line">  @delay(<span class="number">1000</span>)</span><br><span class="line">  log(msg: string) &#123;</span><br><span class="line">    console.log(`$&#123;msg&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let logger = <span class="keyword">new</span> Logger();</span><br><span class="line">logger.log(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ–¹æ³•è£…é¥°å™¨<code>@delay(1000)</code>å°†æ–¹æ³•<code>log()</code>çš„æ‰§è¡Œæ¨è¿Ÿäº†1ç§’ï¼ˆ1000æ¯«ç§’ï¼‰ã€‚è¿™é‡ŒçœŸæ­£çš„æ–¹æ³•è£…é¥°å™¨ï¼Œæ˜¯<code>delay()</code>æ‰§è¡Œåè¿”å›çš„å‡½æ•°ï¼Œ<code>delay()</code>çš„ä½œç”¨æ˜¯æ¥æ”¶å‚æ•°ï¼Œç”¨æ¥è®¾ç½®æ¨è¿Ÿæ‰§è¡Œçš„æ—¶é—´ã€‚è¿™ç§é€šè¿‡é«˜é˜¶å‡½æ•°è¿”å›è£…é¥°å™¨çš„åšæ³•ï¼Œç§°ä¸ºâ€œå·¥å‚æ¨¡å¼â€ï¼Œå³å¯ä»¥åƒå·¥å‚é‚£æ ·ç”Ÿäº§å‡ºä¸€ä¸ªæ¨¡å­çš„è£…é¥°å™¨ã€‚</p><p>æ–¹æ³•è£…é¥°å™¨çš„å‚æ•°<code>context</code>å¯¹è±¡é‡Œé¢ï¼Œæœ‰ä¸€ä¸ª<code>addInitializer()</code>æ–¹æ³•ã€‚å®ƒæ˜¯ä¸€ä¸ªé’©å­æ–¹æ³•ï¼Œç”¨æ¥åœ¨ç±»çš„åˆå§‹åŒ–é˜¶æ®µï¼Œæ·»åŠ å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯ä½œä¸º<code>addInitializer()</code>çš„å‚æ•°ä¼ å…¥çš„ï¼Œå®ƒä¼šåœ¨æ„é€ æ–¹æ³•æ‰§è¡ŒæœŸé—´æ‰§è¡Œï¼Œæ—©äºå±æ€§ï¼ˆfieldï¼‰çš„åˆå§‹åŒ–ã€‚</p><p>ä¸‹é¢æ˜¯<code>addInitializer()</code>æ–¹æ³•çš„ä¸€ä¸ªä¾‹å­ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œç±»çš„æ–¹æ³•å¾€å¾€éœ€è¦åœ¨æ„é€ æ–¹æ³•é‡Œé¢ï¼Œè¿›è¡Œ<code>this</code>çš„ç»‘å®šã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// greet() ç»‘å®š this</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">greet</span> = <span class="variable language_">this</span>.<span class="property">greet</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">greet</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello, my name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> g = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;å¼ ä¸‰&#x27;</span>).<span class="property">greet</span>;</span><br><span class="line"><span class="title function_">g</span>() <span class="comment">// &quot;Hello, my name is å¼ ä¸‰.&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¾‹å­ä¸­ï¼Œç±»<code>Person</code>çš„æ„é€ æ–¹æ³•å†…éƒ¨ï¼Œå°†<code>this</code>ä¸<code>greet()</code>æ–¹æ³•è¿›è¡Œäº†ç»‘å®šã€‚å¦‚æœæ²¡æœ‰è¿™ä¸€è¡Œï¼Œå°†<code>greet()</code>èµ‹å€¼ç»™å˜é‡<code>g</code>è¿›è¡Œè°ƒç”¨ï¼Œå°±ä¼šæŠ¥é”™äº†ã€‚</p><p><code>this</code>çš„ç»‘å®šå¿…é¡»æ”¾åœ¨æ„é€ æ–¹æ³•é‡Œé¢ï¼Œå› ä¸ºè¿™å¿…é¡»åœ¨ç±»çš„åˆå§‹åŒ–é˜¶æ®µå®Œæˆã€‚ç°åœ¨ï¼Œå®ƒå¯ä»¥ç§»åˆ°æ–¹æ³•è£…é¥°å™¨çš„<code>addInitializer()</code>é‡Œé¢ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">bound</span>(<span class="params"></span></span><br><span class="line"><span class="params">  originalMethod:any, context:ClassMethodDecoratorContext</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> methodName = context.<span class="property">name</span>;</span><br><span class="line">  <span class="keyword">if</span> (context.<span class="property">private</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`ä¸èƒ½ç»‘å®šç§æœ‰æ–¹æ³• <span class="subst">$&#123;methodName <span class="keyword">as</span> string&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  context.<span class="title function_">addInitializer</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>[methodName] = <span class="variable language_">this</span>[methodName].<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç»‘å®š<code>this</code>è½¬ç§»åˆ°äº†<code>addInitializer()</code>æ–¹æ³•é‡Œé¢ã€‚</p><p>ä¸‹é¢å†çœ‹ä¸€ä¸ªä¾‹å­ï¼Œé€šè¿‡<code>addInitializer()</code>å°†é€‰å®šçš„æ–¹æ³•åï¼Œæ”¾å…¥ä¸€ä¸ªé›†åˆã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">collect</span>(<span class="params"></span></span><br><span class="line"><span class="params">  value,</span></span><br><span class="line"><span class="params">  &#123;name, addInitializer&#125;</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">addInitializer</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">collectedMethodKeys</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">collectedMethodKeys</span> = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">collectedMethodKeys</span>.<span class="title function_">add</span>(name);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> &#123;</span><br><span class="line">  @collect</span><br><span class="line">  <span class="title function_">toString</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">  @collect</span><br><span class="line">  [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> inst = <span class="keyword">new</span> <span class="title function_">C</span>();</span><br><span class="line">inst.<span class="property">collectedMethodKeys</span> <span class="comment">// new Set([&#x27;toString&#x27;, Symbol.iterator])</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ–¹æ³•è£…é¥°å™¨<code>@collect</code>ä¼šå°†æ‰€è£…é¥°çš„æˆå‘˜åå­—ï¼ŒåŠ å…¥ä¸€ä¸ª Set é›†åˆ<code>collectedMethodKeys</code>ã€‚</p><h2 id="å±æ€§è£…é¥°å™¨">å±æ€§è£…é¥°å™¨ <a href="about:blank#%E5%B1%9E%E6%80%A7%E8%A3%85%E9%A5%B0%E5%99%A8">#</a></h2><p>å±æ€§è£…é¥°å™¨ç”¨æ¥è£…é¥°å®šä¹‰åœ¨ç±»é¡¶éƒ¨çš„å±æ€§ï¼ˆfieldï¼‰ã€‚å®ƒçš„ç±»å‹æè¿°å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ClassFieldDecorator</span> = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  value: <span class="literal">undefined</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  context: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    kind: <span class="string">&#x27;field&#x27;</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    name: <span class="built_in">string</span> | <span class="built_in">symbol</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">static</span>: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span>: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    access: &#123; get: () =&gt; <span class="built_in">unknown</span>, set: (value: <span class="built_in">unknown</span>) =&gt; <span class="built_in">void</span> &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">    addInitializer(initializer: () =&gt; <span class="built_in">void</span>): <span class="built_in">void</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="function">(<span class="params">initialValue: <span class="built_in">unknown</span></span>) =&gt;</span> <span class="built_in">unknown</span> | <span class="built_in">void</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè£…é¥°å™¨çš„ç¬¬ä¸€ä¸ªå‚æ•°<code>value</code>çš„ç±»å‹æ˜¯<code>undefined</code>ï¼Œè¿™æ„å‘³ç€è¿™ä¸ªå‚æ•°å®é™…ä¸Šæ²¡ç”¨çš„ï¼Œè£…é¥°å™¨ä¸èƒ½ä»<code>value</code>è·å–æ‰€è£…é¥°å±æ€§çš„å€¼ã€‚å¦å¤–ï¼Œç¬¬äºŒä¸ªå‚æ•°<code>context</code>å¯¹è±¡çš„<code>kind</code>å±æ€§çš„å€¼ä¸ºå­—ç¬¦ä¸²<code>field</code>ï¼Œè€Œä¸æ˜¯â€œpropertyâ€æˆ–â€œattributeâ€ï¼Œè¿™ä¸€ç‚¹æ˜¯éœ€è¦æ³¨æ„çš„ã€‚</p><p>å±æ€§è£…é¥°å™¨è¦ä¹ˆä¸è¿”å›å€¼ï¼Œè¦ä¹ˆè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šè‡ªåŠ¨æ‰§è¡Œï¼Œç”¨æ¥å¯¹æ‰€è£…é¥°å±æ€§è¿›è¡Œåˆå§‹åŒ–ã€‚è¯¥å‡½æ•°çš„å‚æ•°æ˜¯æ‰€è£…é¥°å±æ€§çš„åˆå§‹å€¼ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼æ˜¯è¯¥å±æ€§çš„æœ€ç»ˆå€¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">logged</span>(<span class="params">value, context</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; kind, name &#125; = context;</span><br><span class="line">  <span class="keyword">if</span> (kind === <span class="string">&#x27;field&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">initialValue</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`initializing <span class="subst">$&#123;name&#125;</span> with value <span class="subst">$&#123;initialValue&#125;</span>`</span>);</span><br><span class="line">      <span class="keyword">return</span> initialValue;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">  @logged name = <span class="string">&#x27;green&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> color = <span class="keyword">new</span> <span class="title class_">Color</span>();</span><br><span class="line"><span class="comment">// &quot;initializing name with value green&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå±æ€§è£…é¥°å™¨<code>@logged</code>è£…é¥°å±æ€§<code>name</code>ã€‚<code>@logged</code>çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ç”¨æ¥å¯¹å±æ€§<code>name</code>è¿›è¡Œåˆå§‹åŒ–ï¼Œå®ƒçš„å‚æ•°<code>initialValue</code>å°±æ˜¯å±æ€§<code>name</code>çš„åˆå§‹å€¼<code>green</code>ã€‚æ–°å»ºå®ä¾‹å¯¹è±¡<code>color</code>æ—¶ï¼Œè¯¥å‡½æ•°ä¼šè‡ªåŠ¨æ‰§è¡Œã€‚</p><p>å±æ€§è£…é¥°å™¨çš„è¿”å›å€¼å‡½æ•°ï¼Œå¯ä»¥ç”¨æ¥æ›´æ”¹å±æ€§çš„åˆå§‹å€¼ã€‚</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_"><span class="keyword">function</span> <span class="title">twice</span></span>() &#123;</span><br><span class="line">  <span class="keyword">return</span> initialValue =&gt; initialValue * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_"><span class="keyword">class</span> <span class="title">C</span> </span>&#123;</span><br><span class="line">  <span class="meta">@twice</span></span><br><span class="line">  field = <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const inst = <span class="keyword">new</span> <span class="type">C</span>();</span><br><span class="line">inst.field <span class="comment">// 6</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå±æ€§è£…é¥°å™¨<code>@twice</code>è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°çš„è¿”å›å€¼æ˜¯å±æ€§<code>field</code>çš„åˆå§‹å€¼ä¹˜ä»¥2ï¼Œæ‰€ä»¥å±æ€§<code>field</code>çš„æœ€ç»ˆå€¼æ˜¯6ã€‚</p><p>å±æ€§è£…é¥°å™¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡<code>context</code>çš„<code>access</code>å±æ€§ï¼Œæä¾›æ‰€è£…é¥°å±æ€§çš„å­˜å–å™¨ï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">let acc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> exposeAccess(</span><br><span class="line">  <span class="keyword">value</span>, &#123;<span class="keyword">access</span>&#125;</span><br><span class="line">) &#123;</span><br><span class="line">  acc = <span class="keyword">access</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> Color &#123;</span><br><span class="line">  @exposeAccess</span><br><span class="line">  <span class="type">name</span> = <span class="string">&#x27;green&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const green = <span class="built_in">new</span> Color();</span><br><span class="line">green.name // <span class="string">&#x27;green&#x27;</span></span><br><span class="line"></span><br><span class="line">acc.<span class="keyword">get</span>(green) // <span class="string">&#x27;green&#x27;</span></span><br><span class="line"></span><br><span class="line">acc.<span class="keyword">set</span>(green, <span class="string">&#x27;red&#x27;</span>);</span><br><span class="line">green.name // <span class="string">&#x27;red&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>access</code>åŒ…å«äº†å±æ€§<code>name</code>çš„å­˜å–å™¨ï¼Œå¯ä»¥å¯¹è¯¥å±æ€§è¿›è¡Œå–å€¼å’Œèµ‹å€¼ã€‚</p><h2 id="getter-è£…é¥°å™¨ï¼Œsetter-è£…é¥°å™¨">getter è£…é¥°å™¨ï¼Œsetter è£…é¥°å™¨ <a href="about:blank#getter-%E8%A3%85%E9%A5%B0%E5%99%A8setter-%E8%A3%85%E9%A5%B0%E5%99%A8">#</a></h2><p>getter è£…é¥°å™¨å’Œ setter è£…é¥°å™¨ï¼Œæ˜¯åˆ†åˆ«é’ˆå¯¹ç±»çš„å–å€¼å™¨ï¼ˆgetterï¼‰å’Œå­˜å€¼å™¨ï¼ˆsetterï¼‰çš„è£…é¥°å™¨ã€‚å®ƒä»¬çš„ç±»å‹æè¿°å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ClassGetterDecorator</span> = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  value: <span class="built_in">Function</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  context: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    kind: <span class="string">&#x27;getter&#x27;</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    name: <span class="built_in">string</span> | <span class="built_in">symbol</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">static</span>: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span>: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    access: &#123; get: () =&gt; <span class="built_in">unknown</span> &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">    addInitializer(initializer: () =&gt; <span class="built_in">void</span>): <span class="built_in">void</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="title class_">Function</span> | <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">ClassSetterDecorator</span> = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  value: <span class="built_in">Function</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">  context: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    kind: <span class="string">&#x27;setter&#x27;</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    name: <span class="built_in">string</span> | <span class="built_in">symbol</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">static</span>: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span>: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    access: &#123; set: (value: <span class="built_in">unknown</span>) =&gt; <span class="built_in">void</span> &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">    addInitializer(initializer: () =&gt; <span class="built_in">void</span>): <span class="built_in">void</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> <span class="title class_">Function</span> | <span class="built_in">void</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œgetter è£…é¥°å™¨çš„ä¸Šä¸‹æ–‡å¯¹è±¡<code>context</code>çš„<code>access</code>å±æ€§ï¼ŒåªåŒ…å«<code>get()</code>æ–¹æ³•ï¼›setter è£…é¥°å™¨çš„<code>access</code>å±æ€§ï¼ŒåªåŒ…å«<code>set()</code>æ–¹æ³•ã€‚</p><p>è¿™ä¸¤ä¸ªè£…é¥°å™¨è¦ä¹ˆä¸è¿”å›å€¼ï¼Œè¦ä¹ˆè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå–ä»£åŸæ¥çš„å–å€¼å™¨æˆ–å­˜å€¼å™¨ã€‚</p><p>ä¸‹é¢çš„ä¾‹å­æ˜¯å°†å–å€¼å™¨çš„ç»“æœï¼Œä¿å­˜ä¸ºä¸€ä¸ªå±æ€§ï¼ŒåŠ å¿«åé¢çš„è¯»å–ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> &#123;</span><br><span class="line">  <span class="meta">@lazy</span></span><br><span class="line">  <span class="keyword">get</span> <span class="title function_">value</span>() &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ­£åœ¨è®¡ç®—â€¦â€¦&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;å¼€é”€å¤§çš„è®¡ç®—ç»“æœ&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">lazy</span>(<span class="params"></span></span><br><span class="line"><span class="params">  value:<span class="built_in">any</span>,</span></span><br><span class="line"><span class="params">  &#123;kind, name&#125;:<span class="built_in">any</span></span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (kind === <span class="string">&#x27;getter&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"><span class="variable language_">this</span>:<span class="built_in">any</span></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> result = value.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">      <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(</span><br><span class="line">        <span class="variable language_">this</span>, name,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">value</span>: result,</span><br><span class="line">          <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> inst = <span class="keyword">new</span> <span class="title function_">C</span>();</span><br><span class="line">inst.<span class="property">value</span></span><br><span class="line"><span class="comment">// æ­£åœ¨è®¡ç®—â€¦â€¦</span></span><br><span class="line"><span class="comment">// &#x27;å¼€é”€å¤§çš„è®¡ç®—ç»“æœ&#x27;</span></span><br><span class="line">inst.<span class="property">value</span></span><br><span class="line"><span class="comment">// &#x27;å¼€é”€å¤§çš„è®¡ç®—ç»“æœ&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç¬¬ä¸€æ¬¡è¯»å–<code>inst.value</code>ï¼Œä¼šè¿›è¡Œè®¡ç®—ï¼Œç„¶åè£…é¥°å™¨<code>@lazy</code>å°†ç»“æœå­˜å…¥åªè¯»å±æ€§<code>value</code>ï¼Œåé¢å†è¯»å–è¿™ä¸ªå±æ€§ï¼Œå°±ä¸ä¼šè¿›è¡Œè®¡ç®—äº†ã€‚</p><h2 id="accessor-è£…é¥°å™¨">accessor è£…é¥°å™¨ <a href="about:blank#accessor-%E8%A3%85%E9%A5%B0%E5%99%A8">#</a></h2><p>è£…é¥°å™¨è¯­æ³•å¼•å…¥äº†ä¸€ä¸ªæ–°çš„å±æ€§ä¿®é¥°ç¬¦<code>accessor</code>ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class C &#123;</span><br><span class="line">  accessor x <span class="operator">=</span> <span class="number">1</span><span class="comment">;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>accessor</code>ä¿®é¥°ç¬¦ç­‰åŒäºä¸ºå…¬å¼€å±æ€§<code>x</code>è‡ªåŠ¨ç”Ÿæˆå–å€¼å™¨å’Œå­˜å€¼å™¨ï¼Œå®ƒä»¬ä½œç”¨äºç§æœ‰å±æ€§<code>x</code>ã€‚ï¼ˆæ³¨æ„ï¼Œå…¬å¼€çš„<code>x</code>ä¸ç§æœ‰çš„<code>x</code>ä¸æ˜¯åŒä¸€ä¸ªå±æ€§ã€‚ï¼‰ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢çš„ä»£ç ç­‰åŒäºä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title">C</span> &#123;</span><br><span class="line">  <span class="meta">#x = 1;</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">get</span> <span class="title">x</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="meta">#x;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">set</span> <span class="title">x</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.<span class="meta">#x = val;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>accessor</code>ä¹Ÿå¯ä»¥ä¸é™æ€å±æ€§å’Œç§æœ‰å±æ€§ä¸€èµ·ä½¿ç”¨ã€‚</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> accessor x = <span class="number">1</span>;</span><br><span class="line">  accessor <span class="meta">#y = 2;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>accessor è£…é¥°å™¨çš„ç±»å‹å¦‚ä¸‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">ClassAutoAccessorDecorator</span> = <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  value: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    get: () =&gt; <span class="built_in">unknown</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    set: (value: <span class="built_in">unknown</span>) =&gt; <span class="built_in">void</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;,</span></span></span><br><span class="line"><span class="params"><span class="function">  context: &#123;</span></span></span><br><span class="line"><span class="params"><span class="function">    kind: <span class="string">&quot;accessor&quot;</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    name: <span class="built_in">string</span> | <span class="built_in">symbol</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    access: &#123; get(): <span class="built_in">unknown</span>, set(value: <span class="built_in">unknown</span>): <span class="built_in">void</span> &#125;;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">static</span>: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="keyword">private</span>: <span class="built_in">boolean</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">    addInitializer(initializer: () =&gt; <span class="built_in">void</span>): <span class="built_in">void</span>;</span></span></span><br><span class="line"><span class="params"><span class="function">  &#125;</span></span></span><br><span class="line"><span class="params"><span class="function"></span>) =&gt;</span> &#123;</span><br><span class="line">  get?: <span class="function">() =&gt;</span> <span class="built_in">unknown</span>;</span><br><span class="line">  set?: <span class="function">(<span class="params">value: <span class="built_in">unknown</span></span>) =&gt;</span> <span class="built_in">void</span>;</span><br><span class="line">  init?: <span class="function">(<span class="params">initialValue: <span class="built_in">unknown</span></span>) =&gt;</span> <span class="built_in">unknown</span>;</span><br><span class="line">&#125; | <span class="built_in">void</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>accessor è£…é¥°å™¨çš„<code>value</code>å‚æ•°ï¼Œæ˜¯ä¸€ä¸ªåŒ…å«<code>get()</code>æ–¹æ³•å’Œ<code>set()</code>æ–¹æ³•çš„å¯¹è±¡ã€‚è¯¥è£…é¥°å™¨å¯ä»¥ä¸è¿”å›å€¼ï¼Œæˆ–è€…è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç”¨æ¥å–ä»£åŸæ¥çš„<code>get()</code>æ–¹æ³•å’Œ<code>set()</code>æ–¹æ³•ã€‚æ­¤å¤–ï¼Œè£…é¥°å™¨è¿”å›çš„å¯¹è±¡è¿˜å¯ä»¥åŒ…æ‹¬ä¸€ä¸ª<code>init()</code>æ–¹æ³•ï¼Œç”¨æ¥æ”¹å˜ç§æœ‰å±æ€§çš„åˆå§‹å€¼ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> &#123;</span><br><span class="line">  @logged accessor x = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">logged</span>(<span class="params">value, &#123; kind, name &#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (kind === <span class="string">&quot;accessor&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> &#123; get, set &#125; = value;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="title function_">get</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`getting <span class="subst">$&#123;name&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> get.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="title function_">set</span>(<span class="params">val</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`setting <span class="subst">$&#123;name&#125;</span> to <span class="subst">$&#123;val&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> set.<span class="title function_">call</span>(<span class="variable language_">this</span>, val);</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="title function_">init</span>(<span class="params">initialValue</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`initializing <span class="subst">$&#123;name&#125;</span> with value <span class="subst">$&#123;initialValue&#125;</span>`</span>);</span><br><span class="line">        <span class="keyword">return</span> initialValue;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = <span class="keyword">new</span> <span class="title function_">C</span>();</span><br><span class="line"></span><br><span class="line">c.<span class="property">x</span>;</span><br><span class="line"><span class="comment">// getting x</span></span><br><span class="line"></span><br><span class="line">c.<span class="property">x</span> = <span class="number">123</span>;</span><br><span class="line"><span class="comment">// setting x to 123</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œè£…é¥°å™¨<code>@logged</code>ä¸ºå±æ€§<code>x</code>çš„å­˜å€¼å™¨å’Œå–å€¼å™¨ï¼ŒåŠ ä¸Šäº†æ—¥å¿—è¾“å‡ºã€‚</p><h2 id="è£…é¥°å™¨çš„æ‰§è¡Œé¡ºåº">è£…é¥°å™¨çš„æ‰§è¡Œé¡ºåº <a href="about:blank#%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F">#</a></h2><p>è£…é¥°å™¨çš„æ‰§è¡Œåˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µã€‚</p><p>ï¼ˆ1ï¼‰è¯„ä¼°ï¼ˆevaluationï¼‰ï¼šè®¡ç®—<code>@</code>ç¬¦å·åé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œå¾—åˆ°çš„åº”è¯¥æ˜¯å‡½æ•°ã€‚</p><p>ï¼ˆ2ï¼‰åº”ç”¨ï¼ˆapplicationï¼‰ï¼šå°†è¯„ä¼°è£…é¥°å™¨åå¾—åˆ°çš„å‡½æ•°ï¼Œåº”ç”¨äºæ‰€è£…é¥°å¯¹è±¡ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè£…é¥°å™¨çš„æ‰§è¡Œé¡ºåºæ˜¯ï¼Œå…ˆè¯„ä¼°æ‰€æœ‰è£…é¥°å™¨è¡¨è¾¾å¼çš„å€¼ï¼Œå†å°†å…¶åº”ç”¨äºå½“å‰ç±»ã€‚</p><p>åº”ç”¨è£…é¥°å™¨æ—¶ï¼Œé¡ºåºä¾æ¬¡ä¸ºæ–¹æ³•è£…é¥°å™¨å’Œå±æ€§è£…é¥°å™¨ï¼Œç„¶åæ˜¯ç±»è£…é¥°å™¨ã€‚</p><p>è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">d</span>(<span class="params">str:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`è¯„ä¼° @d(): <span class="subst">$&#123;str&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    value:<span class="built_in">any</span>, context:<span class="built_in">any</span></span></span></span><br><span class="line"><span class="params"><span class="function">  </span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`åº”ç”¨ @d(): <span class="subst">$&#123;str&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">str:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(str);</span><br><span class="line">  <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@d</span>(<span class="string">&#x27;ç±»è£…é¥°å™¨&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">T</span> &#123;</span><br><span class="line">  <span class="meta">@d</span>(<span class="string">&#x27;é™æ€å±æ€§è£…é¥°å™¨&#x27;</span>)</span><br><span class="line">  <span class="keyword">static</span> staticField = <span class="title function_">log</span>(<span class="string">&#x27;é™æ€å±æ€§å€¼&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@d</span>(<span class="string">&#x27;åŸå‹æ–¹æ³•&#x27;</span>)</span><br><span class="line">  [<span class="title function_">log</span>(<span class="string">&#x27;è®¡ç®—æ–¹æ³•å&#x27;</span>)]() &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@d</span>(<span class="string">&#x27;å®ä¾‹å±æ€§&#x27;</span>)</span><br><span class="line">  instanceField = <span class="title function_">log</span>(<span class="string">&#x27;å®ä¾‹å±æ€§å€¼&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@d</span>(<span class="string">&#x27;é™æ€æ–¹æ³•è£…é¥°å™¨&#x27;</span>)</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">fn</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»<code>T</code>æœ‰å››ç§è£…é¥°å™¨ï¼šç±»è£…é¥°å™¨ã€é™æ€å±æ€§è£…é¥°å™¨ã€æ–¹æ³•è£…é¥°å™¨ã€å±æ€§è£…é¥°å™¨ã€‚</p><p>å®ƒçš„è¿è¡Œç»“æœå¦‚ä¸‹ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">è¯„ä¼° <span class="variable">@d</span>(): ç±»è£…é¥°å™¨</span><br><span class="line">è¯„ä¼° <span class="variable">@d</span>(): é™æ€å±æ€§è£…é¥°å™¨</span><br><span class="line">è¯„ä¼° <span class="variable">@d</span>(): åŸå‹æ–¹æ³•</span><br><span class="line">è®¡ç®—æ–¹æ³•å</span><br><span class="line">è¯„ä¼° <span class="variable">@d</span>(): å®ä¾‹å±æ€§</span><br><span class="line">è¯„ä¼° <span class="variable">@d</span>(): é™æ€æ–¹æ³•è£…é¥°å™¨</span><br><span class="line">åº”ç”¨ <span class="variable">@d</span>(): é™æ€æ–¹æ³•è£…é¥°å™¨</span><br><span class="line">åº”ç”¨ <span class="variable">@d</span>(): åŸå‹æ–¹æ³•</span><br><span class="line">åº”ç”¨ <span class="variable">@d</span>(): é™æ€å±æ€§è£…é¥°å™¨</span><br><span class="line">åº”ç”¨ <span class="variable">@d</span>(): å®ä¾‹å±æ€§</span><br><span class="line">åº”ç”¨ <span class="variable">@d</span>(): ç±»è£…é¥°å™¨</span><br><span class="line">é™æ€å±æ€§å€¼</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œç±»è½½å…¥çš„æ—¶å€™ï¼Œä»£ç æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ‰§è¡Œã€‚</p><p>ï¼ˆ1ï¼‰è£…é¥°å™¨è¯„ä¼°ï¼šè¿™ä¸€æ­¥è®¡ç®—è£…é¥°å™¨çš„å€¼ï¼Œé¦–å…ˆæ˜¯ç±»è£…é¥°å™¨ï¼Œç„¶åæ˜¯ç±»å†…éƒ¨çš„è£…é¥°å™¨ï¼ŒæŒ‰ç…§å®ƒä»¬å‡ºç°çš„é¡ºåºã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœå±æ€§åæˆ–æ–¹æ³•åæ˜¯è®¡ç®—å€¼ï¼ˆæœ¬ä¾‹æ˜¯â€œè®¡ç®—æ–¹æ³•åâ€ï¼‰ï¼Œåˆ™å®ƒä»¬åœ¨å¯¹åº”çš„è£…é¥°å™¨è¯„ä¼°ä¹‹åï¼Œä¹Ÿä¼šè¿›è¡Œè‡ªèº«çš„è¯„ä¼°ã€‚</p><p>ï¼ˆ2ï¼‰è£…é¥°å™¨åº”ç”¨ï¼šå®é™…æ‰§è¡Œè£…é¥°å™¨å‡½æ•°ï¼Œå°†å®ƒä»¬ä¸å¯¹åº”çš„æ–¹æ³•å’Œå±æ€§è¿›è¡Œç»“åˆã€‚</p><p>é™æ€æ–¹æ³•è£…é¥°å™¨é¦–å…ˆåº”ç”¨ï¼Œç„¶åæ˜¯åŸå‹æ–¹æ³•çš„è£…é¥°å™¨å’Œé™æ€å±æ€§è£…é¥°å™¨ï¼Œæ¥ä¸‹æ¥æ˜¯å®ä¾‹å±æ€§è£…é¥°å™¨ï¼Œæœ€åæ˜¯ç±»è£…é¥°å™¨ã€‚</p><p>æ³¨æ„ï¼Œâ€œå®ä¾‹å±æ€§å€¼â€åœ¨ç±»åˆå§‹åŒ–çš„é˜¶æ®µå¹¶ä¸æ‰§è¡Œï¼Œç›´åˆ°ç±»å®ä¾‹åŒ–æ—¶æ‰ä¼šæ‰§è¡Œã€‚</p><p>å¦‚æœä¸€ä¸ªæ–¹æ³•æˆ–å±æ€§æœ‰å¤šä¸ªè£…é¥°å™¨ï¼Œåˆ™å†…å±‚çš„è£…é¥°å™¨å…ˆæ‰§è¡Œï¼Œå¤–å±‚çš„è£…é¥°å™¨åæ‰§è¡Œã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@bound</span></span><br><span class="line">  <span class="meta">@log</span></span><br><span class="line">  <span class="title function_">greet</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello, my name is <span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>greet()</code>æœ‰ä¸¤ä¸ªè£…é¥°å™¨ï¼Œå†…å±‚çš„<code>@log</code>å…ˆæ‰§è¡Œï¼Œå¤–å±‚çš„<code>@bound</code>é’ˆå¯¹å¾—åˆ°çš„ç»“æœå†æ‰§è¡Œã€‚</p><h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ <a href="about:blank#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">#</a></h2><ul><li><a href="https://2ality.com/2022/10/javascript-decorators.html">JavaScript metaprogramming with the 2022-03 decorators API</a></li><li><a href="https://plainenglish.io/blog/ts-5-0-beta-new-decorators-are-here">TS 5.0 Beta: New Decorators Are Here!</a>, Bytefer</li></ul><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/decorator">https://wangdoc.com/typescript/decorator</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript è£…é¥°å™¨</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript namespace</title>
    <link href="https://www.fomal.cc/posts/22.html"/>
    <id>https://www.fomal.cc/posts/22.html</id>
    <published>2023-06-16T10:50:00.000Z</published>
    <updated>2023-06-16T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>TypeScript namespace</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><p>namespace æ˜¯ä¸€ç§å°†ç›¸å…³ä»£ç ç»„ç»‡åœ¨ä¸€èµ·çš„æ–¹å¼ï¼Œä¸­æ–‡è¯‘ä¸ºâ€œå‘½åç©ºé—´â€ã€‚</p><p>å®ƒå‡ºç°åœ¨ ES æ¨¡å—è¯ç”Ÿä¹‹å‰ï¼Œä½œä¸º TypeScript è‡ªå·±çš„æ¨¡å—æ ¼å¼è€Œå‘æ˜çš„ã€‚ä½†æ˜¯ï¼Œè‡ªä»æœ‰äº† ES æ¨¡å—ï¼Œå®˜æ–¹å·²ç»ä¸æ¨èä½¿ç”¨ namespace äº†ã€‚</p><h2 id="åŸºæœ¬ç”¨æ³•">åŸºæœ¬ç”¨æ³• <a href="about:blank#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95">#</a></h2><p>namespace ç”¨æ¥å»ºç«‹ä¸€ä¸ªå®¹å™¨ï¼Œå†…éƒ¨çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°ï¼Œéƒ½å¿…é¡»åœ¨è¿™ä¸ªå®¹å™¨é‡Œé¢ä½¿ç”¨ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Utils &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">isString</span><span class="params">(value:any)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> value === <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æ­£ç¡®</span></span><br><span class="line">  isString(<span class="string">&#x27;yes&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Utils.isString(<span class="string">&#x27;no&#x27;</span>); <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‘½åç©ºé—´<code>Utils</code>é‡Œé¢å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°<code>isString()</code>ï¼Œå®ƒåªèƒ½åœ¨<code>Utils</code>é‡Œé¢ä½¿ç”¨ï¼Œå¦‚æœç”¨äºå¤–éƒ¨å°±ä¼šæŠ¥é”™ã€‚</p><p>å¦‚æœè¦åœ¨å‘½åç©ºé—´ä»¥å¤–ä½¿ç”¨å†…éƒ¨æˆå‘˜ï¼Œå°±å¿…é¡»ä¸ºè¯¥æˆå‘˜åŠ ä¸Š<code>export</code>å‰ç¼€ï¼Œè¡¨ç¤ºå¯¹å¤–è¾“å‡ºè¯¥æˆå‘˜ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">namespace Utility &#123;</span><br><span class="line">  <span class="built_in">export</span> function log(msg:string) &#123;</span><br><span class="line">    console.log(msg);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">export</span> function <span class="built_in">error</span>(msg:string) &#123;</span><br><span class="line">    console.<span class="built_in">error</span>(msg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Utility.log(<span class="string">&#x27;Call me&#x27;</span>);</span><br><span class="line">Utility.<span class="built_in">error</span>(<span class="string">&#x27;maybe!&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œåªè¦åŠ ä¸Š<code>export</code>å‰ç¼€ï¼Œå°±å¯ä»¥åœ¨å‘½åç©ºé—´å¤–éƒ¨ä½¿ç”¨å†…éƒ¨æˆå‘˜ã€‚</p><p>ç¼–è¯‘å‡ºæ¥çš„ JavaScript ä»£ç å¦‚ä¸‹ã€‚</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Utility;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> (<span class="params">Utility</span>) &#123;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.<span class="built_in">log</span>(msg);</span><br><span class="line">  &#125;</span><br><span class="line">  Utility.<span class="built_in">log</span> = <span class="built_in">log</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">error</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(msg);</span><br><span class="line">  &#125;</span><br><span class="line">  Utility.error = error;</span><br><span class="line">&#125;)(Utility || (Utility = &#123;&#125;));</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‘½åç©ºé—´<code>Utility</code>å˜æˆäº† JavaScript çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå‡¡æ˜¯<code>export</code>çš„å†…éƒ¨æˆå‘˜ï¼Œéƒ½æˆäº†è¯¥å¯¹è±¡çš„å±æ€§ã€‚</p><p>è¿™å°±æ˜¯è¯´ï¼Œnamespace ä¼šå˜æˆä¸€ä¸ªå€¼ï¼Œä¿ç•™åœ¨ç¼–è¯‘åçš„ä»£ç ä¸­ã€‚è¿™ä¸€ç‚¹è¦å°å¿ƒï¼Œå®ƒä¸æ˜¯çº¯çš„ç±»å‹ä»£ç ã€‚</p><p>namespace å†…éƒ¨è¿˜å¯ä»¥ä½¿ç”¨<code>import</code>å‘½ä»¤è¾“å…¥å¤–éƒ¨æˆå‘˜ï¼Œç›¸å½“äºä¸ºå¤–éƒ¨æˆå‘˜èµ·åˆ«åã€‚å½“å¤–éƒ¨æˆå‘˜çš„åå­—æ¯”è¾ƒé•¿æ—¶ï¼Œåˆ«åèƒ½å¤Ÿç®€åŒ–ä»£ç ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title class_">Utils</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">isString</span>(<span class="params">value:<span class="built_in">any</span></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> value === <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title class_">App</span> &#123;</span><br><span class="line">  <span class="keyword">import</span> isString = <span class="title class_">Utils</span>.<span class="property">isString</span>;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">isString</span>(<span class="string">&#x27;yes&#x27;</span>);</span><br><span class="line">  <span class="comment">// ç­‰åŒäº</span></span><br><span class="line">  <span class="title class_">Utils</span>.<span class="title function_">isString</span>(<span class="string">&#x27;yes&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>import</code>å‘½ä»¤æŒ‡å®šåœ¨å‘½åç©ºé—´<code>App</code>é‡Œé¢ï¼Œå¤–éƒ¨æˆå‘˜<code>Utils.isString</code>çš„åˆ«åä¸º<code>isString</code>ã€‚</p><p><code>import</code>å‘½ä»¤ä¹Ÿå¯ä»¥åœ¨ namespace å¤–éƒ¨ï¼ŒæŒ‡å®šåˆ«åã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title class_">Shapes</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">namespace</span> <span class="title class_">Polygons</span> &#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Triangle</span> &#123;&#125;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Square</span> &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> polygons = <span class="title class_">Shapes</span>.<span class="property">Polygons</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº new Shapes.Polygons.Square()</span></span><br><span class="line"><span class="keyword">let</span> sq = <span class="keyword">new</span> polygons.<span class="title class_">Square</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>import</code>å‘½ä»¤åœ¨å‘½åç©ºé—´<code>Shapes</code>çš„å¤–éƒ¨ï¼ŒæŒ‡å®š<code>Shapes.Polygons</code>çš„åˆ«åä¸º<code>polygons</code>ã€‚</p><p>namespace å¯ä»¥åµŒå¥—ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title class_">Utils</span> &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">namespace</span> <span class="title class_">Messaging</span> &#123;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">msg:<span class="built_in">string</span></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(msg);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Utils</span>.<span class="property">Messaging</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>) <span class="comment">// &quot;hello&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‘½åç©ºé—´<code>Utils</code>å†…éƒ¨è¿˜æœ‰ä¸€ä¸ªå‘½åç©ºé—´<code>Messaging</code>ã€‚æ³¨æ„ï¼Œå¦‚æœè¦åœ¨å¤–éƒ¨ä½¿ç”¨<code>Messaging</code>ï¼Œå¿…é¡»åœ¨å®ƒå‰é¢åŠ ä¸Š<code>export</code>å‘½ä»¤ã€‚</p><p>ä½¿ç”¨åµŒå¥—çš„å‘½åç©ºé—´ï¼Œå¿…é¡»ä»æœ€å¤–å±‚å¼€å§‹å¼•ç”¨ï¼Œæ¯”å¦‚<code>Utils.Messaging.log()</code>ã€‚</p><p>namespace ä¸ä»…å¯ä»¥åŒ…å«å®ä¹‰ä»£ç ï¼Œè¿˜å¯ä»¥åŒ…æ‹¬ç±»å‹ä»£ç ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="symbol">N</span> &#123;</span><br><span class="line">  export <span class="keyword">interface</span> <span class="symbol">MyInterface</span>&#123;&#125;</span><br><span class="line">  export <span class="keyword">class</span> <span class="symbol">MyClass</span>&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‘½ä»¤ç©ºé—´<code>N</code>ä¸ä»…å¯¹å¤–è¾“å‡ºç±»ï¼Œè¿˜å¯¹å¤–è¾“å‡ºä¸€ä¸ªæ¥å£ï¼Œå®ƒä»¬éƒ½å¯ä»¥ç”¨ä½œç±»å‹ã€‚</p><p>namespace ä¸æ¨¡å—çš„ä½œç”¨æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯æŠŠç›¸å…³ä»£ç ç»„ç»‡åœ¨ä¸€èµ·ï¼Œå¯¹å¤–è¾“å‡ºæ¥å£ã€‚åŒºåˆ«æ˜¯ä¸€ä¸ªæ–‡ä»¶åªèƒ½æœ‰ä¸€ä¸ªæ¨¡å—ï¼Œä½†å¯ä»¥æœ‰å¤šä¸ª namespaceã€‚ç”±äºæ¨¡å—å¯ä»¥å–ä»£ namespaceï¼Œè€Œä¸”æ˜¯ JavaScript çš„æ ‡å‡†è¯­æ³•ï¼Œè¿˜ä¸éœ€è¦ç¼–è¯‘è½¬æ¢ï¼Œæ‰€ä»¥å»ºè®®æ€»æ˜¯ä½¿ç”¨æ¨¡å—ï¼Œæ›¿ä»£ namespaceã€‚</p><p>å¦‚æœ namespace ä»£ç æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶é‡Œï¼Œé‚£ä¹ˆå¼•å…¥è¿™ä¸ªæ–‡ä»¶éœ€è¦ä½¿ç”¨ä¸‰æ–œæ çš„è¯­æ³•ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;reference path <span class="operator">=</span> <span class="string">&quot;SomeFileName.ts&quot;</span> /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="namespace-çš„è¾“å‡º">namespace çš„è¾“å‡º <a href="about:blank#namespace-%E7%9A%84%E8%BE%93%E5%87%BA">#</a></h2><p>namespace æœ¬èº«ä¹Ÿå¯ä»¥ä½¿ç”¨<code>export</code>å‘½ä»¤è¾“å‡ºï¼Œä¾›å…¶ä»–æ–‡ä»¶ä½¿ç”¨ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// shapes.ts</span></span><br><span class="line">export <span class="keyword">namespace</span> <span class="symbol">Shapes</span> &#123;</span><br><span class="line">  export <span class="keyword">class</span> <span class="symbol">Triangle</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">  export <span class="keyword">class</span> <span class="symbol">Square</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹æ˜¯ä¸€ä¸ªæ–‡ä»¶<code>shapes.ts</code>ï¼Œé‡Œé¢ä½¿ç”¨<code>export</code>å‘½ä»¤ï¼Œè¾“å‡ºäº†ä¸€ä¸ªå‘½åç©ºé—´<code>Shapes</code>ã€‚</p><p>å…¶ä»–è„šæœ¬æ–‡ä»¶ä½¿ç”¨<code>import</code>å‘½ä»¤ï¼ŒåŠ è½½è¿™ä¸ªå‘½åç©ºé—´ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†™æ³•ä¸€</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Shapes</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./shapes&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> t = <span class="keyword">new</span> <span class="title class_">Shapes</span>.<span class="title class_">Triangle</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•äºŒ</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> shapes <span class="keyword">from</span> <span class="string">&quot;./shapes&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> t = <span class="keyword">new</span> shapes.<span class="property">Shapes</span>.<span class="title class_">Triangle</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸è¿‡ï¼Œæ›´å¥½çš„æ–¹æ³•è¿˜æ˜¯å»ºè®®ä½¿ç”¨æ¨¡å—ï¼Œé‡‡ç”¨æ¨¡å—çš„è¾“å‡ºå’Œè¾“å…¥ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// shapes.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Triangle</span> &#123;</span><br><span class="line">  <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">Square</span> &#123;</span><br><span class="line">  <span class="comment">/* ... */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// shapeConsumer.ts</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> shapes <span class="keyword">from</span> <span class="string">&quot;./shapes&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> t = <span class="keyword">new</span> shapes.<span class="title class_">Triangle</span>();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨æ¨¡å—çš„è¾“å‡ºå’Œè¾“å…¥ï¼Œæ”¹å†™äº†å‰é¢çš„ä¾‹å­ã€‚</p><h2 id="namespace-çš„åˆå¹¶">namespace çš„åˆå¹¶ <a href="about:blank#namespace-%E7%9A%84%E5%90%88%E5%B9%B6">#</a></h2><p>å¤šä¸ªåŒåçš„ namespace ä¼šè‡ªåŠ¨åˆå¹¶ï¼Œè¿™ä¸€ç‚¹è·Ÿ interface ä¸€æ ·ã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="symbol">Animals</span> &#123;</span><br><span class="line">  export <span class="keyword">class</span> <span class="symbol">Cat</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> <span class="symbol">Animals</span> &#123;</span><br><span class="line">  export <span class="keyword">interface</span> <span class="symbol">Legged</span> &#123;</span><br><span class="line">    numberOfLegs: number;</span><br><span class="line">  &#125;</span><br><span class="line">  export <span class="keyword">class</span> <span class="symbol">Dog</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="symbol">Animals</span> &#123;</span><br><span class="line">  export <span class="keyword">interface</span> <span class="symbol">Legged</span> &#123;</span><br><span class="line">    numberOfLegs: number;</span><br><span class="line">  &#125;</span><br><span class="line">  export <span class="keyword">class</span> <span class="symbol">Cat</span> &#123;&#125;</span><br><span class="line">  export <span class="keyword">class</span> <span class="symbol">Dog</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ ·åšçš„ç›®çš„æ˜¯ï¼Œå¦‚æœåŒåçš„å‘½åç©ºé—´åˆ†å¸ƒåœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ï¼ŒTypeScript æœ€ç»ˆä¼šå°†å®ƒä»¬åˆå¹¶åœ¨ä¸€èµ·ã€‚è¿™æ ·å°±æ¯”è¾ƒæ–¹ä¾¿æ‰©å±•åˆ«äººçš„ä»£ç ã€‚</p><p>åˆå¹¶å‘½åç©ºé—´æ—¶ï¼Œå‘½åç©ºé—´ä¸­çš„é<code>export</code>çš„æˆå‘˜ä¸ä¼šè¢«åˆå¹¶ï¼Œä½†æ˜¯å®ƒä»¬åªèƒ½åœ¨å„è‡ªçš„å‘½åç©ºé—´ä¸­ä½¿ç”¨ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> N &#123;</span><br><span class="line">  <span class="type">const</span> a = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">export</span> function <span class="title">foo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    console.<span class="built_in">log</span>(a);  <span class="comment">// æ­£ç¡®</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> N &#123;</span><br><span class="line">  <span class="function"><span class="keyword">export</span> function <span class="title">bar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">foo</span>(); <span class="comment">// æ­£ç¡®</span></span><br><span class="line">    console.<span class="built_in">log</span>(a);  <span class="comment">// æŠ¥é”™</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>a</code>æ˜¯ç¬¬ä¸€ä¸ªåç§°ç©ºé—´<code>N</code>çš„éå¯¹å¤–æˆå‘˜ï¼Œå®ƒåªåœ¨ç¬¬ä¸€ä¸ªåç§°ç©ºé—´å¯ç”¨ã€‚</p><p>å‘½åç©ºé—´è¿˜å¯ä»¥è·ŸåŒåå‡½æ•°åˆå¹¶ï¼Œä½†æ˜¯è¦æ±‚åŒåå‡½æ•°å¿…é¡»åœ¨å‘½åç©ºé—´ä¹‹å‰å£°æ˜ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†ç¡®ä¿å…ˆåˆ›å»ºå‡ºä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œç„¶ååŒåçš„å‘½åç©ºé—´å°±ç›¸å½“äºç»™è¿™ä¸ªå‡½æ•°å¯¹è±¡æ·»åŠ é¢å¤–çš„å±æ€§ã€‚</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function <span class="built_in">f</span>() &#123;</span><br><span class="line">  <span class="keyword">return</span> f.<span class="keyword">version</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">namespace f &#123;</span><br><span class="line">  export <span class="keyword">const</span> <span class="keyword">version</span> = &#x27;1.0&#x27;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">f</span>()   <span class="comment">// &#x27;1.0&#x27;</span></span><br><span class="line">f.<span class="keyword">version</span> <span class="comment">// &#x27;1.0&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>f()</code>ä¸å‘½åç©ºé—´<code>f</code>åˆå¹¶ï¼Œç›¸å½“äºå‘½åç©ºé—´ä¸ºå‡½æ•°å¯¹è±¡<code>f</code>æ·»åŠ å±æ€§ã€‚</p><p>å‘½åç©ºé—´ä¹Ÿèƒ½ä¸åŒå class åˆå¹¶ï¼ŒåŒæ ·è¦æ±‚class å¿…é¡»åœ¨å‘½åç©ºé—´ä¹‹å‰å£°æ˜ï¼ŒåŸå› åŒä¸Šã€‚</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="symbol">C</span> &#123;</span><br><span class="line">  foo = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="symbol">C</span> &#123;</span><br><span class="line">  export <span class="keyword">const</span> bar = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">C.bar <span class="comment">// 2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œåç§°ç©ºé—´<code>C</code>ä¸ºç±»<code>C</code>æ·»åŠ äº†ä¸€ä¸ªé™æ€å±æ€§<code>bar</code>ã€‚</p><p>å‘½åç©ºé—´è¿˜èƒ½ä¸åŒå Enum åˆå¹¶ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">E</span> &#123;</span><br><span class="line">  A,</span><br><span class="line">  B,</span><br><span class="line">  C,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> E &#123;</span><br><span class="line">  <span class="function"><span class="keyword">export</span> function <span class="title">foo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    console.<span class="built_in">log</span>(E.C);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">E.<span class="built_in">foo</span>() <span class="comment">// 2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‘½åç©ºé—´<code>E</code>ä¸ºæšä¸¾<code>E</code>æ·»åŠ äº†ä¸€ä¸ª<code>foo()</code>æ–¹æ³•ã€‚</p><p>æ³¨æ„ï¼ŒEnum æˆå‘˜ä¸å‘½åç©ºé—´å¯¼å‡ºæˆå‘˜ä¸å…è®¸åŒåã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">E</span> &#123;</span><br><span class="line">  A, <span class="comment">// æŠ¥é”™</span></span><br><span class="line">  B,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> E &#123;</span><br><span class="line">  <span class="function"><span class="keyword">export</span> function <span class="title">A</span><span class="params">()</span> </span>&#123;&#125; <span class="comment">// æŠ¥é”™</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒåŒå Enum ä¸å‘½åç©ºé—´æœ‰åŒåæˆå‘˜ï¼Œç»“æœæŠ¥é”™ã€‚</p><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/namespace">https://wangdoc.com/typescript/namespace</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript namespace</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript æ¨¡å—</title>
    <link href="https://www.fomal.cc/posts/21.html"/>
    <id>https://www.fomal.cc/posts/21.html</id>
    <published>2023-06-15T10:50:00.000Z</published>
    <updated>2023-06-15T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>TypeScript æ¨¡å—</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><h2 id="ç®€ä»‹">ç®€ä»‹ <a href="about:blank#%E7%AE%80%E4%BB%8B">#</a></h2><p>ä»»ä½•åŒ…å« import æˆ– export è¯­å¥çš„æ–‡ä»¶ï¼Œå°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼ˆmoduleï¼‰ã€‚ç›¸åº”åœ°ï¼Œå¦‚æœæ–‡ä»¶ä¸åŒ…å« export è¯­å¥ï¼Œå°±æ˜¯ä¸€ä¸ªå…¨å±€çš„è„šæœ¬æ–‡ä»¶ã€‚</p><p>æ¨¡å—æœ¬èº«å°±æ˜¯ä¸€ä¸ªä½œç”¨åŸŸï¼Œä¸å±äºå…¨å±€ä½œç”¨åŸŸã€‚æ¨¡å—å†…éƒ¨çš„å˜é‡ã€å‡½æ•°ã€ç±»åªåœ¨å†…éƒ¨å¯è§ï¼Œå¯¹äºæ¨¡å—å¤–éƒ¨æ˜¯ä¸å¯è§çš„ã€‚æš´éœ²ç»™å¤–éƒ¨çš„æ¥å£ï¼Œå¿…é¡»ç”¨ export å‘½ä»¤å£°æ˜ï¼›å¦‚æœå…¶ä»–æ–‡ä»¶è¦ä½¿ç”¨æ¨¡å—çš„æ¥å£ï¼Œå¿…é¡»ç”¨ import å‘½ä»¤æ¥è¾“å…¥ã€‚</p><p>å¦‚æœä¸€ä¸ªæ–‡ä»¶ä¸åŒ…å« export è¯­å¥ï¼Œä½†æ˜¯å¸Œæœ›æŠŠå®ƒå½“ä½œä¸€ä¸ªæ¨¡å—ï¼ˆå³å†…éƒ¨å˜é‡å¯¹å¤–ä¸å¯è§ï¼‰ï¼Œå¯ä»¥åœ¨è„šæœ¬å¤´éƒ¨æ·»åŠ ä¸€è¡Œè¯­å¥ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> &#123;&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™è¡Œè¯­å¥ä¸äº§ç”Ÿä»»ä½•å®é™…ä½œç”¨ï¼Œä½†ä¼šè®©å½“å‰æ–‡ä»¶è¢«å½“ä½œæ¨¡å—å¤„ç†ï¼Œæ‰€æœ‰å®ƒçš„ä»£ç éƒ½å˜æˆäº†å†…éƒ¨ä»£ç ã€‚</p><p>ES æ¨¡å—çš„è¯¦ç»†ä»‹ç»ï¼Œè¯·å‚è€ƒ ES6 æ•™ç¨‹ï¼Œè¿™é‡Œå°±ä¸é‡å¤äº†ã€‚æœ¬ç« ä¸»è¦ä»‹ç» TypeScript çš„æ¨¡å—å¤„ç†ã€‚</p><p>TypeScript æ¨¡å—é™¤äº†æ”¯æŒæ‰€æœ‰ ES æ¨¡å—çš„è¯­æ³•ï¼Œç‰¹åˆ«ä¹‹å¤„åœ¨äºå…è®¸è¾“å‡ºå’Œè¾“å…¥ç±»å‹ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span><span class="built_in"> type </span>Bool = <span class="literal">true</span> | <span class="literal">false</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå½“å‰è„šæœ¬è¾“å‡ºä¸€ä¸ªç±»å‹åˆ«å<code>Bool</code>ã€‚è¿™è¡Œè¯­å¥æŠŠç±»å‹å®šä¹‰å’Œæ¥å£è¾“å‡ºå†™åœ¨ä¸€è¡Œï¼Œä¹Ÿå¯ä»¥å†™æˆä¸¤è¡Œã€‚</p><figure class="highlight julia"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">type <span class="built_in">Bool</span> = <span class="literal">true</span> | <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="built_in">Bool</span> &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å‡å®šä¸Šé¢çš„æ¨¡å—æ–‡ä»¶ä¸º<code>a.ts</code>ï¼Œå¦ä¸€ä¸ªæ–‡ä»¶<code>b.ts</code>å°±å¯ä»¥ä½¿ç”¨ import è¯­å¥ï¼Œè¾“å…¥è¿™ä¸ªç±»å‹ã€‚</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="built_in">Bool</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./a&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> foo:<span class="built_in">Bool</span> = true;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œimport è¯­å¥åŠ è½½çš„æ˜¯ä¸€ä¸ªç±»å‹ã€‚æ³¨æ„ï¼ŒåŠ è½½æ–‡ä»¶å†™æˆ<code>./a</code>ï¼Œæ²¡æœ‰å†™è„šæœ¬æ–‡ä»¶çš„åç¼€åã€‚TypeScript å…è®¸åŠ è½½æ¨¡å—æ—¶ï¼Œçœç•¥æ¨¡å—æ–‡ä»¶çš„åç¼€åï¼Œå®ƒä¼šè‡ªåŠ¨å®šä½ï¼Œå°†<code>./a</code>å®šä½åˆ°<code>./a.ts</code>ã€‚</p><p>ç¼–è¯‘æ—¶ï¼Œå¯ä»¥ä¸¤ä¸ªè„šæœ¬åŒæ—¶ç¼–è¯‘ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tsc <span class="selector-tag">a</span><span class="selector-class">.ts</span> <span class="selector-tag">b</span><span class="selector-class">.ts</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢å‘½ä»¤ä¼šå°†<code>a.ts</code>å’Œ<code>b.ts</code>åˆ†åˆ«ç¼–è¯‘æˆ<code>a.js</code>å’Œ<code>b.js</code>ã€‚</p><p>ä¹Ÿå¯ä»¥åªç¼–è¯‘<code>b.ts</code>ï¼Œå› ä¸ºå®ƒæ˜¯å…¥å£è„šæœ¬ï¼Œtsc ä¼šè‡ªåŠ¨ç¼–è¯‘å®ƒä¾èµ–çš„æ‰€æœ‰è„šæœ¬ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tsc <span class="selector-tag">b</span><span class="selector-class">.ts</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢å‘½ä»¤å‘ç°<code>b.ts</code>ä¾èµ–<code>a.ts</code>ï¼Œå°±ä¼šè‡ªåŠ¨å¯»æ‰¾<code>a.ts</code>ï¼Œä¹Ÿå°†å…¶åŒæ—¶ç¼–è¯‘ï¼Œå› æ­¤ç¼–è¯‘äº§ç‰©è¿˜æ˜¯<code>a.js</code>å’Œ<code>b.js</code>ä¸¤ä¸ªæ–‡ä»¶ã€‚</p><h2 id="import-type-è¯­å¥">import type è¯­å¥ <a href="about:blank#import-type-%E8%AF%AD%E5%8F%A5">#</a></h2><p>import åœ¨ä¸€æ¡è¯­å¥ä¸­ï¼Œå¯ä»¥åŒæ—¶è¾“å…¥ç±»å‹å’Œæ­£å¸¸æ¥å£ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">interface</span> A &#123;</span><br><span class="line">  <span class="attr">foo</span>: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> a = <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; A, a &#125; <span class="keyword">from</span> <span class="string">&#x27;./a&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ–‡ä»¶<code>a.ts</code>çš„ export è¯­å¥è¾“å‡ºäº†ä¸€ä¸ªç±»å‹<code>A</code>å’Œä¸€ä¸ªæ­£å¸¸æ¥å£<code>a</code>ï¼Œå¦ä¸€ä¸ªæ–‡ä»¶<code>b.ts</code>åˆ™åœ¨åŒä¸€æ¡è¯­å¥ä¸­è¾“å…¥äº†ç±»å‹å’Œæ­£å¸¸æ¥å£ã€‚</p><p>è¿™æ ·å¾ˆä¸åˆ©äºåŒºåˆ†ç±»å‹å’Œæ­£å¸¸æ¥å£ï¼Œå®¹æ˜“é€ æˆæ··æ·†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒTypeScript å¼•å…¥äº†ä¸¤ä¸ªè§£å†³æ–¹æ³•ã€‚</p><p>ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯åœ¨ import è¯­å¥è¾“å…¥çš„ç±»å‹å‰é¢åŠ ä¸Š<code>type</code>å…³é”®å­—ã€‚</p><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="built_in">type</span> A, a &#125; <span class="keyword">from</span> <span class="string">&#x27;./a&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œimport è¯­å¥è¾“å…¥çš„ç±»å‹<code>A</code>å‰é¢æœ‰<code>type</code>å…³é”®å­—ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªç±»å‹ã€‚</p><p>ç¬¬äºŒä¸ªæ–¹æ³•æ˜¯ä½¿ç”¨ import type è¯­å¥ï¼Œè¿™ä¸ªè¯­å¥åªç”¨æ¥è¾“å…¥ç±»å‹ï¼Œä¸ç”¨æ¥è¾“å…¥æ­£å¸¸æ¥å£ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; A &#125; <span class="keyword">from</span> <span class="string">&#x27;./a&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="attr">b</span>:A = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; a &#125; <span class="keyword">from</span> <span class="string">&#x27;./a&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> b = a;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œimport type è¾“å…¥ç±»å‹<code>A</code>æ˜¯æ­£ç¡®çš„ï¼Œå¯ä»¥æŠŠ<code>A</code>å½“ä½œç±»å‹ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œè¾“å…¥æ­£å¸¸æ¥å£<code>a</code>ï¼Œå¹¶æŠŠ<code>a</code>å½“ä½œä¸€ä¸ªå€¼ä½¿ç”¨ï¼Œå°±ä¼šæŠ¥é”™ã€‚è¿™å°±æ˜¯è¯´ï¼Œçœ‹åˆ°<code>import type</code>ï¼Œä½ å°±çŸ¥é“å®ƒè¾“å…¥çš„è‚¯å®šæ˜¯ç±»å‹ã€‚</p><p>import type è¯­å¥ä¹Ÿå¯ä»¥è¾“å…¥é»˜è®¤ç±»å‹ã€‚</p><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="built_in">type</span> DefaultType <span class="keyword">from</span> <span class="string">&#x27;moduleA&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>import type åœ¨ä¸€ä¸ªåç§°ç©ºé—´ä¸‹ï¼Œè¾“å…¥æ‰€æœ‰ç±»å‹çš„å†™æ³•å¦‚ä¸‹ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> * <span class="keyword">as</span> TypeNS <span class="keyword">from</span> <span class="string">&#x27;moduleA&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŒæ ·çš„ï¼Œexport è¯­å¥ä¹Ÿæœ‰ä¸¤ç§æ–¹æ³•ï¼Œè¡¨ç¤ºè¾“å‡ºçš„æ˜¯ç±»å‹ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">A </span>= <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="keyword">type</span> <span class="type">B </span>= <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line"></span><br><span class="line">// æ–¹æ³•ä¸€</span><br><span class="line">export &#123;<span class="keyword">type</span> <span class="type">A, </span><span class="keyword">type</span> <span class="type">B&#125;;</span></span><br><span class="line"><span class="type"></span></span><br><span class="line"><span class="type"></span>// æ–¹æ³•äºŒ</span><br><span class="line">export <span class="keyword">type</span> <span class="type">&#123;A, </span>B&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ–¹æ³•ä¸€æ˜¯ä½¿ç”¨<code>type</code>å…³é”®å­—ä½œä¸ºå‰ç¼€ï¼Œè¡¨ç¤ºè¾“å‡ºçš„æ˜¯ç±»å‹ï¼›æ–¹æ³•äºŒæ˜¯ä½¿ç”¨ export type è¯­å¥ï¼Œè¡¨ç¤ºæ•´è¡Œè¾“å‡ºçš„éƒ½æ˜¯ç±»å‹ã€‚</p><p>ä¸‹é¢æ˜¯ export type å°†ä¸€ä¸ªç±»ä½œä¸ºç±»å‹è¾“å‡ºçš„ä¾‹å­ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="built_in">number</span>;</span><br><span class="line">  <span class="attr">y</span>: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> &#123; <span class="title class_">Point</span> &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç”±äºä½¿ç”¨äº† export type è¯­å¥ï¼Œè¾“å‡ºçš„å¹¶ä¸æ˜¯ Point è¿™ä¸ªç±»ï¼Œè€Œæ˜¯ Point ä»£è¡¨çš„å®ä¾‹ç±»å‹ã€‚è¾“å…¥æ—¶ï¼Œåªèƒ½ä½œä¸ºç±»å‹è¾“å…¥ã€‚</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">type</span> &#123; <span class="type">Point</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./module&#x27;</span>;</span><br><span class="line"></span><br><span class="line">const p:<span class="type">Point</span> = &#123; x: <span class="number">0</span>, y: <span class="number">0</span> &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Point</code>åªèƒ½ä½œä¸ºç±»å‹è¾“å…¥ï¼Œä¸èƒ½å½“ä½œæ­£å¸¸æ¥å£ä½¿ç”¨ã€‚</p><h2 id="importsNotUsedAsValues-ç¼–è¯‘è®¾ç½®">importsNotUsedAsValues ç¼–è¯‘è®¾ç½® <a href="about:blank#importsnotusedasvalues-%E7%BC%96%E8%AF%91%E8%AE%BE%E7%BD%AE">#</a></h2><p>TypeScript ç‰¹æœ‰çš„è¾“å…¥ç±»å‹ï¼ˆtypeï¼‰çš„ import è¯­å¥ï¼Œç¼–è¯‘æˆ JavaScript æ—¶æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</p><p>TypeScript æä¾›äº†<code>importsNotUsedAsValues</code>ç¼–è¯‘è®¾ç½®é¡¹ï¼Œæœ‰ä¸‰ä¸ªå¯èƒ½çš„å€¼ã€‚</p><p>ï¼ˆ1ï¼‰<code>remove</code>ï¼šè¿™æ˜¯é»˜è®¤å€¼ï¼Œè‡ªåŠ¨åˆ é™¤è¾“å…¥ç±»å‹çš„ import è¯­å¥ã€‚</p><p>ï¼ˆ2ï¼‰<code>preserve</code>ï¼šä¿ç•™è¾“å…¥ç±»å‹çš„ import è¯­å¥ã€‚</p><p>ï¼ˆ3ï¼‰<code>error</code>ï¼šä¿ç•™è¾“å…¥ç±»å‹çš„ import è¯­å¥ï¼ˆä¸<code>preserve</code>ç›¸åŒï¼‰ï¼Œä½†æ˜¯å¿…é¡»å†™æˆ<code>import type</code>çš„å½¢å¼ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p><p>è¯·çœ‹ç¤ºä¾‹ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªè¾“å…¥ç±»å‹çš„ import è¯­å¥ã€‚</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; TypeA &#125; <span class="keyword">from</span> <span class="string">&#x27;./a&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>TypeA</code>æ˜¯ä¸€ä¸ªç±»å‹ã€‚</p><p><code>remove</code>çš„ç¼–è¯‘ç»“æœä¼šå°†è¯¥è¯­å¥åˆ æ‰ã€‚</p><p><code>preserve</code>çš„ç¼–è¯‘ç»“æœä¼šä¿ç•™è¯¥è¯­å¥ï¼Œä½†ä¼šåˆ æ‰å…¶ä¸­æ¶‰åŠç±»å‹çš„éƒ¨åˆ†ã€‚</p><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./a&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢å°±æ˜¯<code>preserve</code>çš„ç¼–è¯‘ç»“æœï¼Œå¯ä»¥çœ‹åˆ°ç¼–è¯‘åçš„<code>import</code>è¯­å¥ä¸ä»<code>a.js</code>è¾“å…¥ä»»ä½•æ¥å£ï¼ˆåŒ…æ‹¬ç±»å‹ï¼‰ï¼Œä½†æ˜¯ä¼šå¼•å‘<code>a.js</code>çš„æ‰§è¡Œï¼Œå› æ­¤ä¼šä¿ç•™<code>a.js</code>é‡Œé¢çš„å‰¯ä½œç”¨ã€‚</p><p><code>error</code>çš„ç¼–è¯‘ç»“æœä¸<code>preserve</code>ç›¸åŒï¼Œä½†åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ä¼šæŠ¥é”™ï¼Œå› ä¸ºå®ƒè¦æ±‚è¾“å…¥ç±»å‹çš„<code>import</code>è¯­å¥å¿…é¡»å†™æˆ<code>import type</code> çš„å½¢å¼ã€‚åŸå§‹è¯­å¥æ”¹æˆä¸‹é¢çš„å½¢å¼ï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚</p><figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="built_in">type</span> &#123; TypeA &#125; <span class="keyword">from</span> <span class="string">&#x27;./a&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="CommonJS-æ¨¡å—">CommonJS æ¨¡å— <a href="about:blank#commonjs-%E6%A8%A1%E5%9D%97">#</a></h2><p>CommonJS æ˜¯ Node.js çš„ä¸“ç”¨æ¨¡å—æ ¼å¼ï¼Œä¸ ES æ¨¡å—æ ¼å¼ä¸å…¼å®¹ã€‚</p><h3 id="import-è¯­å¥">import = è¯­å¥ <a href="about:blank#import--%E8%AF%AD%E5%8F%A5">#</a></h3><p>TypeScript ä½¿ç”¨<code>import =</code>è¯­å¥è¾“å…¥ CommonJS æ¨¡å—ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> code = fs.<span class="title function_">readFileSync</span>(<span class="string">&#x27;hello.ts&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨<code>import =</code>è¯­å¥å’Œ<code>require()</code>å‘½ä»¤è¾“å…¥äº†ä¸€ä¸ª CommonJS æ¨¡å—ã€‚æ¨¡å—æœ¬èº«çš„ç”¨æ³•è·Ÿ Node.js æ˜¯ä¸€æ ·çš„ã€‚</p><p>é™¤äº†ä½¿ç”¨<code>import =</code>è¯­å¥ï¼ŒTypeScript è¿˜å…è®¸ä½¿ç”¨<code>import * as [æ¥å£å] from &quot;æ¨¡å—æ–‡ä»¶&quot;</code>è¾“å…¥ CommonJS æ¨¡å—ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> fs <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">import</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="export-è¯­å¥">export = è¯­å¥ <a href="about:blank#export--%E8%AF%AD%E5%8F%A5">#</a></h3><p>TypeScript ä½¿ç”¨<code>export =</code>è¯­å¥ï¼Œè¾“å‡º CommonJS æ¨¡å—çš„å¯¹è±¡ï¼Œç­‰åŒäº CommonJS çš„<code>module.exports</code>å¯¹è±¡ã€‚</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">let obj</span> = &#123; foo: 123 &#125;;</span><br><span class="line"></span><br><span class="line"><span class="attribute">export</span> = obj;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>export =</code>è¯­å¥è¾“å‡ºçš„å¯¹è±¡ï¼Œåªèƒ½ä½¿ç”¨<code>import =</code>è¯­å¥åŠ è½½ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> obj = <span class="built_in">require</span>(<span class="string">&#x27;./a&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">foo</span>); <span class="comment">// 123</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ¨¡å—å®šä½">æ¨¡å—å®šä½ <a href="about:blank#%E6%A8%A1%E5%9D%97%E5%AE%9A%E4%BD%8D">#</a></h2><p>æ¨¡å—å®šä½ï¼ˆmodule resolutionï¼‰æŒ‡çš„æ˜¯ä¸€ç§ç®—æ³•ï¼Œç”¨æ¥ç¡®å®š import è¯­å¥å’Œ export è¯­å¥é‡Œé¢çš„æ¨¡å—æ–‡ä»¶ä½ç½®ã€‚</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›¸å¯¹æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> &#123; TypeA &#125; <span class="keyword">from</span> <span class="string">&#x27;./a&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éç›¸å¯¹æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> $ <span class="keyword">from</span> <span class="string">&quot;jquery&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒTypeScript æ€ä¹ˆç¡®å®š<code>./a</code>æˆ–<code>jquery</code>åˆ°åº•æ˜¯æŒ‡å“ªä¸€ä¸ªæ¨¡å—ï¼Œå…·ä½“ä½ç½®åœ¨å“ªé‡Œï¼Œç”¨åˆ°çš„ç®—æ³•å°±å«åšâ€œæ¨¡å—å®šä½â€ã€‚</p><p>ç¼–è¯‘å‚æ•°<code>moduleResolution</code>ï¼Œç”¨æ¥æŒ‡å®šå…·ä½“ä½¿ç”¨å“ªä¸€ç§å®šä½ç®—æ³•ã€‚å¸¸ç”¨çš„ç®—æ³•æœ‰ä¸¤ç§ï¼š<code>Classic</code>å’Œ<code>Node</code>ã€‚</p><p>å¦‚æœæ²¡æœ‰æŒ‡å®š<code>moduleResolution</code>ï¼Œå®ƒçš„é»˜è®¤å€¼ä¸ç¼–è¯‘å‚æ•°<code>module</code>æœ‰å…³ã€‚<code>module</code>è®¾ä¸º<code>commonjs</code>æ—¶ï¼ˆé¡¹ç›®è„šæœ¬é‡‡ç”¨ CommonJS æ¨¡å—æ ¼å¼ï¼‰ï¼Œ<code>moduleResolution</code>çš„é»˜è®¤å€¼ä¸º<code>Node</code>ï¼Œå³é‡‡ç”¨ Node.js çš„æ¨¡å—å®šä½ç®—æ³•ã€‚å…¶ä»–æƒ…å†µä¸‹ï¼ˆ<code>module</code>è®¾ä¸º es2015ã€ esnextã€amd, system, umd ç­‰ç­‰ï¼‰ï¼Œå°±é‡‡ç”¨<code>Classic</code>å®šä½ç®—æ³•ã€‚</p><h3 id="ç›¸å¯¹æ¨¡å—ï¼Œéç›¸å¯¹æ¨¡å—">ç›¸å¯¹æ¨¡å—ï¼Œéç›¸å¯¹æ¨¡å— <a href="about:blank#%E7%9B%B8%E5%AF%B9%E6%A8%A1%E5%9D%97%E9%9D%9E%E7%9B%B8%E5%AF%B9%E6%A8%A1%E5%9D%97">#</a></h3><p>åŠ è½½æ¨¡å—æ—¶ï¼Œç›®æ ‡æ¨¡å—åˆ†ä¸ºç›¸å¯¹æ¨¡å—ï¼ˆrelative importï¼‰å’Œéç›¸å¯¹æ¨¡å—ä¸¤ç§ï¼ˆnon-relative importï¼‰ã€‚</p><p>ç›¸å¯¹æ¨¡å—æŒ‡çš„æ˜¯è·¯å¾„ä»¥<code>/</code>ã€<code>./</code>ã€<code>../</code>å¼€å¤´çš„æ¨¡å—ã€‚ä¸‹é¢ import è¯­å¥åŠ è½½çš„æ¨¡å—ï¼Œéƒ½æ˜¯ç›¸å¯¹æ¨¡å—ã€‚</p><ul><li><code>import Entry from &quot;./components/Entry&quot;;</code></li><li><code>import &#123; DefaultHeaders &#125; from &quot;../constants/http&quot;;</code></li><li><code>import &quot;/mod&quot;;</code></li></ul><p>ç›¸å¯¹æ¨¡å—çš„å®šä½ï¼Œæ˜¯æ ¹æ®å½“å‰è„šæœ¬çš„ä½ç½®è¿›è¡Œè®¡ç®—çš„ï¼Œä¸€èˆ¬ç”¨äºä¿å­˜åœ¨å½“å‰é¡¹ç›®ç›®å½•ç»“æ„ä¸­çš„æ¨¡å—è„šæœ¬ã€‚</p><p>éç›¸å¯¹æ¨¡å—æŒ‡çš„æ˜¯ä¸å¸¦æœ‰è·¯å¾„ä¿¡æ¯çš„æ¨¡å—ã€‚ä¸‹é¢ import è¯­å¥åŠ è½½çš„æ¨¡å—ï¼Œéƒ½æ˜¯éç›¸å¯¹æ¨¡å—ã€‚</p><ul><li><code>import * as $ from &quot;jquery&quot;;</code></li><li><code>import &#123; Component &#125; from &quot;@angular/core&quot;;</code></li></ul><p>éç›¸å¯¹æ¨¡å—çš„å®šä½ï¼Œæ˜¯ç”±<code>baseUrl</code>å±æ€§æˆ–æ¨¡å—æ˜ å°„è€Œç¡®å®šçš„ï¼Œé€šå¸¸ç”¨äºåŠ è½½å¤–éƒ¨æ¨¡å—ã€‚</p><h3 id="Classic-æ–¹æ³•">Classic æ–¹æ³• <a href="about:blank#classic-%E6%96%B9%E6%B3%95">#</a></h3><p>Classic æ–¹æ³•ä»¥å½“å‰è„šæœ¬çš„è·¯å¾„ä½œä¸ºâ€œåŸºå‡†è·¯å¾„â€ï¼Œè®¡ç®—ç›¸å¯¹æ¨¡å—çš„ä½ç½®ã€‚æ¯”å¦‚ï¼Œè„šæœ¬<code>a.ts</code>é‡Œé¢æœ‰ä¸€è¡Œä»£ç <code>import &#123; b &#125; from &quot;./b&quot;</code>ï¼Œé‚£ä¹ˆ TypeScript å°±ä¼šåœ¨<code>a.ts</code>æ‰€åœ¨çš„ç›®å½•ï¼ŒæŸ¥æ‰¾<code>b.ts</code>å’Œ<code>b.d.ts</code>ã€‚</p><p>è‡³äºéç›¸å¯¹æ¨¡å—ï¼Œä¹Ÿæ˜¯ä»¥å½“å‰è„šæœ¬çš„è·¯å¾„ä½œä¸ºèµ·ç‚¹ï¼Œä¸€å±‚å±‚æŸ¥æ‰¾ä¸Šçº§ç›®å½•ã€‚æ¯”å¦‚ï¼Œè„šæœ¬<code>a.ts</code>é‡Œé¢æœ‰ä¸€è¡Œä»£ç <code>import &#123; b &#125; from &quot;b&quot;</code>ï¼Œé‚£ä¹ˆå°±ä¼šä¾æ¬¡åœ¨æ¯ä¸€çº§ä¸Šå±‚ç›®å½•é‡Œé¢ï¼ŒæŸ¥æ‰¾<code>b.ts</code>å’Œ<code>b.d.ts</code>ã€‚</p><h3 id="Node-æ–¹æ³•">Node æ–¹æ³• <a href="about:blank#node-%E6%96%B9%E6%B3%95">#</a></h3><p>Node æ–¹æ³•å°±æ˜¯æ¨¡æ‹Ÿ Node.js çš„æ¨¡å—åŠ è½½æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯<code>require()</code>çš„å®ç°æ–¹æ³•ã€‚</p><p>ç›¸å¯¹æ¨¡å—ä¾ç„¶æ˜¯ä»¥å½“å‰è„šæœ¬çš„è·¯å¾„ä½œä¸ºâ€œåŸºå‡†è·¯å¾„â€ã€‚æ¯”å¦‚ï¼Œè„šæœ¬æ–‡ä»¶<code>a.ts</code>é‡Œé¢æœ‰ä¸€è¡Œä»£ç <code>let x = require(&quot;./b&quot;);</code>ï¼ŒTypeScript æŒ‰ç…§ä»¥ä¸‹é¡ºåºæŸ¥æ‰¾ã€‚</p><ol><li>å½“å‰ç›®å½•æ˜¯å¦åŒ…å«<code>b.ts</code>ã€<code>b.tsx</code>ã€<code>b.d.ts</code>ã€‚å¦‚æœä¸å­˜åœ¨å°±æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚</li><li>å½“å‰ç›®å½•æ˜¯å¦å­˜åœ¨å­ç›®å½•<code>b</code>ï¼Œè¯¥å­ç›®å½•é‡Œé¢çš„<code>package.json</code>æ–‡ä»¶æ˜¯å¦æœ‰<code>types</code>å­—æ®µæŒ‡å®šäº†æ¨¡å—å…¥å£æ–‡ä»¶ã€‚å¦‚æœä¸å­˜åœ¨å°±æ‰§è¡Œä¸‹ä¸€æ­¥ã€‚</li><li>å½“å‰ç›®å½•çš„å­ç›®å½•<code>b</code>æ˜¯å¦åŒ…å«<code>index.ts</code>ã€<code>index.tsx</code>ã€<code>index.d.ts</code>ã€‚å¦‚æœä¸å­˜åœ¨å°±æŠ¥é”™ã€‚</li></ol><p>éç›¸å¯¹æ¨¡å—åˆ™æ˜¯ä»¥å½“å‰è„šæœ¬çš„è·¯å¾„ä½œä¸ºèµ·ç‚¹ï¼Œé€çº§å‘ä¸Šå±‚ç›®å½•æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å­ç›®å½•<code>node_modules</code>ã€‚æ¯”å¦‚ï¼Œè„šæœ¬æ–‡ä»¶<code>a.js</code>æœ‰ä¸€è¡Œ<code>let x = require(&quot;b&quot;);</code>ï¼ŒTypeScript æŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡ŒæŸ¥æ‰¾ã€‚</p><ol><li>å½“å‰ç›®å½•çš„å­ç›®å½•<code>node_modules</code>æ˜¯å¦åŒ…å«<code>b.ts</code>ã€<code>b.tsx</code>ã€<code>b.d.ts</code>ã€‚</li><li>å½“å‰ç›®å½•çš„å­ç›®å½•<code>node_modules</code>ï¼Œæ˜¯å¦å­˜åœ¨æ–‡ä»¶<code>package.json</code>ï¼Œè¯¥æ–‡ä»¶çš„<code>types</code>å­—æ®µæ˜¯å¦æŒ‡å®šäº†å…¥å£æ–‡ä»¶ï¼Œå¦‚æœæ˜¯çš„å°±åŠ è½½è¯¥æ–‡ä»¶ã€‚</li><li>å½“å‰ç›®å½•çš„å­ç›®å½•<code>node_modules</code>é‡Œé¢ï¼Œæ˜¯å¦åŒ…å«å­ç›®å½•<code>@types</code>ï¼Œåœ¨è¯¥ç›®å½•ä¸­æŸ¥æ‰¾æ–‡ä»¶<code>b.d.ts</code>ã€‚</li><li>å½“å‰ç›®å½•çš„å­ç›®å½•<code>node_modules</code>é‡Œé¢ï¼Œæ˜¯å¦åŒ…å«å­ç›®å½•<code>b</code>ï¼Œåœ¨è¯¥ç›®å½•ä¸­æŸ¥æ‰¾<code>index.ts</code>ã€<code>index.tsx</code>ã€<code>index.d.ts</code>ã€‚</li><li>è¿›å…¥ä¸Šä¸€å±‚ç›®å½•ï¼Œé‡å¤ä¸Šé¢4æ­¥ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ã€‚</li></ol><h3 id="è·¯å¾„æ˜ å°„">è·¯å¾„æ˜ å°„ <a href="about:blank#%E8%B7%AF%E5%BE%84%E6%98%A0%E5%B0%84">#</a></h3><p>TypeScript å…è®¸å¼€å‘è€…åœ¨<code>tsconfig.json</code>æ–‡ä»¶é‡Œé¢ï¼Œæ‰‹åŠ¨æŒ‡å®šè„šæœ¬æ¨¡å—çš„è·¯å¾„ã€‚</p><p>ï¼ˆ1ï¼‰baseUrl</p><p><code>baseUrl</code>å­—æ®µå¯ä»¥æ‰‹åŠ¨æŒ‡å®šè„šæœ¬æ¨¡å—çš„åŸºå‡†ç›®å½•ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;baseUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;.&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>baseUrl</code>æ˜¯ä¸€ä¸ªç‚¹ï¼Œè¡¨ç¤ºåŸºå‡†ç›®å½•å°±æ˜¯<code>tsconfig.json</code>æ‰€åœ¨çš„ç›®å½•ã€‚</p><p>ï¼ˆ2ï¼‰paths</p><p><code>paths</code>å­—æ®µæŒ‡å®šéç›¸å¯¹è·¯å¾„çš„æ¨¡å—ä¸å®é™…è„šæœ¬çš„æ˜ å°„ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;.&quot;</span>,</span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;jquery&quot;</span>: [<span class="string">&quot;node_modules/jquery/dist/jquery&quot;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒåŠ è½½æ¨¡å—<code>jquery</code>æ—¶ï¼Œå®é™…åŠ è½½çš„è„šæœ¬æ˜¯<code>node_modules/jquery/dist/jquery</code>ï¼Œå®ƒçš„ä½ç½®è¦æ ¹æ®<code>baseUrl</code>å­—æ®µè®¡ç®—å¾—åˆ°ã€‚</p><p>æ³¨æ„ï¼Œä¸Šä¾‹çš„<code>jquery</code>å±æ€§çš„å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥æŒ‡å®šå¤šä¸ªè·¯å¾„ã€‚å¦‚æœç¬¬ä¸€ä¸ªè„šæœ¬è·¯å¾„ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±åŠ è½½ç¬¬äºŒä¸ªè·¯å¾„ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>ï¼ˆ3ï¼‰rootDirs</p><p><code>rootDirs</code>å­—æ®µæŒ‡å®šæ¨¡å—å®šä½æ—¶å¿…é¡»æŸ¥æ‰¾çš„å…¶ä»–ç›®å½•ã€‚</p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;rootDirs&quot;</span>: [<span class="string">&quot;src/zh&quot;</span>, <span class="string">&quot;src/de&quot;</span>, <span class="string">&quot;src/<span class="subst">#&#123;locale&#125;</span>&quot;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>rootDirs</code>æŒ‡å®šäº†æ¨¡å—å®šä½æ—¶ï¼Œéœ€è¦æŸ¥æ‰¾çš„ä¸åŒçš„å›½é™…åŒ–ç›®å½•ã€‚</p><h3 id="tsc-çš„-traceResolutionå‚æ•°">tsc çš„<code>--traceResolution</code>å‚æ•° <a href="about:blank#tsc-%E7%9A%84--traceresolution%E5%8F%82%E6%95%B0">#</a></h3><p>ç”±äºæ¨¡å—å®šä½çš„è¿‡ç¨‹å¾ˆå¤æ‚ï¼Œtsc å‘½ä»¤æœ‰ä¸€ä¸ª<code>--traceResolution</code>å‚æ•°ï¼Œèƒ½å¤Ÿåœ¨ç¼–è¯‘æ—¶åœ¨å‘½ä»¤è¡Œæ˜¾ç¤ºæ¨¡å—å®šä½çš„æ¯ä¸€æ­¥ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tsc <span class="comment">--traceResolution</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>traceResolution</code>ä¼šè¾“å‡ºæ¨¡å—å®šä½çš„åˆ¤æ–­è¿‡ç¨‹ã€‚</p><h3 id="tsc-çš„-noResolveå‚æ•°">tsc çš„<code>--noResolve</code>å‚æ•° <a href="about:blank#tsc-%E7%9A%84--noresolve%E5%8F%82%E6%95%B0">#</a></h3><p>tsc å‘½ä»¤çš„<code>--noResolve</code>å‚æ•°ï¼Œè¡¨ç¤ºæ¨¡å—å®šä½æ—¶ï¼Œåªè€ƒè™‘åœ¨å‘½ä»¤è¡Œä¼ å…¥çš„æ¨¡å—ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œ<code>app.ts</code>åŒ…å«å¦‚ä¸‹ä¸¤è¡Œä»£ç ã€‚</p><figure class="highlight capnproto"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> A <span class="keyword">from</span> <span class="string">&quot;moduleA&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> B <span class="keyword">from</span> <span class="string">&quot;moduleB&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œç¼–è¯‘ã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tsc app<span class="selector-class">.ts</span> moduleA<span class="selector-class">.ts</span> <span class="attr">--noResolve</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢å‘½ä»¤ä½¿ç”¨<code>--noResolve</code>å‚æ•°ï¼Œå› æ­¤å¯ä»¥å®šä½åˆ°<code>moduleA.ts</code>ï¼Œå› ä¸ºå®ƒä»å‘½ä»¤è¡Œä¼ å…¥äº†ï¼›æ— æ³•å®šä½åˆ°<code>moduleB</code>ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ä¼ å…¥ï¼Œå› æ­¤ä¼šæŠ¥é”™ã€‚</p><h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ <a href="about:blank#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">#</a></h2><ul><li><a href="https://blog.51cto.com/u_13028258/5754309">tsconfig ä¹‹ importsNotUsedAsValues å±æ€§</a></li></ul><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/module">https://wangdoc.com/typescript/module</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript æ¨¡å—</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript çš„ç±»å‹æ–­è¨€</title>
    <link href="https://www.fomal.cc/posts/20.html"/>
    <id>https://www.fomal.cc/posts/20.html</id>
    <published>2023-06-14T10:50:00.000Z</published>
    <updated>2023-06-14T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>TypeScript çš„ç±»å‹æ–­è¨€</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><h2 id="ç®€ä»‹">ç®€ä»‹ <a href="about:blank#%E7%AE%80%E4%BB%8B">#</a></h2><p>å¯¹äºæ²¡æœ‰ç±»å‹å£°æ˜çš„å€¼ï¼ŒTypeScript ä¼šè¿›è¡Œç±»å‹æ¨æ–­ï¼Œå¾ˆå¤šæ—¶å€™å¾—åˆ°çš„ç»“æœï¼Œæœªå¿…æ˜¯å¼€å‘è€…æƒ³è¦çš„ã€‚</p><figure class="highlight flix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> T = <span class="string">&#x27;a&#x27;</span>|<span class="string">&#x27;b&#x27;</span>|<span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> foo = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> bar:T = foo; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæœ€åä¸€è¡ŒæŠ¥é”™ï¼ŒåŸå› æ˜¯ TypeScript æ¨æ–­å˜é‡<code>foo</code>çš„ç±»å‹æ˜¯<code>string</code>ï¼Œè€Œå˜é‡<code>bar</code>çš„ç±»å‹æ˜¯<code>'a'|'b'|'c'</code>ï¼Œå‰è€…æ˜¯åè€…çš„çˆ¶ç±»å‹ã€‚çˆ¶ç±»å‹ä¸èƒ½èµ‹å€¼ç»™å­ç±»å‹ï¼Œæ‰€ä»¥å°±æŠ¥é”™äº†ã€‚</p><p>TypeScript æä¾›äº†â€œç±»å‹æ–­è¨€â€è¿™æ ·ä¸€ç§æ‰‹æ®µï¼Œå…è®¸å¼€å‘è€…åœ¨ä»£ç ä¸­â€œæ–­è¨€â€æŸä¸ªå€¼çš„ç±»å‹ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨æ­¤å¤„çš„å€¼æ˜¯ä»€ä¹ˆç±»å‹ã€‚TypeScript ä¸€æ—¦å‘ç°å­˜åœ¨ç±»å‹æ–­è¨€ï¼Œå°±ä¸å†å¯¹è¯¥å€¼è¿›è¡Œç±»å‹æ¨æ–­ï¼Œè€Œæ˜¯ç›´æ¥é‡‡ç”¨æ–­è¨€ç»™å‡ºçš„ç±»å‹ã€‚</p><p>è¿™ç§åšæ³•çš„å®è´¨æ˜¯ï¼Œå…è®¸å¼€å‘è€…åœ¨æŸä¸ªä½ç½®â€œç»•è¿‡â€ç¼–è¯‘å™¨çš„ç±»å‹æ¨æ–­ï¼Œè®©æœ¬æ¥é€šä¸è¿‡ç±»å‹æ£€æŸ¥çš„ä»£ç èƒ½å¤Ÿé€šè¿‡ï¼Œé¿å…ç¼–è¯‘å™¨æŠ¥é”™ã€‚è¿™æ ·è™½ç„¶å‰Šå¼±äº† TypeScript ç±»å‹ç³»ç»Ÿçš„ä¸¥æ ¼æ€§ï¼Œä½†æ˜¯ä¸ºå¼€å‘è€…å¸¦æ¥äº†æ–¹ä¾¿ï¼Œæ¯•ç«Ÿå¼€å‘è€…æ¯”ç¼–è¯‘å™¨æ›´äº†è§£è‡ªå·±çš„ä»£ç ã€‚</p><p>å›åˆ°ä¸Šé¢çš„ä¾‹å­ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯è¿›è¡Œç±»å‹æ–­è¨€ï¼Œåœ¨èµ‹å€¼æ—¶æ–­è¨€å˜é‡<code>foo</code>çš„ç±»å‹ã€‚</p><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">T</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span><span class="operator">|</span><span class="string">&#x27;b&#x27;</span><span class="operator">|</span><span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> foo <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> bar<span class="operator">:</span>T <span class="operator">=</span> foo <span class="keyword">as</span> T; <span class="comment">// æ­£ç¡®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæœ€åä¸€è¡Œçš„<code>foo as T</code>è¡¨ç¤ºå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå˜é‡<code>foo</code>çš„ç±»å‹æ–­è¨€ä¸º<code>T</code>ï¼Œæ‰€ä»¥è¿™ä¸€è¡Œä¸å†éœ€è¦ç±»å‹æ¨æ–­äº†ï¼Œç¼–è¯‘å™¨ç›´æ¥æŠŠ<code>foo</code>çš„ç±»å‹å½“ä½œ<code>T</code>ï¼Œå°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p><p>æ€»ä¹‹ï¼Œç±»å‹æ–­è¨€å¹¶ä¸æ˜¯çœŸçš„æ”¹å˜ä¸€ä¸ªå€¼çš„ç±»å‹ï¼Œè€Œæ˜¯æç¤ºç¼–è¯‘å™¨ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†è¿™ä¸ªå€¼ã€‚</p><p>ç±»å‹æ–­è¨€æœ‰ä¸¤ç§è¯­æ³•ã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯­æ³•ä¸€ï¼š&lt;ç±»å‹&gt;å€¼</span></span><br><span class="line">&lt;<span class="built_in">Type</span>&gt;value</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯­æ³•äºŒï¼šå€¼ as ç±»å‹</span></span><br><span class="line">value <span class="keyword">as</span> <span class="built_in">Type</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¸¤ç§è¯­æ³•æ˜¯ç­‰ä»·çš„ï¼Œ<code>value</code>è¡¨ç¤ºå€¼ï¼Œ<code>Type</code>è¡¨ç¤ºç±»å‹ã€‚æ—©æœŸåªæœ‰è¯­æ³•ä¸€ï¼Œåæ¥å› ä¸º TypeScript å¼€å§‹æ”¯æŒ React çš„ JSX è¯­æ³•ï¼ˆå°–æ‹¬å·è¡¨ç¤º HTML å…ƒç´ ï¼‰ï¼Œä¸ºäº†é¿å…ä¸¤è€…å†²çªï¼Œå°±å¼•å…¥äº†è¯­æ³•äºŒã€‚ç›®å‰ï¼Œæ¨èä½¿ç”¨è¯­æ³•äºŒã€‚</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯­æ³•ä¸€</span></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">bar</span>:T = &lt;T&gt;foo;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¯­æ³•äºŒ</span></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">bar</span>:T = foo as T;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹æ˜¯ä¸¤ç§ç±»å‹æ–­è¨€çš„è¯­æ³•ï¼Œå…¶ä¸­çš„è¯­æ³•ä¸€å› ä¸ºè·Ÿ JSX è¯­æ³•å†²çªï¼Œä½¿ç”¨æ—¶å¿…é¡»å…³é—­ TypeScript çš„ React æ”¯æŒï¼Œå¦åˆ™ä¼šæ— æ³•è¯†åˆ«ã€‚ç”±äºè¿™ä¸ªåŸå› ï¼Œç°åœ¨ä¸€èˆ¬éƒ½ä½¿ç”¨è¯­æ³•äºŒã€‚</p><p>ä¸‹é¢çœ‹ä¸€ä¸ªä¾‹å­ã€‚ã€Šå¯¹è±¡ã€‹ä¸€ç« æåˆ°è¿‡ï¼Œå¯¹è±¡ç±»å‹æœ‰ä¸¥æ ¼å­—é¢é‡æ£€æŸ¥ï¼Œå¦‚æœå­˜åœ¨é¢å¤–çš„å±æ€§ä¼šæŠ¥é”™ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">//</span> <span class="string">æŠ¥é”™</span></span><br><span class="line"><span class="string">const</span> <span class="string">p:&#123;</span> <span class="attr">x:</span> <span class="string">number</span> <span class="string">&#125;</span> <span class="string">=</span> &#123; <span class="attr">x:</span> <span class="number">0</span>, <span class="attr">y:</span> <span class="number">0</span> &#125;<span class="string">;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç­‰å·å³ä¾§æ˜¯ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ï¼Œå¤šå‡ºäº†å±æ€§<code>y</code>ï¼Œå¯¼è‡´æŠ¥é”™ã€‚è§£å†³æ–¹æ³•å°±æ˜¯ä½¿ç”¨ç±»å‹æ–­è¨€ï¼Œå¯ä»¥ç”¨ä¸¤ç§ä¸åŒçš„æ–­è¨€ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p0</span>:&#123; <span class="attr">x</span>: <span class="built_in">number</span> &#125; =</span><br><span class="line">  &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125; <span class="keyword">as</span> &#123; <span class="attr">x</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">p1</span>:&#123; <span class="attr">x</span>: <span class="built_in">number</span> &#125; =</span><br><span class="line">  &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125; <span class="keyword">as</span> &#123; <span class="attr">x</span>: <span class="built_in">number</span>; <span class="attr">y</span>: <span class="built_in">number</span> &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œä¸¤ç§ç±»å‹æ–­è¨€éƒ½æ˜¯æ­£ç¡®çš„ã€‚ç¬¬ä¸€ç§æ–­è¨€å°†ç±»å‹æ”¹æˆä¸ç­‰å·å·¦è¾¹ä¸€è‡´ï¼Œç¬¬äºŒç§æ–­è¨€ä½¿å¾—ç­‰å·å³è¾¹çš„ç±»å‹æ˜¯å·¦è¾¹ç±»å‹çš„å­ç±»å‹ï¼Œå­ç±»å‹å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»å‹ï¼ŒåŒæ—¶å› ä¸ºå­˜åœ¨ç±»å‹æ–­è¨€ï¼Œå°±æ²¡æœ‰ä¸¥æ ¼å­—é¢é‡æ£€æŸ¥äº†ï¼Œæ‰€ä»¥ä¸æŠ¥é”™ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç½‘é¡µç¼–ç¨‹çš„å®é™…ä¾‹å­ã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> username = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;username&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (username) &#123;</span><br><span class="line">  (username <span class="keyword">as</span> HTMLInputElement).value; <span class="comment">// æ­£ç¡®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>username</code>çš„ç±»å‹æ˜¯<code>HTMLElement | null</code>ï¼Œæ’é™¤äº†<code>null</code>çš„æƒ…å†µä»¥åï¼ŒHTMLElement ç±»å‹æ˜¯æ²¡æœ‰<code>value</code>å±æ€§çš„ã€‚å¦‚æœ<code>username</code>æ˜¯ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ç±»å‹æ–­è¨€ï¼Œå°†å®ƒçš„ç±»å‹æ”¹æˆ<code>HTMLInputElement</code>ï¼Œå°±å¯ä»¥è¯»å–<code>value</code>å±æ€§ã€‚</p><p>æ³¨æ„ï¼Œä¸Šä¾‹çš„ç±»å‹æ–­è¨€çš„åœ†æ‹¬å·æ˜¯å¿…éœ€çš„ï¼Œå¦åˆ™<code>username</code>ä¼šè¢«æ–­è¨€æˆ<code>HTMLInputElement.value</code>ï¼Œä»è€ŒæŠ¥é”™ã€‚</p><p>ç±»å‹æ–­è¨€ä¸åº”æ»¥ç”¨ï¼Œå› ä¸ºå®ƒæ”¹å˜äº† TypeScript çš„ç±»å‹æ£€æŸ¥ï¼Œå¾ˆå¯èƒ½åŸ‹ä¸‹é”™è¯¯çš„éšæ‚£ã€‚</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">data</span>:<span class="keyword">object</span> = &#123;</span><br><span class="line">  a: <span class="number">1</span>,</span><br><span class="line">  b: <span class="number">2</span>,</span><br><span class="line">  c: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">data</span>.length; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">data</span> <span class="keyword">as</span> Array&lt;string&gt;).length; <span class="comment">// æ­£ç¡®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>data</code>æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ²¡æœ‰<code>length</code>å±æ€§ã€‚ä½†æ˜¯é€šè¿‡ç±»å‹æ–­è¨€ï¼Œå¯ä»¥å°†å®ƒçš„ç±»å‹æ–­è¨€ä¸ºæ•°ç»„ï¼Œè¿™æ ·ä½¿ç”¨<code>length</code>å±æ€§å°±èƒ½é€šè¿‡ç±»å‹æ£€æŸ¥ã€‚ä½†æ˜¯ï¼Œç¼–è¯‘åçš„ä»£ç åœ¨è¿è¡Œæ—¶ä¾ç„¶ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥ç±»å‹æ–­è¨€å¯ä»¥è®©é”™è¯¯çš„ä»£ç é€šè¿‡ç¼–è¯‘ã€‚</p><p>ç±»å‹æ–­è¨€çš„ä¸€å¤§ç”¨å¤„æ˜¯ï¼ŒæŒ‡å®š unknown ç±»å‹çš„å˜é‡çš„å…·ä½“ç±»å‹ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="attr">value</span>:<span class="built_in">unknown</span> = <span class="string">&#x27;Hello World&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">s1</span>:<span class="built_in">string</span> = value; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">s2</span>:<span class="built_in">string</span> = value <span class="keyword">as</span> <span class="built_in">string</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œunknown ç±»å‹çš„å˜é‡<code>value</code>ä¸èƒ½ç›´æ¥èµ‹å€¼ç»™å…¶ä»–ç±»å‹çš„å˜é‡ï¼Œä½†æ˜¯å¯ä»¥å°†å®ƒæ–­è¨€ä¸ºå…¶ä»–ç±»å‹ï¼Œè¿™æ ·å°±å¯ä»¥èµ‹å€¼ç»™åˆ«çš„å˜é‡äº†ã€‚</p><h2 id="ç±»å‹æ–­è¨€çš„æ¡ä»¶">ç±»å‹æ–­è¨€çš„æ¡ä»¶ <a href="about:blank#%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80%E7%9A%84%E6%9D%A1%E4%BB%B6">#</a></h2><p>ç±»å‹æ–­è¨€å¹¶ä¸æ„å‘³ç€ï¼Œå¯ä»¥æŠŠæŸä¸ªå€¼æ–­è¨€ä¸ºä»»æ„ç±»å‹ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> n = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> m:<span class="built_in">string</span> = n <span class="keyword">as</span> <span class="built_in">string</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>n</code>æ˜¯æ•°å€¼ï¼Œæ— æ³•æŠŠå®ƒæ–­è¨€æˆå­—ç¬¦ä¸²ï¼ŒTypeScript ä¼šæŠ¥é”™ã€‚</p><p>ç±»å‹æ–­è¨€çš„ä½¿ç”¨å‰ææ˜¯ï¼Œå€¼çš„å®é™…ç±»å‹ä¸æ–­è¨€çš„ç±»å‹å¿…é¡»æ»¡è¶³ä¸€ä¸ªæ¡ä»¶ã€‚</p><figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">expr</span> <span class="keyword">as</span> T</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>expr</code>æ˜¯å®é™…çš„å€¼ï¼Œ<code>T</code>æ˜¯ç±»å‹æ–­è¨€ï¼Œå®ƒä»¬å¿…é¡»æ»¡è¶³ä¸‹é¢çš„æ¡ä»¶ï¼š<code>expr</code>æ˜¯<code>T</code>çš„å­ç±»å‹ï¼Œæˆ–è€…<code>T</code>æ˜¯<code>expr</code>çš„å­ç±»å‹ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œç±»å‹æ–­è¨€è¦æ±‚å®é™…çš„ç±»å‹ä¸æ–­è¨€çš„ç±»å‹å…¼å®¹ï¼Œå®é™…ç±»å‹å¯ä»¥æ–­è¨€ä¸ºä¸€ä¸ªæ›´åŠ å®½æ³›çš„ç±»å‹ï¼ˆçˆ¶ç±»å‹ï¼‰ï¼Œä¹Ÿå¯ä»¥æ–­è¨€ä¸ºä¸€ä¸ªæ›´åŠ ç²¾ç¡®çš„ç±»å‹ï¼ˆå­ç±»å‹ï¼‰ï¼Œä½†ä¸èƒ½æ–­è¨€ä¸ºä¸€ä¸ªå®Œå…¨æ— å…³çš„ç±»å‹ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœçœŸçš„è¦æ–­è¨€æˆä¸€ä¸ªå®Œå…¨æ— å…³çš„ç±»å‹ï¼Œä¹Ÿæ˜¯å¯ä»¥åšåˆ°çš„ã€‚é‚£å°±æ˜¯è¿ç»­è¿›è¡Œä¸¤æ¬¡ç±»å‹æ–­è¨€ï¼Œå…ˆæ–­è¨€æˆ unknown ç±»å‹æˆ– any ç±»å‹ï¼Œç„¶åå†æ–­è¨€ä¸ºç›®æ ‡ç±»å‹ã€‚å› ä¸º<code>any</code>ç±»å‹å’Œ<code>unknown</code>ç±»å‹æ˜¯æ‰€æœ‰å…¶ä»–ç±»å‹çš„çˆ¶ç±»å‹ï¼Œæ‰€ä»¥å¯ä»¥ä½œä¸ºä¸¤ç§å®Œå…¨æ— å…³çš„ç±»å‹çš„ä¸­ä»‹ã€‚</p><figure class="highlight nim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// æˆ–è€…å†™æˆ &lt;T&gt;&lt;unknown&gt;<span class="type">expr</span></span><br><span class="line"><span class="type">expr</span> <span class="keyword">as</span> unknown <span class="keyword">as</span> T</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>expr</code>è¿ç»­è¿›è¡Œäº†ä¸¤æ¬¡ç±»å‹æ–­è¨€ï¼Œç¬¬ä¸€æ¬¡æ–­è¨€ä¸º<code>unknown</code>ç±»å‹ï¼Œç¬¬äºŒæ¬¡æ–­è¨€ä¸º<code>T</code>ç±»å‹ã€‚è¿™æ ·çš„è¯ï¼Œ<code>expr</code>å°±å¯ä»¥æ–­è¨€æˆä»»æ„ç±»å‹<code>T</code>ï¼Œè€Œä¸æŠ¥é”™ã€‚</p><p>ä¸‹é¢æ˜¯æœ¬å°èŠ‚å¼€å¤´é‚£ä¸ªä¾‹å­çš„æ”¹å†™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> n = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="attr">m</span>:<span class="built_in">string</span> = n <span class="keyword">as</span> <span class="built_in">unknown</span> <span class="keyword">as</span> <span class="built_in">string</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œé€šè¿‡ä¸¤æ¬¡ç±»å‹æ–­è¨€ï¼Œå˜é‡<code>n</code>çš„ç±»å‹å°±ä»æ•°å€¼ï¼Œå˜æˆäº†å®Œå…¨æ— å…³çš„å­—ç¬¦ä¸²ï¼Œä»è€Œèµ‹å€¼æ—¶ä¸ä¼šæŠ¥é”™ã€‚</p><h2 id="as-const-æ–­è¨€">as const æ–­è¨€ <a href="about:blank#as-const-%E6%96%AD%E8%A8%80">#</a></h2><p>å¦‚æœæ²¡æœ‰å£°æ˜å˜é‡ç±»å‹ï¼Œlet å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œä¼šè¢«ç±»å‹æ¨æ–­ä¸º TypeScript å†…ç½®çš„åŸºæœ¬ç±»å‹ä¹‹ä¸€ï¼›const å‘½ä»¤å£°æ˜çš„å˜é‡ï¼Œåˆ™è¢«æ¨æ–­ä¸ºå€¼ç±»å‹å¸¸é‡ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç±»å‹æ¨æ–­ä¸ºåŸºæœ¬ç±»å‹ string</span></span><br><span class="line"><span class="keyword">let</span> s1 = <span class="string">&#x27;JavaScript&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»å‹æ¨æ–­ä¸ºå­—ç¬¦ä¸² â€œJavaScriptâ€</span></span><br><span class="line"><span class="keyword">const</span> s2 = <span class="string">&#x27;JavaScript&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>s1</code>çš„ç±»å‹è¢«æ¨æ–­ä¸º<code>string</code>ï¼Œå˜é‡<code>s2</code>çš„ç±»å‹æ¨æ–­ä¸ºå€¼ç±»å‹<code>JavaScript</code>ã€‚åè€…æ˜¯å‰è€…çš„å­ç±»å‹ï¼Œç›¸å½“äº const å‘½ä»¤æœ‰æ›´å¼ºçš„é™å®šä½œç”¨ï¼Œå¯ä»¥ç¼©å°å˜é‡çš„ç±»å‹èŒƒå›´ã€‚</p><p>æœ‰äº›æ—¶å€™ï¼Œlet å˜é‡ä¼šå‡ºç°ä¸€äº›æ„æƒ³ä¸åˆ°çš„æŠ¥é”™ï¼Œå˜æ›´æˆ const å˜é‡å°±èƒ½æ¶ˆé™¤æŠ¥é”™ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">let s = <span class="symbol">&#x27;JavaScript</span>&#x27;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> <span class="type">Lang </span>=</span><br><span class="line">  |<span class="symbol">&#x27;JavaScript</span>&#x27;</span><br><span class="line">  |<span class="symbol">&#x27;TypeScript</span>&#x27;</span><br><span class="line">  |<span class="symbol">&#x27;Python</span>&#x27;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title">setLang</span>(language:Lang) &#123;</span><br><span class="line">  /* ... */</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setLang(s); // æŠ¥é”™</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæœ€åä¸€è¡ŒæŠ¥é”™ï¼ŒåŸå› æ˜¯å‡½æ•°<code>setLang()</code>çš„å‚æ•°<code>language</code>ç±»å‹æ˜¯<code>Lang</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªè”åˆç±»å‹ã€‚ä½†æ˜¯ï¼Œä¼ å…¥çš„å­—ç¬¦ä¸²<code>s</code>çš„ç±»å‹è¢«æ¨æ–­ä¸º<code>string</code>ï¼Œå±äº<code>Lang</code>çš„çˆ¶ç±»å‹ã€‚çˆ¶ç±»å‹ä¸èƒ½æ›¿ä»£å­ç±»å‹ï¼Œå¯¼è‡´æŠ¥é”™ã€‚</p><p>ä¸€ç§è§£å†³æ–¹æ³•å°±æ˜¯æŠŠ let å‘½ä»¤æ”¹æˆ const å‘½ä»¤ã€‚</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">const s</span> = <span class="string">&#x27;JavaScript&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„è¯ï¼Œå˜é‡<code>s</code>çš„ç±»å‹å°±æ˜¯å€¼ç±»å‹<code>JavaScript</code>ï¼Œå®ƒæ˜¯è”åˆç±»å‹<code>Lang</code>çš„å­ç±»å‹ï¼Œä¼ å…¥å‡½æ•°<code>setLang()</code>å°±ä¸ä¼šæŠ¥é”™ã€‚</p><p>å¦ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ç±»å‹æ–­è¨€ã€‚TypeScript æä¾›äº†ä¸€ç§ç‰¹æ®Šçš„ç±»å‹æ–­è¨€<code>as const</code>ï¼Œç”¨äºå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œæ¨æ–­ç±»å‹æ—¶ï¼Œå¯ä»¥å°†è¿™ä¸ªå€¼æ¨æ–­ä¸ºå¸¸é‡ï¼Œå³æŠŠ let å˜é‡æ–­è¨€ä¸º const å˜é‡ï¼Œä»è€ŒæŠŠå†…ç½®çš„åŸºæœ¬ç±»å‹å˜æ›´ä¸ºå€¼ç±»å‹ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;JavaScript&#x27;</span> <span class="keyword">as</span> <span class="keyword">const</span>;</span><br><span class="line">setLang(s);  <span class="comment">// æ­£ç¡®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>s</code>è™½ç„¶æ˜¯ç”¨ let å‘½ä»¤å£°æ˜çš„ï¼Œä½†æ˜¯ä½¿ç”¨äº†<code>as const</code>æ–­è¨€ä»¥åï¼Œå°±ç­‰åŒäºæ˜¯ç”¨ const å‘½ä»¤å£°æ˜çš„ï¼Œå˜é‡<code>s</code>çš„ç±»å‹ä¼šè¢«æ¨æ–­ä¸ºå€¼ç±»å‹<code>JavaScript</code>ã€‚</p><p>ä½¿ç”¨äº†<code>as const</code>æ–­è¨€ä»¥åï¼Œlet å˜é‡å°±ä¸èƒ½å†æ”¹å˜å€¼äº†ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;JavaScript&#x27;</span> <span class="keyword">as</span> <span class="keyword">const</span>;</span><br><span class="line">s = <span class="string">&#x27;Python&#x27;</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œlet å‘½ä»¤å£°æ˜çš„å˜é‡<code>s</code>ï¼Œä½¿ç”¨<code>as const</code>æ–­è¨€ä»¥åï¼Œå°±ä¸èƒ½æ”¹å˜å€¼äº†ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p><p>æ³¨æ„ï¼Œ<code>as const</code>æ–­è¨€åªèƒ½ç”¨äºå­—é¢é‡ï¼Œä¸èƒ½ç”¨äºå˜é‡ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;JavaScript&#x27;</span>;</span><br><span class="line">setLang(s <span class="keyword">as</span> <span class="keyword">const</span>); <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>as const</code>æ–­è¨€ç”¨äºå˜é‡<code>s</code>ï¼Œå°±æŠ¥é”™äº†ã€‚ä¸‹é¢çš„å†™æ³•å¯ä»¥æ›´æ¸…æ™°åœ°çœ‹å‡ºè¿™ä¸€ç‚¹ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="string">&#x27;JavaScript&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> s2 = s1 <span class="keyword">as</span> <span class="keyword">const</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œ<code>as const</code>ä¹Ÿä¸èƒ½ç”¨äºè¡¨è¾¾å¼ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = (<span class="string">&#x27;Java&#x27;</span> + <span class="string">&#x27;Script&#x27;</span>) <span class="keyword">as</span> <span class="keyword">const</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>as const</code>ç”¨äºè¡¨è¾¾å¼ï¼Œå¯¼è‡´æŠ¥é”™ã€‚</p><p><code>as const</code>ä¹Ÿå¯ä»¥å†™æˆå‰ç½®çš„å½¢å¼ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åç½®å½¢å¼</span></span><br><span class="line">expr <span class="keyword">as</span> <span class="keyword">const</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰ç½®å½¢å¼</span></span><br><span class="line">&lt;<span class="keyword">const</span>&gt;expr</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>as const</code>æ–­è¨€å¯ä»¥ç”¨äºæ•´ä¸ªå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ç”¨äºå¯¹è±¡çš„å•ä¸ªå±æ€§ï¼Œè¿™æ—¶å®ƒçš„ç±»å‹ç¼©å°æ•ˆæœæ˜¯ä¸ä¸€æ ·çš„ã€‚</p><figure class="highlight roboconf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const v1 = &#123;</span><br><span class="line">  <span class="attribute">x</span>: 1,</span><br><span class="line">  y: 2,</span><br><span class="line">&#125;; // ç±»å‹æ˜¯ &#123; <span class="attribute">x</span>: number; <span class="attribute">y</span>: number; &#125;</span><br><span class="line"></span><br><span class="line">const v2 = &#123;</span><br><span class="line">  <span class="attribute">x</span>: 1 as const,</span><br><span class="line">  y: 2,</span><br><span class="line">&#125;; // ç±»å‹æ˜¯ &#123; <span class="attribute">x</span>: 1; <span class="attribute">y</span>: number; &#125;</span><br><span class="line"></span><br><span class="line">const v3 = &#123;</span><br><span class="line">  <span class="attribute">x</span>: 1,</span><br><span class="line">  y: 2,</span><br><span class="line">&#125; as const; // ç±»å‹æ˜¯ &#123; <span class="attribute">readonly x</span>: 1; <span class="attribute">readonly y</span>: 2; &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç¬¬äºŒç§å†™æ³•æ˜¯å¯¹å±æ€§<code>x</code>ç¼©å°ç±»å‹ï¼Œç¬¬ä¸‰ç§å†™æ³•æ˜¯å¯¹æ•´ä¸ªå¯¹è±¡ç¼©å°ç±»å‹ã€‚</p><p>æ€»ä¹‹ï¼Œ<code>as const</code>ä¼šå°†å­—é¢é‡çš„ç±»å‹æ–­è¨€ä¸ºä¸å¯å˜ç±»å‹ï¼Œç¼©å°æˆ TypeScript å…è®¸çš„æœ€å°ç±»å‹ã€‚</p><p>ä¸‹é¢æ˜¯æ•°ç»„çš„ä¾‹å­ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a1 çš„ç±»å‹æ¨æ–­ä¸º number[]</span></span><br><span class="line"><span class="keyword">const</span> a1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// a2 çš„ç±»å‹æ¨æ–­ä¸º readonly [1, 2, 3]</span></span><br><span class="line"><span class="keyword">const</span> a2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="keyword">as</span> <span class="keyword">const</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ•°ç»„å­—é¢é‡ä½¿ç”¨<code>as const</code>æ–­è¨€åï¼Œç±»å‹æ¨æ–­å°±å˜æˆäº†åªè¯»å…ƒç»„ã€‚</p><p>ç”±äº<code>as const</code>ä¼šå°†æ•°ç»„å˜æˆåªè¯»å…ƒç»„ï¼Œæ‰€ä»¥å¾ˆé€‚åˆç”¨äºå‡½æ•°çš„ rest å‚æ•°ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x:<span class="built_in">number</span>, y:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nums = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">const</span> total = <span class="title function_">add</span>(...nums); <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>nums</code>çš„ç±»å‹æ¨æ–­ä¸º<code>number[]</code>ï¼Œå¯¼è‡´ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦<code>...</code>ä¼ å…¥å‡½æ•°<code>add()</code>ä¼šæŠ¥é”™ï¼Œå› ä¸º<code>add()</code>åªèƒ½æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè€Œ<code>...nums</code>å¹¶ä¸èƒ½ä¿è¯å‚æ•°çš„ä¸ªæ•°ã€‚</p><p>äº‹å®ä¸Šï¼Œå¯¹äºå›ºå®šå‚æ•°ä¸ªæ•°çš„å‡½æ•°ï¼Œå¦‚æœä¼ å…¥çš„å‚æ•°åŒ…å«æ‰©å±•è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆæ‰©å±•è¿ç®—ç¬¦åªèƒ½ç”¨äºå…ƒç»„ã€‚åªæœ‰å½“å‡½æ•°å®šä¹‰ä½¿ç”¨äº† rest å‚æ•°ï¼Œæ‰©å±•è¿ç®—ç¬¦æ‰èƒ½ç”¨äºæ•°ç»„ã€‚</p><p>è§£å†³æ–¹æ³•å°±æ˜¯ä½¿ç”¨<code>as const</code>æ–­è¨€ï¼Œå°†æ•°ç»„å˜æˆå…ƒç»„ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nums = [<span class="number">1</span>, <span class="number">2</span>] <span class="keyword">as</span> <span class="keyword">const</span>;</span><br><span class="line"><span class="keyword">const</span> total = <span class="keyword">add</span>(...nums); <span class="comment">// æ­£ç¡®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œä½¿ç”¨<code>as const</code>æ–­è¨€åï¼Œå˜é‡<code>nums</code>çš„ç±»å‹ä¼šè¢«æ¨æ–­ä¸º<code>readonly [1, 2]</code>ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å±•å¼€åï¼Œæ­£å¥½ç¬¦åˆå‡½æ•°<code>add()</code>çš„å‚æ•°ç±»å‹ã€‚</p><p>Enum æˆå‘˜ä¹Ÿå¯ä»¥ä½¿ç”¨<code>as const</code>æ–­è¨€ã€‚</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> Foo &#123;</span><br><span class="line">  X,</span><br><span class="line">  Y,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> e1 = Foo.X;            <span class="comment">// Foo</span></span><br><span class="line"><span class="keyword">let</span> e2 = Foo.X <span class="keyword">as</span> <span class="keyword">const</span>;   <span class="comment">// Foo.X</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¦‚æœä¸ä½¿ç”¨<code>as const</code>æ–­è¨€ï¼Œå˜é‡<code>e1</code>çš„ç±»å‹è¢«æ¨æ–­ä¸ºæ•´ä¸ª Enum ç±»å‹ï¼›ä½¿ç”¨äº†<code>as const</code>æ–­è¨€ä»¥åï¼Œå˜é‡<code>e2</code>çš„ç±»å‹è¢«æ¨æ–­ä¸º Enum çš„æŸä¸ªæˆå‘˜ï¼Œè¿™æ„å‘³ç€å®ƒä¸èƒ½å˜æ›´ä¸ºå…¶ä»–æˆå‘˜ã€‚</p><h2 id="éç©ºæ–­è¨€">éç©ºæ–­è¨€ <a href="about:blank#%E9%9D%9E%E7%A9%BA%E6%96%AD%E8%A8%80">#</a></h2><p>å¯¹äºé‚£äº›å¯èƒ½ä¸ºç©ºçš„å˜é‡ï¼ˆå³å¯èƒ½ç­‰äº<code>undefined</code>æˆ–<code>null</code>ï¼‰ï¼ŒTypeScript æä¾›äº†éç©ºæ–­è¨€ï¼Œä¿è¯è¿™äº›å˜é‡ä¸ä¼šä¸ºç©ºï¼Œå†™æ³•æ˜¯åœ¨å˜é‡ååé¢åŠ ä¸Šæ„Ÿå¹å·<code>!</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">x?:number|<span class="literal">null</span></span>) &#123;</span><br><span class="line">  <span class="title function_">validateNumber</span>(x); <span class="comment">// è‡ªå®šä¹‰å‡½æ•°ï¼Œç¡®ä¿ x æ˜¯æ•°å€¼</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(x!.<span class="title function_">toFixed</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">validateNumber</span>(<span class="params">e?:number|<span class="literal">null</span></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> e !== <span class="string">&#x27;number&#x27;</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Not a number&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>f()</code>çš„å‚æ•°<code>x</code>çš„ç±»å‹æ˜¯<code>number|null</code>ï¼Œå³å¯èƒ½ä¸ºç©ºã€‚å¦‚æœä¸ºç©ºï¼Œå°±ä¸å­˜åœ¨<code>x.toFixed()</code>æ–¹æ³•ï¼Œè¿™æ ·å†™ä¼šæŠ¥é”™ã€‚ä½†æ˜¯ï¼Œå¼€å‘è€…å¯ä»¥ç¡®è®¤ï¼Œç»è¿‡<code>validateNumber()</code>çš„å‰ç½®æ£€éªŒï¼Œå˜é‡<code>x</code>è‚¯å®šä¸ä¼šä¸ºç©ºï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨éç©ºæ–­è¨€ï¼Œä¸ºå‡½æ•°ä½“å†…éƒ¨çš„å˜é‡<code>x</code>åŠ ä¸Šåç¼€<code>!</code>ï¼Œ<code>x!.toFixed()</code>ç¼–è¯‘å°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p><p>éç©ºæ–­è¨€åœ¨å®é™…ç¼–ç¨‹ä¸­å¾ˆæœ‰ç”¨ï¼Œæœ‰æ—¶å¯ä»¥çœå»ä¸€äº›é¢å¤–çš„åˆ¤æ–­ã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> root = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line">root.addEventListener(<span class="string">&#x27;click&#x27;</span>, e =&gt; &#123;</span><br><span class="line">  <span class="comment">/* ... */</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>getElementById()</code>æœ‰å¯èƒ½è¿”å›ç©ºå€¼<code>null</code>ï¼Œå³å˜é‡<code>root</code>å¯èƒ½ä¸ºç©ºï¼Œè¿™æ—¶å¯¹å®ƒè°ƒç”¨<code>addEventListener()</code>æ–¹æ³•å°±ä¼šæŠ¥é”™ï¼Œé€šä¸è¿‡ç¼–è¯‘ã€‚ä½†æ˜¯ï¼Œå¼€å‘è€…å¦‚æœå¯ä»¥ç¡®è®¤<code>root</code>å…ƒç´ è‚¯å®šä¼šåœ¨ç½‘é¡µä¸­å­˜åœ¨ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨éç©ºæ–­è¨€ã€‚</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> root = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>)!;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>getElementById()</code>æ–¹æ³•åŠ ä¸Šåç¼€<code>!</code>ï¼Œè¡¨ç¤ºè¿™ä¸ªæ–¹æ³•è‚¯å®šè¿”å›éç©ºç»“æœã€‚</p><p>ä¸è¿‡ï¼Œéç©ºæ–­è¨€ä¼šé€ æˆå®‰å…¨éšæ‚£ï¼Œåªæœ‰åœ¨ç¡®å®šä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ä¸ä¸ºç©ºæ—¶æ‰èƒ½ä½¿ç”¨ã€‚æ¯”è¾ƒä¿é™©çš„åšæ³•è¿˜æ˜¯æ‰‹åŠ¨æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦ä¸ºç©ºã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> root = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (root === <span class="literal">null</span>) &#123;</span><br><span class="line">  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Unable to find DOM element #root&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">root.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">/* ... */</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¦‚æœ<code>root</code>ä¸ºç©ºä¼šæŠ›é”™ï¼Œæ¯”éç©ºæ–­è¨€æ›´ä¿é™©ä¸€ç‚¹ã€‚</p><p>éç©ºæ–­è¨€è¿˜å¯ä»¥ç”¨äºèµ‹å€¼æ–­è¨€ã€‚TypeScript æœ‰ä¸€ä¸ªç¼–è¯‘è®¾ç½®ï¼Œè¦æ±‚ç±»çš„å±æ€§å¿…é¡»åˆå§‹åŒ–ï¼ˆå³æœ‰åˆå§‹å€¼ï¼‰ï¼Œå¦‚æœä¸å¯¹å±æ€§èµ‹å€¼å°±ä¼šæŠ¥é”™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  <span class="attr">x</span>:<span class="built_in">number</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line">  <span class="attr">y</span>:<span class="built_in">number</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x:<span class="built_in">number</span>, y:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå±æ€§<code>x</code>å’Œ<code>y</code>ä¼šæŠ¥é”™ï¼Œå› ä¸º TypeScript è®¤ä¸ºå®ƒä»¬æ²¡æœ‰åˆå§‹åŒ–ã€‚</p><p>è¿™æ—¶å°±å¯ä»¥ä½¿ç”¨éç©ºæ–­è¨€ï¼Œè¡¨ç¤ºè¿™ä¸¤ä¸ªå±æ€§è‚¯å®šä¼šæœ‰å€¼ï¼Œè¿™æ ·å°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">  x!:<span class="built_in">number</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line">  y!:<span class="built_in">number</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">x:<span class="built_in">number</span>, y:<span class="built_in">number</span></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œéç©ºæ–­è¨€åªæœ‰åœ¨æ‰“å¼€ç¼–è¯‘é€‰é¡¹<code>strictNullChecks</code>æ—¶æ‰æœ‰æ„ä¹‰ã€‚å¦‚æœä¸æ‰“å¼€è¿™ä¸ªé€‰é¡¹ï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šæ£€æŸ¥æŸä¸ªå˜é‡æ˜¯å¦å¯èƒ½ä¸º<code>undefined</code>æˆ–<code>null</code>ã€‚</p><h2 id="æ–­è¨€å‡½æ•°">æ–­è¨€å‡½æ•° <a href="about:blank#%E6%96%AD%E8%A8%80%E5%87%BD%E6%95%B0">#</a></h2><p>æ–­è¨€å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šå‡½æ•°ï¼Œç”¨äºä¿è¯å‡½æ•°å‚æ•°ç¬¦åˆæŸç§ç±»å‹ã€‚å¦‚æœå‡½æ•°å‚æ•°è¾¾ä¸åˆ°è¦æ±‚ï¼Œå°±ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä¸­æ–­ç¨‹åºæ‰§è¡Œï¼›å¦‚æœè¾¾åˆ°è¦æ±‚ï¼Œå°±ä¸è¿›è¡Œä»»ä½•æ“ä½œï¼Œè®©ä»£ç æŒ‰ç…§æ­£å¸¸æµç¨‹è¿è¡Œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isString</span>(<span class="params">value:unknown</span>):<span class="keyword">void</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value !== <span class="string">&#x27;string&#x27;</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Not a string&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>isString()</code>å°±æ˜¯ä¸€ä¸ªæ–­è¨€å‡½æ•°ï¼Œç”¨æ¥ä¿è¯å‚æ•°<code>value</code>æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦åˆ™å°±ä¼šæŠ›å‡ºé”™è¯¯ï¼Œä¸­æ–­ç¨‹åºçš„æ‰§è¡Œã€‚</p><p>ä¸‹é¢æ˜¯å®ƒçš„ç”¨æ³•ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">toUpper</span>(x: string|number) &#123;</span><br><span class="line">  <span class="keyword">is</span>String(x);</span><br><span class="line">  <span class="keyword">return</span> x.toUpperCase();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>toUpper()</code>çš„å‚æ•°<code>x</code>ï¼Œå¯èƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯èƒ½æ˜¯æ•°å€¼ã€‚ä½†æ˜¯ï¼Œå‡½æ•°ä½“çš„æœ€åä¸€è¡Œè°ƒç”¨<code>toUpperCase()</code>æ–¹æ³•ï¼Œå¿…é¡»ä¿è¯<code>x</code>æ˜¯å­—ç¬¦ä¸²ï¼Œå¦åˆ™æŠ¥é”™ã€‚æ‰€ä»¥ï¼Œè¿™ä¸€è¡Œå‰é¢è°ƒç”¨æ–­è¨€å‡½æ•°<code>isString()</code>ï¼Œè°ƒç”¨ä»¥å TypeScript å°±èƒ½ç¡®å®šï¼Œå˜é‡<code>x</code>ä¸€å®šæ˜¯å­—ç¬¦ä¸²ï¼Œä¸æ˜¯æ•°å€¼ï¼Œä¹Ÿå°±ä¸æŠ¥é”™äº†ã€‚</p><p>ä¼ ç»Ÿçš„æ–­è¨€å‡½æ•°<code>isString()</code>çš„å†™æ³•æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå®ƒçš„å‚æ•°ç±»å‹æ˜¯<code>unknown</code>ï¼Œè¿”å›å€¼ç±»å‹æ˜¯<code>void</code>ï¼ˆå³æ²¡æœ‰è¿”å›å€¼ï¼‰ã€‚å•å•ä»è¿™æ ·çš„ç±»å‹å£°æ˜ï¼Œå¾ˆéš¾çœ‹å‡º<code>isString()</code>æ˜¯ä¸€ä¸ªæ–­è¨€å‡½æ•°ã€‚</p><p>ä¸ºäº†æ›´æ¸…æ™°åœ°è¡¨è¾¾æ–­è¨€å‡½æ•°ï¼ŒTypeScript 3.7 å¼•å…¥äº†æ–°çš„ç±»å‹å†™æ³•ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isString</span>(<span class="params">value:<span class="built_in">unknown</span></span>):asserts value is <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value !== <span class="string">&#x27;string&#x27;</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Not a string&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>isString()</code>çš„è¿”å›å€¼ç±»å‹å†™æˆ<code>asserts value is string</code>ï¼Œå…¶ä¸­<code>asserts</code>å’Œ<code>is</code>éƒ½æ˜¯å…³é”®è¯ï¼Œ<code>value</code>æ˜¯å‡½æ•°çš„å‚æ•°åï¼Œ<code>string</code>æ˜¯å‡½æ•°å‚æ•°çš„é¢„æœŸç±»å‹ã€‚å®ƒçš„æ„æ€æ˜¯ï¼Œè¯¥å‡½æ•°ç”¨æ¥æ–­è¨€å‚æ•°<code>value</code>çš„ç±»å‹æ˜¯<code>string</code>ï¼Œå¦‚æœè¾¾ä¸åˆ°è¦æ±‚ï¼Œç¨‹åºå°±ä¼šåœ¨è¿™é‡Œä¸­æ–­ã€‚</p><p>ä½¿ç”¨äº†æ–­è¨€å‡½æ•°çš„æ–°å†™æ³•ä»¥åï¼ŒTypeScript å°±ä¼šè‡ªåŠ¨è¯†åˆ«ï¼Œåªè¦æ‰§è¡Œäº†è¯¥å‡½æ•°ï¼Œå¯¹åº”çš„å˜é‡éƒ½ä¸ºæ–­è¨€çš„ç±»å‹ã€‚</p><p>æ³¨æ„ï¼Œå‡½æ•°è¿”å›å€¼çš„æ–­è¨€å†™æ³•ï¼Œåªæ˜¯ç”¨æ¥æ›´æ¸…æ™°åœ°è¡¨è¾¾å‡½æ•°æ„å›¾ï¼ŒçœŸæ­£çš„æ£€æŸ¥æ˜¯éœ€è¦å¼€å‘è€…è‡ªå·±éƒ¨ç½²çš„ã€‚è€Œä¸”ï¼Œå¦‚æœå†…éƒ¨çš„æ£€æŸ¥ä¸æ–­è¨€ä¸ä¸€è‡´ï¼ŒTypeScript ä¹Ÿä¸ä¼šæŠ¥é”™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isString</span>(<span class="params">value:<span class="built_in">unknown</span></span>):asserts value is <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value !== <span class="string">&#x27;number&#x27;</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Not a number&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°çš„æ–­è¨€æ˜¯å‚æ•°<code>value</code>ç±»å‹ä¸ºå­—ç¬¦ä¸²ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œå†…éƒ¨æ£€æŸ¥çš„å´æ˜¯å®ƒæ˜¯å¦ä¸ºæ•°å€¼ï¼Œå¦‚æœä¸æ˜¯å°±æŠ›é”™ã€‚è¿™æ®µä»£ç èƒ½å¤Ÿæ­£å¸¸é€šè¿‡ç¼–è¯‘ï¼Œè¡¨ç¤º TypeScript å¹¶ä¸ä¼šæ£€æŸ¥æ–­è¨€ä¸å®é™…çš„ç±»å‹æ£€æŸ¥æ˜¯å¦ä¸€è‡´ã€‚</p><p>å¦å¤–ï¼Œæ–­è¨€å‡½æ•°çš„<code>asserts</code>è¯­å¥ç­‰åŒäº<code>void</code>ç±»å‹ï¼Œæ‰€ä»¥å¦‚æœè¿”å›é™¤äº†<code>undefined</code>å’Œ<code>null</code>ä»¥å¤–çš„å€¼ï¼Œéƒ½ä¼šæŠ¥é”™ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isString</span>(<span class="params">value:<span class="built_in">unknown</span></span>):asserts value is <span class="built_in">string</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value !== <span class="string">&#x27;string&#x27;</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;Not a string&#x27;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæ–­è¨€å‡½æ•°è¿”å›äº†<code>true</code>ï¼Œå¯¼è‡´æŠ¥é”™ã€‚</p><p>ä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">AccessLevel </span>= <span class="string">&#x27;r&#x27;</span> | <span class="string">&#x27;w&#x27;</span> | <span class="symbol">&#x27;rw</span>&#x27;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title">allowsReadAccess</span>(</span><br><span class="line">  level:AccessLevel</span><br><span class="line">):asserts level <span class="keyword">is</span> <span class="string">&#x27;r&#x27;</span> | <span class="symbol">&#x27;rw</span>&#x27; &#123;</span><br><span class="line">  <span class="keyword">if</span> (!level.includes(<span class="string">&#x27;r&#x27;</span>))</span><br><span class="line">    throw <span class="keyword">new</span> Error(<span class="symbol">&#x27;Read</span> <span class="keyword">not</span> allowed&#x27;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>allowsReadAccess()</code>ç”¨æ¥æ–­è¨€å‚æ•°<code>level</code>ä¸€å®šç­‰äº<code>r</code>æˆ–<code>rw</code>ã€‚</p><p>å¦‚æœè¦æ–­è¨€å‚æ•°éç©ºï¼Œå¯ä»¥ä½¿ç”¨å·¥å…·ç±»å‹<code>NonNullable&lt;T&gt;</code>ã€‚</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">assertIsDefined</span>&lt;<span class="title">T</span>&gt;(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">  value:T</span></span></span><br><span class="line"><span class="params"><span class="function"></span>):<span class="title">asserts</span> <span class="title">value</span> <span class="title">is</span> <span class="title">NonNullable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (value === <span class="literal">undefined</span> || value === <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`<span class="subst">$&#123;value&#125;</span> is not defined`</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå·¥å…·ç±»å‹<code>NonNullable&lt;T&gt;</code>å¯¹åº”ç±»å‹<code>T</code>å»é™¤ç©ºç±»å‹åçš„å‰©ä½™ç±»å‹ã€‚</p><p>å¦‚æœè¦å°†æ–­è¨€å‡½æ•°ç”¨äºå‡½æ•°è¡¨è¾¾å¼ï¼Œå¯ä»¥é‡‡ç”¨ä¸‹é¢çš„å†™æ³•ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†™æ³•ä¸€</span></span><br><span class="line"><span class="keyword">const</span> assertIsNumber = (</span><br><span class="line">  <span class="attr">value</span>:<span class="built_in">unknown</span></span><br><span class="line">):asserts value is <span class="built_in">number</span> =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value !== <span class="string">&#x27;number&#x27;</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;Not a number&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•äºŒ</span></span><br><span class="line"><span class="keyword">type</span> <span class="title class_">AssertIsNumber</span> =</span><br><span class="line">  <span class="function">(<span class="params">value:<span class="built_in">unknown</span></span>) =&gt;</span> asserts value is <span class="built_in">number</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">assertIsNumber</span>:<span class="title class_">AssertIsNumber</span> = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> value !== <span class="string">&#x27;number&#x27;</span>)</span><br><span class="line">    <span class="keyword">throw</span> <span class="title class_">Error</span>(<span class="string">&#x27;Not a number&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œæ–­è¨€å‡½æ•°ä¸ç±»å‹ä¿æŠ¤å‡½æ•°ï¼ˆtype guardï¼‰æ˜¯ä¸¤ç§ä¸åŒçš„å‡½æ•°ã€‚å®ƒä»¬çš„åŒºåˆ«æ˜¯ï¼Œæ–­è¨€å‡½æ•°ä¸è¿”å›å€¼ï¼Œè€Œç±»å‹ä¿æŠ¤å‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isString</span><span class="params">(</span></span><br><span class="line"><span class="params">  value:unknown</span></span><br><span class="line"><span class="params">)</span>:value <span class="title function_">is</span> <span class="title function_">string</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">typeof</span> value === <span class="string">&#x27;string&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹å°±æ˜¯ä¸€ä¸ªç±»å‹ä¿æŠ¤å‡½æ•°<code>isString()</code>ï¼Œä½œç”¨æ˜¯æ£€æŸ¥å‚æ•°<code>value</code>æ˜¯å¦ä¸ºå­—ç¬¦ä¸²ã€‚å¦‚æœæ˜¯çš„ï¼Œè¿”å›<code>true</code>ï¼Œå¦åˆ™è¿”å›<code>false</code>ã€‚è¯¥å‡½æ•°çš„è¿”å›å€¼ç±»å‹æ˜¯<code>value is string</code>ï¼Œå…¶ä¸­çš„<code>is</code>æ˜¯ä¸€ä¸ªç±»å‹è¿ç®—ç¬¦ï¼Œå¦‚æœå·¦ä¾§çš„å€¼ç¬¦åˆå³ä¾§çš„ç±»å‹ï¼Œåˆ™è¿”å›<code>true</code>ï¼Œå¦åˆ™è¿”å›<code>false</code>ã€‚</p><p>å¦‚æœè¦æ–­è¨€æŸä¸ªå‚æ•°ä¿è¯ä¸ºçœŸï¼ˆå³ä¸ç­‰äº<code>false</code>ã€<code>undefined</code>å’Œ<code>null</code>ï¼‰ï¼ŒTypeScript æä¾›äº†æ–­è¨€å‡½æ•°çš„ä¸€ç§ç®€å†™å½¢å¼ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">assert</span><span class="params">(x:unknown)</span>:asserts <span class="title function_">x</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>assert()</code>çš„æ–­è¨€éƒ¨åˆ†ï¼Œ<code>asserts x</code>çœç•¥äº†è°“è¯­å’Œå®¾è¯­ï¼Œè¡¨ç¤ºå‚æ•°<code>x</code>ä¿è¯ä¸ºçœŸï¼ˆ<code>true</code>ï¼‰ã€‚</p><p>åŒæ ·çš„ï¼Œå‚æ•°ä¸ºçœŸçš„å®é™…æ£€æŸ¥éœ€è¦å¼€å‘è€…è‡ªå·±å®ç°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">assert</span>(<span class="params">x:unknown</span>):asserts x &#123;</span><br><span class="line">  <span class="keyword">if</span> (!x) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`<span class="subst">$&#123;x&#125;</span> should be a truthy value.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ç§æ–­è¨€å‡½æ•°çš„ç®€å†™å½¢å¼ï¼Œé€šå¸¸ç”¨æ¥æ£€æŸ¥æŸä¸ªæ“ä½œæ˜¯å¦æˆåŠŸã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="title class_">Person</span> = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="built_in">string</span>;</span><br><span class="line">  email?: <span class="built_in">string</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadPerson</span>(<span class="params"></span>): <span class="title class_">Person</span> | <span class="literal">null</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = <span class="title function_">loadPerson</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">assert</span>(<span class="params"></span></span><br><span class="line"><span class="params">  condition: <span class="built_in">unknown</span>,</span></span><br><span class="line"><span class="params">  message: <span class="built_in">string</span></span></span><br><span class="line"><span class="params"></span>):asserts condition &#123;</span><br><span class="line">  <span class="keyword">if</span> (!condition) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Error: Person is not defined</span></span><br><span class="line"><span class="title function_">assert</span>(person, <span class="string">&#x27;Person is not defined&#x27;</span>); </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="property">name</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œåªæœ‰<code>loadPerson()</code>è¿”å›ç»“æœä¸ºçœŸï¼ˆå³æ“ä½œæˆåŠŸï¼‰ï¼Œ<code>assert()</code>æ‰ä¸ä¼šæŠ¥é”™ã€‚</p><h2 id="å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥ <a href="about:blank#%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5">#</a></h2><ul><li><a href="https://mariusschulz.com/blog/const-assertions-in-literal-expressions-in-typescript">Const Assertions in Literal Expressions in TypeScript</a>, Marius Schulz</li><li><a href="https://mariusschulz.com/blog/assertion-functions-in-typescript">Assertion Functions in TypeScript</a>, Marius Schulz</li><li><a href="https://blog.logrocket.com/assertion-functions-typescript/">Assertion functions in TypeScript</a>, Matteo Di Pirro</li></ul><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/assert">https://wangdoc.com/typescript/assert</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript çš„ç±»å‹æ–­è¨€</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript çš„ Enum ç±»å‹</title>
    <link href="https://www.fomal.cc/posts/19.html"/>
    <id>https://www.fomal.cc/posts/19.html</id>
    <published>2023-06-13T10:50:00.000Z</published>
    <updated>2023-06-13T10:50:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1>TypeScript çš„ Enum ç±»å‹</h1><p>ç½‘é“ï¼ˆ<a href="http://WangDoc.com">WangDoc.com</a>ï¼‰ï¼Œäº’è”ç½‘æ–‡æ¡£è®¡åˆ’</p><p>Enum æ˜¯ TypeScript æ–°å¢çš„ä¸€ç§æ•°æ®ç»“æ„å’Œç±»å‹ï¼Œä¸­æ–‡è¯‘ä¸ºâ€œæšä¸¾â€ã€‚</p><h2 id="ç®€ä»‹">ç®€ä»‹ <a href="about:blank#%E7%AE%80%E4%BB%8B">#</a></h2><p>å®é™…å¼€å‘ä¸­ï¼Œç»å¸¸éœ€è¦å®šä¹‰ä¸€ç»„ç›¸å…³çš„å¸¸é‡ã€‚</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> RED = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> GREEN = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> BLUE = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">color</span> = userInput();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">color</span> === RED) &#123;<span class="comment">/* */</span>&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">color</span> === GREEN) &#123;<span class="comment">/* */</span>&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">color</span> === BLUE) &#123;<span class="comment">/* */</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;wrong color&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¸¸é‡<code>RED</code>ã€<code>GREEN</code>ã€<code>BLUE</code>æ˜¯ç›¸å…³çš„ï¼Œæ„ä¸ºå˜é‡<code>color</code>çš„ä¸‰ä¸ªå¯èƒ½çš„å–å€¼ã€‚å®ƒä»¬å…·ä½“ç­‰äºä»€ä¹ˆå€¼å…¶å®å¹¶ä¸é‡è¦ï¼Œåªè¦ä¸ç›¸ç­‰å°±å¯ä»¥äº†ã€‚</p><p>TypeScript å°±è®¾è®¡äº† Enum ç»“æ„ï¼Œç”¨æ¥å°†ç›¸å…³å¸¸é‡æ”¾åœ¨ä¸€ä¸ªå®¹å™¨é‡Œé¢ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚</p><figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">  Red,     <span class="comment">// 0</span></span><br><span class="line">  Green,   <span class="comment">// 1</span></span><br><span class="line">  Blue     <span class="comment">// 2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹å£°æ˜äº†ä¸€ä¸ª Enum ç»“æ„<code>Color</code>ï¼Œé‡Œé¢åŒ…å«ä¸‰ä¸ªæˆå‘˜<code>Red</code>ã€<code>Green</code>å’Œ<code>Blue</code>ã€‚ç¬¬ä¸€ä¸ªæˆå‘˜çš„å€¼é»˜è®¤ä¸ºæ•´æ•°<code>0</code>ï¼Œç¬¬äºŒä¸ªä¸º<code>1</code>ï¼Œç¬¬ä¸‰ä¸ªä¸º<code>2</code>ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>ä½¿ç”¨æ—¶ï¼Œè°ƒç”¨ Enum çš„æŸä¸ªæˆå‘˜ï¼Œä¸è°ƒç”¨å¯¹è±¡å±æ€§çš„å†™æ³•ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ–¹æ‹¬å·è¿ç®—ç¬¦ã€‚</p><figure class="highlight ceylon"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> c = Color.Green; <span class="comment">// 1</span></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> c = Color[<span class="string">&#x27;Green&#x27;</span>]; <span class="comment">// 1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Enum ç»“æ„æœ¬èº«ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ã€‚æ¯”å¦‚ï¼Œä¸Šä¾‹çš„å˜é‡<code>c</code>ç­‰äº<code>1</code>ï¼Œå®ƒçš„ç±»å‹å¯ä»¥æ˜¯ Colorï¼Œä¹Ÿå¯ä»¥æ˜¯<code>number</code>ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="attr">c</span>:<span class="title class_">Color</span> = <span class="title class_">Color</span>.<span class="property">Green</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="keyword">let</span> <span class="attr">c</span>:<span class="built_in">number</span> = <span class="title class_">Color</span>.<span class="property">Green</span>; <span class="comment">// æ­£ç¡®</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>c</code>çš„ç±»å‹å†™æˆ<code>Color</code>æˆ–<code>number</code>éƒ½å¯ä»¥ã€‚ä½†æ˜¯ï¼Œ<code>Color</code>ç±»å‹çš„è¯­ä¹‰æ›´å¥½ã€‚</p><p>Enum ç»“æ„çš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºï¼Œå®ƒæ—¢æ˜¯ä¸€ç§ç±»å‹ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå€¼ã€‚ç»å¤§å¤šæ•° TypeScript è¯­æ³•éƒ½æ˜¯ç±»å‹è¯­æ³•ï¼Œç¼–è¯‘åä¼šå…¨éƒ¨å»é™¤ï¼Œä½†æ˜¯ Enum ç»“æ„æ˜¯ä¸€ä¸ªå€¼ï¼Œç¼–è¯‘åä¼šå˜æˆ JavaScript å¯¹è±¡ï¼Œç•™åœ¨ä»£ç ä¸­ã€‚</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¼–è¯‘å‰</span></span><br><span class="line">enum <span class="title class_">Color</span> <span class="punctuation">&#123;</span></span><br><span class="line">  Red,     <span class="comment">// 0</span></span><br><span class="line">  Green,   <span class="comment">// 1</span></span><br><span class="line">  Blue     <span class="comment">// 2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¼–è¯‘å</span></span><br><span class="line">let C<span class="attr">olor</span> <span class="operator">=</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="symbol">  Red:</span> <span class="number">0</span>,</span><br><span class="line"><span class="symbol">  Green:</span> <span class="number">1</span>,</span><br><span class="line"><span class="symbol">  Blue:</span> <span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹æ˜¯ Enum ç»“æ„ç¼–è¯‘å‰åçš„å¯¹æ¯”ã€‚</p><p>ç”±äº TypeScript çš„å®šä½æ˜¯ JavaScript è¯­è¨€çš„ç±»å‹å¢å¼ºï¼Œæ‰€ä»¥å®˜æ–¹å»ºè®®è°¨æ…ä½¿ç”¨ Enum ç»“æ„ï¼Œå› ä¸ºå®ƒä¸ä»…ä»…æ˜¯ç±»å‹ï¼Œè¿˜ä¼šä¸ºç¼–è¯‘åçš„ä»£ç åŠ å…¥ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>Enum ç»“æ„æ¯”è¾ƒé€‚åˆçš„åœºæ™¯æ˜¯ï¼Œæˆå‘˜çš„å€¼ä¸é‡è¦ï¼Œåå­—æ›´é‡è¦ï¼Œä»è€Œå¢åŠ ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Operator</span> &#123;</span><br><span class="line">  <span class="variable constant_">ADD</span>,</span><br><span class="line">  <span class="variable constant_">DIV</span>,</span><br><span class="line">  <span class="variable constant_">MUL</span>,</span><br><span class="line">  <span class="variable constant_">SUB</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">compute</span>(<span class="params"></span></span><br><span class="line"><span class="params">  op:Operator,</span></span><br><span class="line"><span class="params">  a:<span class="built_in">number</span>,</span></span><br><span class="line"><span class="params">  b:<span class="built_in">number</span></span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Operator</span>.<span class="property">ADD</span>:</span><br><span class="line">      <span class="keyword">return</span> a + b;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Operator</span>.<span class="property">DIV</span>:</span><br><span class="line">      <span class="keyword">return</span> a / b;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Operator</span>.<span class="property">MUL</span>:</span><br><span class="line">      <span class="keyword">return</span> a * b;</span><br><span class="line">    <span class="keyword">case</span> <span class="title class_">Operator</span>.<span class="property">SUB</span>:</span><br><span class="line">      <span class="keyword">return</span> a - b;</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;wrong operator&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">compute</span>(<span class="title class_">Operator</span>.<span class="property">ADD</span>, <span class="number">1</span>, <span class="number">3</span>) <span class="comment">// 4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒEnum ç»“æ„<code>Operator</code>çš„å››ä¸ªæˆå‘˜è¡¨ç¤ºå››åˆ™è¿ç®—â€œåŠ å‡ä¹˜é™¤â€ã€‚ä»£ç æ ¹æœ¬ä¸éœ€è¦ç”¨åˆ°è¿™å››ä¸ªæˆå‘˜çš„å€¼ï¼Œåªç”¨æˆå‘˜åå°±å¤Ÿäº†ã€‚</p><p><a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-5-0.html#enum-overhaul">TypeScript 5.0</a> ä¹‹å‰ï¼ŒEnum æœ‰ä¸€ä¸ª Bugï¼Œå°±æ˜¯ Enum ç±»å‹çš„å˜é‡å¯ä»¥èµ‹å€¼ä¸ºä»»ä½•æ•°å€¼ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">enum Bool &#123;</span><br><span class="line">  No,</span><br><span class="line">  Yes</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function <span class="built_in">foo</span>(noYes:Bool) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">foo</span>(<span class="number">33</span>);  <span class="comment">// TypeScript 5.0 ä¹‹å‰ä¸æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>foo</code>çš„å‚æ•°<code>noYes</code>æ˜¯ Enum ç±»å‹ï¼Œåªæœ‰ä¸¤ä¸ªå¯ç”¨çš„å€¼ã€‚ä½†æ˜¯ï¼ŒTypeScript 5.0 ä¹‹å‰ï¼Œä»»ä½•æ•°å€¼ä½œä¸ºå‡½æ•°<code>foo</code>çš„å‚æ•°ï¼Œç¼–è¯‘éƒ½ä¸ä¼šæŠ¥é”™ï¼ŒTypeScript 5.0 çº æ­£äº†è¿™ä¸ªé—®é¢˜ã€‚</p><p>å¦å¤–ï¼Œç”±äº Enum ç»“æ„ç¼–è¯‘åæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½æœ‰ä¸å®ƒåŒåçš„å˜é‡ï¼ˆåŒ…æ‹¬å¯¹è±¡ã€å‡½æ•°ã€ç±»ç­‰ï¼‰ã€‚</p><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Color &#123;</span><br><span class="line">  Red,</span><br><span class="line">  Green,</span><br><span class="line">  Blue</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Color = <span class="string">&#x27;red&#x27;</span>; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ï¼ŒEnum ç»“æ„ä¸å˜é‡åŒåï¼Œå¯¼è‡´æŠ¥é”™ã€‚</p><p>å¾ˆå¤§ç¨‹åº¦ä¸Šï¼ŒEnum ç»“æ„å¯ä»¥è¢«å¯¹è±¡çš„<code>as const</code>æ–­è¨€æ›¿ä»£ã€‚</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> Foo &#123;</span><br><span class="line">  A,</span><br><span class="line">  B,</span><br><span class="line">  C,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Bar = &#123;</span><br><span class="line">  A: <span class="number">0</span>,</span><br><span class="line">  B: <span class="number">1</span>,</span><br><span class="line">  C: <span class="number">2</span>,</span><br><span class="line">&#125; <span class="keyword">as</span> <span class="keyword">const</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x === Foo.A) &#123;&#125;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">if</span> (x === Bar.A) &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå¯¹è±¡<code>Bar</code>ä½¿ç”¨äº†<code>as const</code>æ–­è¨€ï¼Œä½œç”¨å°±æ˜¯ä½¿å¾—å®ƒçš„å±æ€§æ— æ³•ä¿®æ”¹ã€‚è¿™æ ·çš„è¯ï¼Œ<code>Foo</code>å’Œ<code>Bar</code>çš„è¡Œä¸ºå°±å¾ˆç±»ä¼¼äº†ï¼Œå‰è€…å®Œå…¨å¯ä»¥ç”¨åè€…æ›¿ä»£ï¼Œè€Œä¸”åè€…è¿˜æ˜¯ JavaScript çš„åŸç”Ÿæ•°æ®ç»“æ„ã€‚</p><h2 id="Enum-æˆå‘˜çš„å€¼">Enum æˆå‘˜çš„å€¼ <a href="about:blank#enum-%E6%88%90%E5%91%98%E7%9A%84%E5%80%BC">#</a></h2><p>Enum æˆå‘˜é»˜è®¤ä¸å¿…èµ‹å€¼ï¼Œç³»ç»Ÿä¼šä»é›¶å¼€å§‹é€ä¸€é€’å¢ï¼ŒæŒ‰ç…§é¡ºåºä¸ºæ¯ä¸ªæˆå‘˜èµ‹å€¼ï¼Œæ¯”å¦‚0ã€1ã€2â€¦â€¦</p><p>ä½†æ˜¯ï¼Œä¹Ÿå¯ä»¥ä¸º Enum æˆå‘˜æ˜¾å¼èµ‹å€¼ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">enum</span> <span class="variable">Color</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="built_in">Red</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Green</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Blue</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">//</span> ç­‰åŒäº</span><br><span class="line"><span class="variable">enum</span> <span class="variable">Color</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="built_in">Red</span> <span class="operator">=</span> <span class="number">0</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Green</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Blue</span> <span class="operator">=</span> <span class="number">2</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒEnum æ¯ä¸ªæˆå‘˜çš„å€¼éƒ½æ˜¯æ˜¾å¼èµ‹å€¼ã€‚</p><p>æˆå‘˜çš„å€¼å¯ä»¥æ˜¯ä»»æ„æ•°å€¼ï¼Œä½†ä¸èƒ½æ˜¯å¤§æ•´æ•°ï¼ˆBigintï¼‰ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">enum</span> <span class="variable">Color</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="built_in">Red</span> <span class="operator">=</span> <span class="number">90</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Green</span> <span class="operator">=</span> <span class="number">0.5</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Blue</span> <span class="operator">=</span> <span class="number">7</span><span class="variable">n</span> <span class="operator">//</span> æŠ¥é”™</span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒEnum æˆå‘˜çš„å€¼å¯ä»¥æ˜¯å°æ•°ï¼Œä½†ä¸èƒ½æ˜¯ Bigintã€‚</p><p>æˆå‘˜çš„å€¼ç”šè‡³å¯ä»¥ç›¸åŒã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">enum</span> <span class="variable">Color</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="built_in">Red</span> <span class="operator">=</span> <span class="number">0</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Green</span> <span class="operator">=</span> <span class="number">0</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Blue</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœåªè®¾å®šç¬¬ä¸€ä¸ªæˆå‘˜çš„å€¼ï¼Œåé¢æˆå‘˜çš„å€¼å°±ä¼šä»è¿™ä¸ªå€¼å¼€å§‹é€’å¢ã€‚</p><figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">  Red = <span class="number">7</span>,</span><br><span class="line">  Green,  <span class="comment">// 8</span></span><br><span class="line">  Blue   <span class="comment">// 9</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">  Red, <span class="comment">// 0</span></span><br><span class="line">  Green = <span class="number">7</span>,</span><br><span class="line">  Blue <span class="comment">// 8</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Enum æˆå‘˜çš„å€¼ä¹Ÿå¯ä»¥ä½¿ç”¨è®¡ç®—å¼ã€‚</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">enum Permission &#123;</span><br><span class="line">  UserRead     =<span class="number"> 1 </span>&lt;&lt; 8,</span><br><span class="line">  UserWrite    =<span class="number"> 1 </span>&lt;&lt; 7,</span><br><span class="line">  UserExecute  =<span class="number"> 1 </span>&lt;&lt; 6,</span><br><span class="line">  GroupRead    =<span class="number"> 1 </span>&lt;&lt; 5,</span><br><span class="line">  GroupWrite   =<span class="number"> 1 </span>&lt;&lt; 4,</span><br><span class="line">  GroupExecute =<span class="number"> 1 </span>&lt;&lt; 3,</span><br><span class="line">  AllRead      =<span class="number"> 1 </span>&lt;&lt; 2,</span><br><span class="line">  AllWrite     =<span class="number"> 1 </span>&lt;&lt; 1,</span><br><span class="line">  AllExecute   =<span class="number"> 1 </span>&lt;&lt; 0,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">enum Bool &#123;</span><br><span class="line">  No = 123,</span><br><span class="line">  Yes = Math.random(),</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒEnum æˆå‘˜çš„å€¼ç­‰äºä¸€ä¸ªè®¡ç®—å¼ï¼Œæˆ–è€…ç­‰äºå‡½æ•°çš„è¿”å›å€¼ï¼Œéƒ½æ˜¯æ­£ç¡®çš„ã€‚</p><p>Enum æˆå‘˜å€¼éƒ½æ˜¯åªè¯»çš„ï¼Œä¸èƒ½é‡æ–°èµ‹å€¼ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">enum</span> <span class="variable">Color</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="built_in">Red</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Green</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Blue</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">Color</span><span class="operator">.</span><span class="built_in">Red</span> <span class="operator">=</span> <span class="number">4</span><span class="operator">;</span> <span class="operator">//</span> æŠ¥é”™</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œé‡æ–°ä¸º Enum æˆå‘˜èµ‹å€¼å°±ä¼šæŠ¥é”™ã€‚</p><p>ä¸ºäº†è®©è¿™ä¸€ç‚¹æ›´é†’ç›®ï¼Œé€šå¸¸ä¼šåœ¨ enum å…³é”®å­—å‰é¢åŠ ä¸Š<code>const</code>ä¿®é¥°ï¼Œè¡¨ç¤ºè¿™æ˜¯å¸¸é‡ï¼Œä¸èƒ½å†æ¬¡èµ‹å€¼ã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">const</span> <span class="variable">enum</span> <span class="variable">Color</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="built_in">Red</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Green</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Blue</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŠ ä¸Š<code>const</code>è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯ç¼–è¯‘ä¸º JavaScript ä»£ç åï¼Œä»£ç ä¸­ Enum æˆå‘˜ä¼šè¢«æ›¿æ¢æˆå¯¹åº”çš„å€¼ï¼Œè¿™æ ·èƒ½æé«˜æ€§èƒ½è¡¨ç°ã€‚</p><figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="class"><span class="keyword">enum</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line">  Red,</span><br><span class="line">  Green,</span><br><span class="line">  Blue</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> x = Color.Red;</span><br><span class="line"><span class="keyword">const</span> y = Color.Green;</span><br><span class="line"><span class="keyword">const</span> z = Color.Blue;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¼–è¯‘å</span></span><br><span class="line"><span class="keyword">const</span> x = <span class="number">0</span> <span class="comment">/* Color.Red */</span>;</span><br><span class="line"><span class="keyword">const</span> y = <span class="number">1</span> <span class="comment">/* Color.Green */</span>;</span><br><span class="line"><span class="keyword">const</span> z = <span class="number">2</span> <span class="comment">/* Color.Blue */</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç”±äº Enum ç»“æ„å‰é¢åŠ äº†<code>const</code>å…³é”®å­—ï¼Œæ‰€ä»¥ç¼–è¯‘äº§ç‰©é‡Œé¢å°±æ²¡æœ‰ç”Ÿæˆå¯¹åº”çš„å¯¹è±¡ï¼Œè€Œæ˜¯æŠŠæ‰€æœ‰ Enum æˆå‘˜å‡ºç°çš„åœºåˆï¼Œéƒ½æ›¿æ¢æˆå¯¹åº”çš„å¸¸é‡ã€‚</p><p>å¦‚æœå¸Œæœ›åŠ ä¸Š<code>const</code>å…³é”®è¯åï¼Œè¿è¡Œæ—¶è¿˜èƒ½è®¿é—® Enum ç»“æ„ï¼ˆå³ç¼–è¯‘åä¾ç„¶å°† Enum è½¬æˆå¯¹è±¡ï¼‰ï¼Œéœ€è¦åœ¨ç¼–è¯‘æ—¶æ‰“å¼€<code>preserveConstEnums</code>ç¼–è¯‘é€‰é¡¹ã€‚</p><h2 id="åŒå-Enum-çš„åˆå¹¶">åŒå Enum çš„åˆå¹¶ <a href="about:blank#%E5%90%8C%E5%90%8D-enum-%E7%9A%84%E5%90%88%E5%B9%B6">#</a></h2><p>å¤šä¸ªåŒåçš„ Enum ç»“æ„ä¼šè‡ªåŠ¨åˆå¹¶ã€‚</p><figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  A,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  B = <span class="number">1</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  C = <span class="number">2</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  A,</span><br><span class="line">  B = <span class="number">1</span>ï¼Œ</span><br><span class="line">  C = <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Foo</code>åˆ†æˆä¸‰æ®µå®šä¹‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠå®ƒä»¬åˆå¹¶ã€‚</p><p>Enum ç»“æ„åˆå¹¶æ—¶ï¼Œåªå…è®¸å…¶ä¸­ä¸€ä¸ªçš„é¦–æˆå‘˜çœç•¥åˆå§‹å€¼ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p><figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  A,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  B, <span class="comment">// æŠ¥é”™</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Foo</code>çš„ä¸¤æ®µå®šä¹‰çš„ç¬¬ä¸€ä¸ªæˆå‘˜ï¼Œéƒ½æ²¡æœ‰è®¾ç½®åˆå§‹å€¼ï¼Œå¯¼è‡´æŠ¥é”™ã€‚</p><p>åŒå Enum åˆå¹¶æ—¶ï¼Œä¸èƒ½æœ‰åŒåæˆå‘˜ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p><figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  A,</span><br><span class="line">  B</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  B = <span class="number">1</span>, <span class="comment">// æŠ¥é”™</span></span><br><span class="line">  C</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Foo</code>çš„ä¸¤æ®µå®šä¹‰æœ‰ä¸€ä¸ªåŒåæˆå‘˜<code>B</code>ï¼Œå¯¼è‡´æŠ¥é”™ã€‚</p><p>åŒå Enum åˆå¹¶çš„å¦ä¸€ä¸ªé™åˆ¶æ˜¯ï¼Œæ‰€æœ‰å®šä¹‰å¿…é¡»åŒä¸º const æšä¸¾æˆ–è€…é const æšä¸¾ï¼Œä¸å…è®¸æ··åˆä½¿ç”¨ã€‚</p><figure class="highlight thrift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">E</span> </span>&#123;</span><br><span class="line">  A,</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">E</span> </span>&#123;</span><br><span class="line">  B = <span class="number">1</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="keyword">const</span> <span class="class"><span class="keyword">enum</span> <span class="title">E</span> </span>&#123;</span><br><span class="line">  A,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="class"><span class="keyword">enum</span> <span class="title">E</span> </span>&#123;</span><br><span class="line">  B = <span class="number">1</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">E</span> </span>&#123;</span><br><span class="line">  A,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="class"><span class="keyword">enum</span> <span class="title">E</span> </span>&#123;</span><br><span class="line">  B = <span class="number">1</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åŒå Enum çš„åˆå¹¶ï¼Œæœ€å¤§ç”¨å¤„å°±æ˜¯è¡¥å……å¤–éƒ¨å®šä¹‰çš„ Enum ç»“æ„ã€‚</p><h2 id="å­—ç¬¦ä¸²-Enum">å­—ç¬¦ä¸² Enum <a href="about:blank#%E5%AD%97%E7%AC%A6%E4%B8%B2-enum">#</a></h2><p>Enum æˆå‘˜çš„å€¼é™¤äº†è®¾ä¸ºæ•°å€¼ï¼Œè¿˜å¯ä»¥è®¾ä¸ºå­—ç¬¦ä¸²ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒEnum ä¹Ÿå¯ä»¥ç”¨ä½œä¸€ç»„ç›¸å…³å­—ç¬¦ä¸²çš„é›†åˆã€‚</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">enum</span> Direction &#123;</span><br><span class="line">  <span class="attribute">Up</span> = <span class="string">&#x27;UP&#x27;</span>,</span><br><span class="line">  Down = <span class="string">&#x27;DOWN&#x27;</span>,</span><br><span class="line">  Left = <span class="string">&#x27;LEFT&#x27;</span>,</span><br><span class="line">  Right = <span class="string">&#x27;RIGHT&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>Direction</code>å°±æ˜¯å­—ç¬¦ä¸²æšä¸¾ï¼Œæ¯ä¸ªæˆå‘˜çš„å€¼éƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</p><p>æ³¨æ„ï¼Œå­—ç¬¦ä¸²æšä¸¾çš„æ‰€æœ‰æˆå‘˜å€¼ï¼Œéƒ½å¿…é¡»æ˜¾å¼è®¾ç½®ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œæˆå‘˜å€¼é»˜è®¤ä¸ºæ•°å€¼ï¼Œä¸”ä½ç½®å¿…é¡»åœ¨å­—ç¬¦ä¸²æˆå‘˜ä¹‹å‰ã€‚</p><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> Foo &#123;</span><br><span class="line">  A, <span class="comment">// 0</span></span><br><span class="line">  B = <span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">  C <span class="comment">// æŠ¥é”™</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>A</code>ä¹‹å‰æ²¡æœ‰å…¶ä»–æˆå‘˜ï¼Œæ‰€ä»¥å¯ä»¥ä¸è®¾ç½®åˆå§‹å€¼ï¼Œé»˜è®¤ç­‰äº<code>0</code>ï¼›<code>C</code>ä¹‹å‰æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²æˆå‘˜ï¼Œæ‰€ä»¥<code>C</code>å¿…é¡»æœ‰åˆå§‹å€¼ï¼Œä¸èµ‹å€¼å°±æŠ¥é”™äº†ã€‚</p><p>Enum æˆå‘˜å¯ä»¥æ˜¯å­—ç¬¦ä¸²å’Œæ•°å€¼æ··åˆèµ‹å€¼ã€‚</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="keyword">Enum</span> &#123;</span><br><span class="line">  One = <span class="string">&#x27;One&#x27;</span>,</span><br><span class="line">  Two = <span class="string">&#x27;Two&#x27;</span>,</span><br><span class="line">  Three = <span class="number">3</span>,</span><br><span class="line">  Four = <span class="number">4</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é™¤äº†æ•°å€¼å’Œå­—ç¬¦ä¸²ï¼ŒEnum æˆå‘˜ä¸å…è®¸ä½¿ç”¨å…¶ä»–å€¼ï¼ˆæ¯”å¦‚ Symbol å€¼ï¼‰ã€‚</p><p>å˜é‡ç±»å‹å¦‚æœæ˜¯å­—ç¬¦ä¸² Enumï¼Œå°±ä¸èƒ½å†èµ‹å€¼ä¸ºå­—ç¬¦ä¸²ï¼Œè¿™è·Ÿæ•°å€¼ Enum ä¸ä¸€æ ·ã€‚</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">enum MyEnum &#123;</span><br><span class="line">  <span class="keyword">One</span> = &#x27;<span class="keyword">One</span>&#x27;,</span><br><span class="line">  <span class="keyword">Two</span> = &#x27;<span class="keyword">Two</span>&#x27;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let s = MyEnum.<span class="keyword">One</span>;</span><br><span class="line">s = &#x27;<span class="keyword">One</span>&#x27;; <span class="comment">// æŠ¥é”™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå˜é‡<code>s</code>çš„ç±»å‹æ˜¯<code>MyEnum</code>ï¼Œå†èµ‹å€¼ä¸ºå­—ç¬¦ä¸²å°±æŠ¥é”™ã€‚</p><p>ç”±äºè¿™ä¸ªåŸå› ï¼Œå¦‚æœå‡½æ•°çš„å‚æ•°ç±»å‹æ˜¯å­—ç¬¦ä¸² Enumï¼Œä¼ å‚æ—¶å°±ä¸èƒ½ç›´æ¥ä¼ å…¥å­—ç¬¦ä¸²ï¼Œè€Œè¦ä¼ å…¥ Enum æˆå‘˜ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">enum MyEnum &#123;</span><br><span class="line">  One = <span class="symbol">&#x27;One</span>&#x27;,</span><br><span class="line">  Two = <span class="symbol">&#x27;Two</span>&#x27;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title">f</span>(arg:MyEnum) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">&#x27;arg</span> <span class="keyword">is</span> &#x27; + arg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f(<span class="symbol">&#x27;One</span>&#x27;) // æŠ¥é”™</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‚æ•°ç±»å‹æ˜¯<code>MyEnum</code>ï¼Œç›´æ¥ä¼ å…¥å­—ç¬¦ä¸²ä¼šæŠ¥é”™ã€‚</p><p>æ‰€ä»¥ï¼Œå­—ç¬¦ä¸² Enum ä½œä¸ºä¸€ç§ç±»å‹ï¼Œæœ‰é™å®šå‡½æ•°å‚æ•°çš„ä½œç”¨ã€‚</p><p>å‰é¢è¯´è¿‡ï¼Œæ•°å€¼ Enum çš„æˆå‘˜å€¼å¾€å¾€ä¸é‡è¦ã€‚ä½†æ˜¯æœ‰äº›åœºåˆï¼Œå¼€å‘è€…å¯èƒ½å¸Œæœ› Enum æˆå‘˜å€¼å¯ä»¥ä¿å­˜ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæ‰€ä»¥ TypeScript æ‰è®¾è®¡äº†å­—ç¬¦ä¸² Enumã€‚</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">enum</span> MediaTypes &#123;</span><br><span class="line">  <span class="built_in">JSON</span> = <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">  XML = <span class="string">&#x27;application/xml&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> url = <span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"></span><br><span class="line">fetch(url, &#123;</span><br><span class="line">  headers: &#123;</span><br><span class="line">    Accept: MediaTypes.<span class="built_in">JSON</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;).<span class="keyword">then</span>(response =&gt; &#123;</span><br><span class="line">  <span class="regexp">// ...</span></span><br><span class="line"><span class="regexp">&#125;);</span></span><br><span class="line"><span class="regexp"></span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°<code>fetch()</code>çš„å‚æ•°å¯¹è±¡çš„å±æ€§<code>Accept</code>ï¼Œåªèƒ½æ¥å—ä¸€äº›æŒ‡å®šçš„å­—ç¬¦ä¸²ã€‚è¿™æ—¶å°±å¾ˆé€‚åˆæŠŠå­—ç¬¦ä¸²æ”¾è¿›ä¸€ä¸ª Enum ç»“æ„ï¼Œé€šè¿‡æˆå‘˜å€¼æ¥å¼•ç”¨è¿™äº›å­—ç¬¦ä¸²ã€‚</p><p>å­—ç¬¦ä¸² Enum å¯ä»¥ä½¿ç”¨è”åˆç±»å‹ï¼ˆunionï¼‰ä»£æ›¿ã€‚</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">move</span><span class="params">(</span></span><br><span class="line"><span class="params">  where:<span class="string">&#x27;Up&#x27;</span>|<span class="string">&#x27;Down&#x27;</span>|<span class="string">&#x27;Left&#x27;</span>|<span class="string">&#x27;Right&#x27;</span></span></span><br><span class="line"><span class="params">)</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œå‡½æ•°å‚æ•°<code>where</code>å±äºè”åˆç±»å‹ï¼Œæ•ˆæœè·ŸæŒ‡å®šä¸ºå­—ç¬¦ä¸² Enum æ˜¯ä¸€æ ·çš„ã€‚</p><p>æ³¨æ„ï¼Œå­—ç¬¦ä¸² Enum çš„æˆå‘˜å€¼ï¼Œä¸èƒ½ä½¿ç”¨è¡¨è¾¾å¼èµ‹å€¼ã€‚</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">enum</span> MyEnum &#123;</span><br><span class="line">  A = <span class="string">&#x27;one&#x27;</span>,</span><br><span class="line">  B = [<span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;o&#x27;</span>].<span class="keyword">join</span>(<span class="string">&#x27;&#x27;</span>) <span class="comment">// æŠ¥é”™</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæˆå‘˜<code>B</code>çš„å€¼æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼Œå¯¼è‡´æŠ¥é”™ã€‚</p><h2 id="keyof-è¿ç®—ç¬¦">keyof è¿ç®—ç¬¦ <a href="about:blank#keyof-%E8%BF%90%E7%AE%97%E7%AC%A6">#</a></h2><p>keyof è¿ç®—ç¬¦å¯ä»¥å–å‡º Enum ç»“æ„çš„æ‰€æœ‰æˆå‘˜åï¼Œä½œä¸ºè”åˆç±»å‹è¿”å›ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">enum MyEnum &#123;</span><br><span class="line">  A = <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">  B = <span class="string">&#x27;b&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// <span class="string">&#x27;A&#x27;</span>|<span class="string">&#x27;B&#x27;</span></span><br><span class="line"><span class="keyword">type</span> <span class="type">Foo </span>= keyof typeof MyEnum;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œ<code>keyof typeof MyEnum</code>å¯ä»¥å–å‡º<code>MyEnum</code>çš„æ‰€æœ‰æˆå‘˜åï¼Œæ‰€ä»¥ç±»å‹<code>Foo</code>ç­‰åŒäºè”åˆç±»å‹<code>'A'|'B'</code>ã€‚</p><p>æ³¨æ„ï¼Œè¿™é‡Œçš„<code>typeof</code>æ˜¯å¿…éœ€çš„ï¼Œå¦åˆ™<code>keyof MyEnum</code>ç›¸å½“äº<code>keyof string</code>ã€‚</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> <span class="type">Foo </span>= keyof MyEnum;</span><br><span class="line">// number | typeof Symbol.iterator | <span class="string">&quot;toString&quot;</span> | <span class="string">&quot;charAt&quot;</span> | <span class="string">&quot;charCodeAt&quot;</span> | ...</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œç±»å‹<code>Foo</code>ç­‰äºç±»å‹<code>string</code>çš„æ‰€æœ‰åŸç”Ÿå±æ€§åç»„æˆçš„è”åˆç±»å‹ã€‚è¿™æ˜¯<code>MyEnum</code>ä¸ºå­—ç¬¦ä¸² Enum çš„ç»“æœï¼Œå¦‚æœ<code>MyEnum</code>æ˜¯æ•°å€¼ Enumï¼Œé‚£ä¹ˆ<code>keyof MyEnum</code>ç›¸å½“äº<code>keyof number</code>ã€‚</p><p>è¿™æ˜¯å› ä¸º Enum ä½œä¸ºç±»å‹ï¼Œæœ¬è´¨ä¸Šå±äº<code>number</code>æˆ–<code>string</code>çš„ä¸€ç§å˜ä½“ï¼Œè€Œ<code>typeof MyEnum</code>ä¼šå°†<code>MyEnum</code>å½“ä½œä¸€ä¸ªå€¼å¤„ç†ï¼Œä»è€Œå…ˆå…¶è½¬ä¸ºå¯¹è±¡ç±»å‹ï¼Œå°±å¯ä»¥å†ç”¨<code>keyof</code>è¿ç®—ç¬¦è¿”å›è¯¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§åã€‚</p><p>å¦‚æœè¦è¿”å› Enum æ‰€æœ‰çš„æˆå‘˜å€¼ï¼Œå¯ä»¥ä½¿ç”¨<code>in</code>è¿ç®—ç¬¦ã€‚</p><figure class="highlight elm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">enum</span> <span class="type">MyEnum</span> &#123;</span><br><span class="line">  <span class="type">A</span> = <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">  <span class="type">B</span> = <span class="string">&#x27;b&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// &#123; a: any, b: any &#125;</span><br><span class="line"><span class="keyword">type</span> <span class="type">Foo</span> = &#123; [key in <span class="type">MyEnum</span>]: any &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œé‡‡ç”¨å±æ€§ç´¢å¼•å¯ä»¥å–å‡º<code>MyEnum</code>çš„æ‰€æœ‰æˆå‘˜å€¼ã€‚</p><h2 id="åå‘æ˜ å°„">åå‘æ˜ å°„ <a href="about:blank#%E5%8F%8D%E5%90%91%E6%98%A0%E5%B0%84">#</a></h2><p>æ•°å€¼ Enum å­˜åœ¨åå‘æ˜ å°„ï¼Œå³å¯ä»¥é€šè¿‡æˆå‘˜å€¼è·å¾—æˆå‘˜åã€‚</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">enum</span> <span class="variable">Weekdays</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="built_in">Monday</span> <span class="operator">=</span> <span class="number">1</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Tuesday</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Wednesday</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Thursday</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Friday</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Saturday</span><span class="operator">,</span></span><br><span class="line">  <span class="built_in">Sunday</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="variable">console</span><span class="operator">.</span><span class="variable">log</span><span class="punctuation">(</span><span class="variable">Weekdays</span><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">)</span> <span class="operator">//</span> <span class="built_in">Wednesday</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç¤ºä¾‹ä¸­ï¼ŒEnum æˆå‘˜<code>Wednesday</code>çš„å€¼ç­‰äº3ï¼Œä»è€Œå¯ä»¥ä»æˆå‘˜å€¼<code>3</code>å–åˆ°å¯¹åº”çš„æˆå‘˜å<code>Wednesday</code>ï¼Œè¿™å°±å«åå‘æ˜ å°„ã€‚</p><p>è¿™æ˜¯å› ä¸º TypeScript ä¼šå°†ä¸Šé¢çš„ Enum ç»“æ„ï¼Œç¼–è¯‘æˆä¸‹é¢çš„ JavaScript ä»£ç ã€‚</p><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var <span class="symbol">Weekdays</span>;</span><br><span class="line">(function (<span class="symbol">Weekdays</span>) &#123;</span><br><span class="line">    <span class="symbol">Weekdays</span>[<span class="symbol">Weekdays</span>[<span class="string">&quot;Monday&quot;</span>] = <span class="number">1</span>] = <span class="string">&quot;Monday&quot;</span>;</span><br><span class="line">    <span class="symbol">Weekdays</span>[<span class="symbol">Weekdays</span>[<span class="string">&quot;Tuesday&quot;</span>] = <span class="number">2</span>] = <span class="string">&quot;Tuesday&quot;</span>;</span><br><span class="line">    <span class="symbol">Weekdays</span>[<span class="symbol">Weekdays</span>[<span class="string">&quot;Wednesday&quot;</span>] = <span class="number">3</span>] = <span class="string">&quot;Wednesday&quot;</span>;</span><br><span class="line">    <span class="symbol">Weekdays</span>[<span class="symbol">Weekdays</span>[<span class="string">&quot;Thursday&quot;</span>] = <span class="number">4</span>] = <span class="string">&quot;Thursday&quot;</span>;</span><br><span class="line">    <span class="symbol">Weekdays</span>[<span class="symbol">Weekdays</span>[<span class="string">&quot;Friday&quot;</span>] = <span class="number">5</span>] = <span class="string">&quot;Friday&quot;</span>;</span><br><span class="line">    <span class="symbol">Weekdays</span>[<span class="symbol">Weekdays</span>[<span class="string">&quot;Saturday&quot;</span>] = <span class="number">6</span>] = <span class="string">&quot;Saturday&quot;</span>;</span><br><span class="line">    <span class="symbol">Weekdays</span>[<span class="symbol">Weekdays</span>[<span class="string">&quot;Sunday&quot;</span>] = <span class="number">7</span>] = <span class="string">&quot;Sunday&quot;</span>;</span><br><span class="line">&#125;)(<span class="symbol">Weekdays</span> || (<span class="symbol">Weekdays</span> = &#123;&#125;));</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä¸­ï¼Œå®é™…è¿›è¡Œäº†ä¸¤ç»„èµ‹å€¼ï¼Œä»¥ç¬¬ä¸€ä¸ªæˆå‘˜ä¸ºä¾‹ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Weekdays[</span><br><span class="line">  Weekdays[<span class="string">&quot;Monday&quot;</span>] <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">] <span class="operator">=</span> <span class="string">&quot;Monday&quot;</span><span class="comment">;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç æœ‰ä¸¤ä¸ªèµ‹å€¼è¿ç®—ç¬¦ï¼ˆ<code>=</code>ï¼‰ï¼Œå®é™…ä¸Šç­‰åŒäºä¸‹é¢çš„ä»£ç ã€‚</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Weekdays[<span class="string">&quot;Monday&quot;</span>] <span class="operator">=</span> <span class="number">1</span><span class="comment">;</span></span><br><span class="line">Weekdays[<span class="number">1</span>] <span class="operator">=</span> <span class="string">&quot;Monday&quot;</span><span class="comment">;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè¿™ç§æƒ…å†µåªå‘ç”Ÿåœ¨æ•°å€¼ Enumï¼Œå¯¹äºå­—ç¬¦ä¸² Enumï¼Œä¸å­˜åœ¨åå‘æ˜ å°„ã€‚è¿™æ˜¯å› ä¸ºå­—ç¬¦ä¸² Enum ç¼–è¯‘ååªæœ‰ä¸€ç»„èµ‹å€¼ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">MyEnum</span> </span>&#123;</span><br><span class="line">  A = <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">  B = <span class="string">&#x27;b&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¼–è¯‘å</span></span><br><span class="line"><span class="keyword">var</span> MyEnum;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">MyEnum</span>) </span>&#123;</span><br><span class="line">    MyEnum[<span class="string">&quot;A&quot;</span>] = <span class="string">&quot;a&quot;</span>;</span><br><span class="line">    MyEnum[<span class="string">&quot;B&quot;</span>] = <span class="string">&quot;b&quot;</span>;</span><br><span class="line">&#125;)(MyEnum || (MyEnum = &#123;&#125;));</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ¬æ–‡è½¬è‡ª <a href="https://wangdoc.com/typescript/enum">https://wangdoc.com/typescript/enum</a>ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚</p>]]></content>
    
    
    <summary type="html">??TypeScript çš„ Enum ç±»å‹</summary>
    
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="https://www.fomal.cc/tags/TypeScript/"/>
    
  </entry>
  
</feed>
